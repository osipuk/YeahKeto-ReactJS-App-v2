(function(e){var n={};function t(i){if(n[i]){return n[i].exports}var a=n[i]={i:i,l:!1,exports:{}};e[i].call(a.exports,a,a.exports,t);a.l=!0;return a.exports}t.m=e;t.c=n;t.d=function(e,n,i){if(!t.o(e,n)){Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})}};t.n=function(e){var n=e&&e.__esModule?function(){return e['default']}:function(){return e};t.d(n,'a',n);return n};t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};t.p='';return t(t.s=336)})([function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var i=n(8);null==i.a.Wistia&&(i.a.Wistia={});var a=i.a.Wistia;null==a._initializers&&(a._initializers={}),null==a._destructors&&(a._destructors={}),null==a.mixin&&(a.mixin=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])});t['default']=i.a.Wistia;
},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});n.d(t,'ERROR',function(){return s});n.d(t,'WARNING',function(){return d});n.d(t,'NOTICE',function(){return p});n.d(t,'INFO',function(){return u});n.d(t,'DEBUG',function(){return c});n.d(t,'LOG_LEVELS',function(){return m});n.d(t,'Logger',function(){return g});n.d(t,'wlog',function(){return w});var a=n(4),r=n(0);function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var l=Object(a.cachedDetect)(),s=0,d=1,p=2,u=3,c=4,m={ERROR:s,WARNING:d,NOTICE:p,INFO:u,DEBUG:c,error:s,warning:d,notice:p,info:u,debug:c},h=function(){},g=function(e){var t=this;null==e&&(e={});return t.error=function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.log(s,n)},t.warn=function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.log(d,n)},t.notice=function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.log(d,n)},t.info=function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.log(u,n)},t.debug=function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.log(c,n)},function(){t.ctx=e,t.ctx.initializedAt||t.reset()}(),t},y=g.prototype;y.reset=function(){this.ctx.level=s,this.ctx.grep=null,this.ctx.grepv=null,this.ctx.first1000LogLines=[],this.ctx.last1000LogLines=[],this.ctx.initializedAt=new Date().getTime()},y.setLevel=function(e){var t=this.logFunc(u);null==m[e]?t('Unknown log level "'+e+'"'):(this.ctx.level=m[e],t('Log level set to "'+e+'" ('+m[e]+')'))},y.setGrep=function(e){this.ctx.grep=e},y.setGrepv=function(e){this.ctx.grepv=e},y.first1000LogLines=function(){return this.ctx.first1000LogLines},y.last1000LogLines=function(){return this.ctx.last1000LogLines},y.matchedGrep=function(e){var t=!1;if(this.ctx.grep||this.ctx.grepv){for(var n=[],a=0;a<e.length;a++)try{var i=e[a];n.push(i.toString&&i.toString())}catch(t){n.push('')}var r=n.join(' '),l=!this.ctx.grep||r.match(this.ctx.grep),s=!this.ctx.grepv||!r.match(this.ctx.grepv);t=l&&s}else t=!0;return t},y.now=function(){return'undefined'!=typeof performance&&'function'==typeof performance.now?performance.now().toFixed(3):Date.now?Date.now()-this.ctx.initializedAt:new Date().getTime()-this.ctx.initializedAt},y.messagesToLogLine=function(e,t,n){var i=[e,t];i=i.concat(n);var a;try{a=i.join(' ')||'',200<a.length&&(a=a.slice(0,200))}catch(e){a='could not serialize'}return a},y.persistLine=function(e){1e3>this.ctx.first1000LogLines.length?this.ctx.first1000LogLines.push(e):(1e3<=this.ctx.last1000LogLines.length&&this.ctx.last1000LogLines.shift(),this.ctx.last1000LogLines.push(e))},y.log=function(t,n){var a,r=t<=this.ctx.level,s=t<c,d=(r||s)&&this.matchedGrep(n);if(d&&(r||s)&&(a=this.now()),s&&d){var p=this.messagesToLogLine(t,a,n);this.persistLine(p)}if(r&&d){var u,e=this.logFunc(t);1===n.length&&(u=n[0])instanceof Error?(e(u.message),u.stack&&e(u.stack)):l.browser.msie&&(9>l.browser.version||l.browser.quirks)?e(n.join(' ')):e.apply(void 0,i(n))}};var f=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];console.error.apply(console,t)},_=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];console.warn.apply(console,t)},b=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];console.info.apply(console,t)},v=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];console.debug.apply(console,t)},A=function(e){console.log.apply(console,e)};y.logFunc=function(e){if(null==e&&(e=this.level),!console)return h;var t;return e===s?t=f:e===d?t=_:e===u?t=b:e===c&&(t=v),t||(t=A),'function'!=typeof t&&(this.noConsoleLog=!0,t=h),t},y.maybePrefix=function(t,e){if(t){if('function'==typeof t)try{t=t()}catch(n){t='prefix err "'+n.message+'"'}return t instanceof Array?t.concat(e):[t].concat(e)}return e},y.getPrefixedFunctions=function(e){var t=this;return{log:function(){for(var n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];return t.log(s,t.maybePrefix(e,i))},error:function(){for(var n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];return t.log(s,t.maybePrefix(e,i))},warn:function(){for(var n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];return t.log(d,t.maybePrefix(e,i))},notice:function(){for(var n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];return t.log(d,t.maybePrefix(e,i))},info:function(){for(var n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];return t.log(u,t.maybePrefix(e,i))},debug:function(){for(var n=arguments.length,i=Array(n),a=0;a<n;a++)i[a]=arguments[a];return t.log(c,t.maybePrefix(e,i))}}},r['default']&&null==r['default'].wlogCtx&&(r['default'].wlogCtx={});var w=new g(r['default'].wlogCtx);
},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});n.d(t,'merge',function(){return l});n.d(t,'mergeOne',function(){return s});n.d(t,'identityFunc',function(){return d});n.d(t,'legacyShouldDeleteFromMerge',function(){return p});n.d(t,'clone',function(){return u});n.d(t,'get',function(){return c});n.d(t,'set',function(){return m});n.d(t,'unset',function(){return h});n.d(t,'exists',function(){return g});n.d(t,'assign',function(){return y});n.d(t,'cast',function(){return _});n.d(t,'castDeep',function(){return b});n.d(t,'only',function(){return v});n.d(t,'except',function(){return A});n.d(t,'select',function(){return w});n.d(t,'filter',function(){return P});n.d(t,'values',function(){return k});n.d(t,'sort',function(){return C});n.d(t,'isArray',function(){return x});n.d(t,'isObject',function(){return I});n.d(t,'isFunction',function(){return B});n.d(t,'isRegExp',function(){return M});n.d(t,'isBasicType',function(){return F});n.d(t,'isEmpty',function(){return L});n.d(t,'isSubsetDeep',function(){return N});n.d(t,'equalsDeep',function(){return W});n.d(t,'eachDeep',function(){return H});n.d(t,'eachLeaf',function(){return R});n.d(t,'keys',function(){return U});n.d(t,'pick',function(){return z});n.d(t,'indexOf',function(){return G});var a='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},r=this,i=Array.prototype.slice,l=function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];if(0===n.length)return e;for(var r=0;r<n.length;r++)s(e,n[r]);return e},s=function e(t,n){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:d,r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:p;if(x(n)){x(t)||(t=[]);for(var l=0;l<n.length;l++){var i=n[l],s=e(t[l],i);r(n,l,s)?delete t[l]:t[l]=s}return a(t)}if(I(n)){for(var u in n){var c=n[u];x(c)?(!x(t[u])&&(t[u]=[]),e(t[u],c)):I(c)?(!I(t[u])&&(t[u]={}),e(t[u],c)):null==t?(t={},!r(n,u,c)&&(t[u]=c)):r(n,u,c)?delete t[u]:t[u]=c}return a(t)}return a(n)},d=function(e){return e},p=function(e,t,n){return null==n},u=function(e){return x(e)?l([],e):l({},e)},c=function(e,t,n){t='string'==typeof t?t.split('.'):i.call(t);for(var a,r=e,l;null!=e&&t.length;){l=t.shift();e[l]!==void 0&&(I(e[l])||x(e[l]))||!n||(0===l?(e=r[a]=[],e[l]={}):e[l]={}),r=e,a=l,e=e[l]}return e},m=function(e,t,n){t='string'==typeof t?t.split('.'):i.call(t);var a=t.pop();e=c(e,t,!0);null!=e&&(I(e)||x(e))&&null!=a&&(null==n?delete e[a]:e[a]=n)},h=function(e,t){return m(e,t)},g=function(e,t){return c(e,t)!==void 0},y=function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];for(var r=0;r<n.length;r++)f(e,n[r]);return e},f=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},_=function(e){if(null==e)return e;if(I(e)||x(e))return b(e);var t=''+e;return /^\-?[1-9]\d*?$/.test(t)?parseInt(t,10):'0'==t?0:/^\-?\d*\.\d+$/.test(t)?parseFloat(t):!!/^true$/i.test(t)||!/^false$/i.test(t)&&e},b=function(e){return R(e,function(e,t,n,i){'string'==typeof e&&(n[i]=_(e))}),e},v=function(e,t){for(var n={},a={},r=0;r<t.length;r++)a[t[r]]=!0;for(var i in e)a[i]&&(n[i]=e[i]);return n},A=function(e,t){for(var n={},a={},r=0;r<t.length;r++)a[t[r]]=!0;for(var i in e)a[i]||(n[i]=e[i]);return n},w=function(e,t){for(var n,a=[],r='function'==typeof t,l=r?t:null,s=0;s<e.length;s++)if(n=e[s],r)l(n)&&a.push(n);else{var i=!0;for(var d in t){var p=t[d];if(p instanceof Array){if(!n[d]||n[d]<p[0]||n[d]>p[1]){i=!1;break}}else if(p instanceof RegExp){if(!p.test(n[d])){i=!1;break}}else if(p instanceof E){for(var u,c=!1,m=0;m<p.values.length;m++)if(u=p.values[m],n[d]===u){c=!0;break}if(!c){i=!1;break}}else if('function'==typeof p){if(null==n[d]||!p(n[d])){i=!1;break}}else if(n[d]!==p){i=!1;break}}i&&a.push(n)}return a},E=function(e){var t=this;return function(){t.values=e}(),t},k=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return new E(t)},C=function(e,t){var n='function'==typeof t,a=n?t:null,r=i.call(e);return n?r.sort(a):r.sort(function(e,n){var i=t instanceof Array?u(t):t.split(/\s*,\s*/);for(var a=0;0==a&&0<i.length;){var r=i.shift().split(/\s+/),l=r[0],s=r[1];if(s='desc'===s?-1:1,e[l]<n[l]){a=-1*s;break}else if(e[l]===n[l])a=0;else{a=1*s;break}}return a}),r},P=function(e,t,n){for(var a=n===void 0?r:n,l=[],s=0;s<e.length;s++)t.call(a,e[s],s,e)&&l.push(e[s]);return l},S=/^\s*function Array()/,x=function(e){return null!=e&&e.push&&S.test(e.constructor)},T=/^\s*function Object()/,I=function(e){return null!=e&&'object'===('undefined'==typeof e?'undefined':a(e))&&T.test(e.constructor)},B=function(e){return null!=e&&'function'==typeof e},O=/^\s*function RegExp()/,M=function(e){return null!=e&&O.test(e.constructor)},D=/^string|number|boolean|function$/i,F=function(e){return null!=e&&(D.test('undefined'==typeof e?'undefined':a(e))||M(e))},L=function(e){if(null==e)return!0;if(x(e)&&!e.length)return!0;if(I(e)){var t=!0;for(var n in e){t=!1;break}return t}return!1},N=function(e,t){if(e===t)return!0;if(null!=e&&null==t||null==e&&null!=t)return!1;var n=!0;return R(e,function(e,i){var a=c(t,i);e!==a&&(n=!1)}),n},W=function(e,t){return N(e,t)&&N(t,e)},H=function e(t,n,a,r,l){if(null==a&&(a=[]),F(t))n(t,a,r,l);else if(I(t)||x(t)){for(var s in n(t,a,r,l),t)if(t.hasOwnProperty(s)){var d=i.call(a);d.push(s),e(t[s],n,d,t,s)}}else n(t,a,r,l)},R=function(e,t){H(e,function(e,n,i,a){x(e)||I(e)||t(e,n,i,a)})},j=!{toString:null}.propertyIsEnumerable('toString'),V=['toString','toLocaleString','valueOf','hasOwnProperty','isPrototypeOf','propertyIsEnumerable','constructor'],U=function(e){if(Object.keys)return Object.keys(e);if('object'!==('undefined'==typeof o?'undefined':a(o))&&'function'!=typeof o||null===o)throw new TypeError('Object.keys called on a non-object');var t=[];if(j)for(var n,r=0;r<V.length;r++)n=V[r],o.hasOwnProperty(n)&&t.push(n);else for(var i in o)t.push(i);return t},z=function(e,t){for(var n,a={},r=0;r<t.length;r++)n=t[r],a[n]=e[n];return a},G=function(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1};
},function(e,t,n){'use strict';n.d(t,'c',function(){return i});n.d(t,'a',function(){return O});n.d(t,'d',function(){return M});function a(){}var D={},F=[],L=[];function i(e,t){var n,r,l,s,i=L;for(s=arguments.length;2<s--;)F.push(arguments[s]);for(t&&null!=t.children&&(!F.length&&F.push(t.children),delete t.children);F.length;)if((r=F.pop())&&void 0!==r.pop)for(s=r.length;s--;)F.push(r[s]);else'boolean'==typeof r&&(r=null),(l='function'!=typeof e)&&(null==r?r='':'number'==typeof r?r+='':'string'!=typeof r&&(l=!1)),l&&n?i[i.length-1]+=r:i===L?i=[r]:i.push(r),n=l;var d=new a;return d.nodeName=e,d.children=i,d.attributes=null==t?void 0:t,d.key=null==t?void 0:t.key,void 0!==D.vnode&&D.vnode(d),d}function r(e,t){for(var n in t)e[n]=t[n];return e}var N='function'==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout;var W=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,H=[];function l(e){!e._dirty&&(e._dirty=!0)&&1==H.push(e)&&(D.debounceRendering||N)(s)}function s(){var e,t=H;for(H=[];e=t.pop();)e._dirty&&T(e)}function d(e,t,n){return'string'==typeof t||'number'==typeof t?void 0!==e.splitText:'string'==typeof t.nodeName?!e._componentConstructor&&p(e,t.nodeName):n||e._componentConstructor===t.nodeName}function p(e,t){return e.normalizedNodeName===t||e.nodeName.toLowerCase()===t.toLowerCase()}function u(e){var t=r({},e.attributes);t.children=e.children;var n=e.nodeName.defaultProps;if(n!==void 0)for(var a in n)void 0===t[a]&&(t[a]=n[a]);return t}function c(e,t){var n=t?document.createElementNS('http://www.w3.org/2000/svg',e):document.createElement(e);return n.normalizedNodeName=e,n}function m(e){var t=e.parentNode;t&&t.removeChild(e)}function g(e,t,n,a,r){if('className'===t&&(t='class'),'key'===t);else if('ref'===t)n&&n(null),a&&a(e);else if('class'===t&&!r)e.className=a||'';else if('style'===t){if(a&&'string'!=typeof a&&'string'!=typeof n||(e.style.cssText=a||''),a&&'object'==typeof a){if('string'!=typeof n)for(var l in n)l in a||(e.style[l]='');for(var l in a)e.style[l]='number'==typeof a[l]&&!1===W.test(l)?a[l]+'px':a[l]}}else if('dangerouslySetInnerHTML'===t)a&&(e.innerHTML=a.__html||'');else if('o'==t[0]&&'n'==t[1]){var i=t!==(t=t.replace(/Capture$/,''));t=t.toLowerCase().substring(2),a?!n&&e.addEventListener(t,f,i):e.removeEventListener(t,f,i),(e._listeners||(e._listeners={}))[t]=a}else if('list'!==t&&'type'!==t&&!r&&t in e)y(e,t,null==a?'':a),(null==a||!1===a)&&e.removeAttribute(t);else{var s=r&&t!==(t=t.replace(/^xlink\:?/,''));null==a||!1===a?s?e.removeAttributeNS('http://www.w3.org/1999/xlink',t.toLowerCase()):e.removeAttribute(t):'function'!=typeof a&&(s?e.setAttributeNS('http://www.w3.org/1999/xlink',t.toLowerCase(),a):e.setAttribute(t,a))}}function y(e,t,n){try{e[t]=n}catch(t){}}function f(t){return this._listeners[t.type](D.event&&D.event(t)||t)}var R=[],j=0,V=!1,U=!1;function _(){for(var e;e=R.pop();)D.afterMount&&D.afterMount(e),e.componentDidMount&&e.componentDidMount()}function b(e,t,n,i,a,r){j++||(V=null!=a&&void 0!==a.ownerSVGElement,U=null!=e&&!('__preactattr_'in e));var l=v(e,t,n,i,r);return a&&l.parentNode!==a&&a.appendChild(l),--j||(U=!1,!r&&_()),l}function v(e,t,n,r,l){var s=e,d=V;if((null==t||'boolean'==typeof t)&&(t=''),'string'==typeof t||'number'==typeof t)return e&&void 0!==e.splitText&&e.parentNode&&(!e._component||l)?e.nodeValue!=t&&(e.nodeValue=t):(s=document.createTextNode(t),e&&(e.parentNode&&e.parentNode.replaceChild(s,e),w(e,!0))),s.__preactattr_=!0,s;var u=t.nodeName;if('function'==typeof u)return I(e,t,n,r);if(V='svg'===u||'foreignObject'!==u&&V,u+='',(!e||!p(e,u))&&(s=c(u,V),e)){for(;e.firstChild;)s.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(s,e),w(e,!0)}var m=s.firstChild,h=s.__preactattr_,g=t.children;if(null==h){h=s.__preactattr_={};for(var y=s.attributes,a=y.length;a--;)h[y[a].name]=y[a].value}return!U&&g&&1===g.length&&'string'==typeof g[0]&&null!=m&&void 0!==m.splitText&&null==m.nextSibling?m.nodeValue!=g[0]&&(m.nodeValue=g[0]):(g&&g.length||null!=m)&&A(s,g,n,r,U||null!=h.dangerouslySetInnerHTML),E(s,t.attributes,h),V=d,s}function A(e,t,n,a,r){var l,s,p,u,c,h=e.childNodes,g=[],y={},f=0,_=0,b=h.length,A=0,k=t?t.length:0;if(0!==b)for(var E=0;E<b;E++){var i=h[E],C=i.__preactattr_,P=k&&C?i._component?i._component.__key:C.key:null;null==P?(C||(void 0===i.splitText?r:!r||i.nodeValue.trim()))&&(g[A++]=i):(f++,y[P]=i)}if(0!==k)for(var E=0;E<k;E++){u=t[E],c=null;var P=u.key;if(null!=P)f&&void 0!==y[P]&&(c=y[P],y[P]=void 0,f--);else if(!c&&_<A)for(l=_;l<A;l++)if(void 0!==g[l]&&d(s=g[l],u,r)){c=s,g[l]=void 0,l===A-1&&A--,l===_&&_++;break}c=v(c,u,n,a),p=h[E],c&&c!==e&&c!==p&&(null==p?e.appendChild(c):c===p.nextSibling?m(p):e.insertBefore(c,p))}if(f)for(var E in y)void 0!==y[E]&&w(y[E],!1);for(;_<=A;)void 0!==(c=g[A--])&&w(c,!1)}function w(e,t){var n=e._component;n?B(n):(null!=e.__preactattr_&&e.__preactattr_.ref&&e.__preactattr_.ref(null),(!1===t||null==e.__preactattr_)&&m(e),k(e))}function k(e){for(e=e.lastChild;e;){var t=e.previousSibling;w(e,!0),e=t}}function E(e,t,n){for(var i in n)t&&null!=t[i]||null==n[i]||g(e,i,n[i],n[i]=void 0,V);for(i in t)'children'===i||'innerHTML'===i||i in n&&t[i]===('value'===i||'checked'===i?e[i]:n[i])||g(e,i,n[i],n[i]=t[i],V)}var z={};function C(e){var t=e.constructor.name;(z[t]||(z[t]=[])).push(e)}function P(e,t,n){var a,r=z[e.name];if(e.prototype&&e.prototype.render?(a=new e(t,n),O.call(a,t,n)):(a=new O(t,n),a.constructor=e,a.render=S),r)for(var l=r.length;l--;)if(r[l].constructor===e){a.nextBase=r[l].nextBase,r.splice(l,1);break}return a}function S(e,t,n){return this.constructor(e,n)}function x(e,t,n,i,a){e._disable||(e._disable=!0,(e.__ref=t.ref)&&delete t.ref,(e.__key=t.key)&&delete t.key,!e.base||a?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,i),i&&i!==e.context&&(!e.prevContext&&(e.prevContext=e.context),e.context=i),!e.prevProps&&(e.prevProps=e.props),e.props=t,e._disable=!1,0!==n&&(1!==n&&!1===D.syncComponentUpdates&&e.base?l(e):T(e,1,a)),e.__ref&&e.__ref(e))}function T(e,n,i,a){if(!e._disable){var l,s,d,p=e.props,c=e.state,m=e.context,h=e.prevProps||p,g=e.prevState||c,y=e.prevContext||m,f=e.base,v=e.nextBase,A=f||v,k=e._component,E=!1;if(f&&(e.props=h,e.state=g,e.context=y,2!==n&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(p,c,m)?E=!0:e.componentWillUpdate&&e.componentWillUpdate(p,c,m),e.props=p,e.state=c,e.context=m),e.prevProps=e.prevState=e.prevContext=e.nextBase=null,e._dirty=!1,!E){l=e.render(p,c,m),e.getChildContext&&(m=r(r({},m),e.getChildContext()));var C,S,I=l&&l.nodeName;if('function'==typeof I){var O=u(l);s=k,s&&s.constructor===I&&O.key==s.__key?x(s,O,1,m,!1):(C=s,e._component=s=P(I,O,m),s.nextBase=s.nextBase||v,s._parentComponent=e,x(s,O,0,m,!1),T(s,1,i,!0)),S=s.base}else d=A,C=k,C&&(d=e._component=null),(A||1===n)&&(d&&(d._component=null),S=b(d,l,m,i||!f,A&&A.parentNode,!0));if(A&&S!==A&&s!==k){var M=A.parentNode;M&&S!==M&&(M.replaceChild(S,A),!C&&(A._component=null,w(A,!1)))}if(C&&B(C),e.base=S,S&&!a){for(var F=e,L=e;L=L._parentComponent;)(F=L).base=S;S._component=F,S._componentConstructor=F.constructor}}if(!f||i?R.unshift(e):!E&&(e.componentDidUpdate&&e.componentDidUpdate(h,g,y),D.afterUpdate&&D.afterUpdate(e)),null!=e._renderCallbacks)for(;e._renderCallbacks.length;)e._renderCallbacks.pop().call(e);j||a||_()}}function I(e,t,n,i){for(var a=e&&e._component,r=a,l=e,s=a&&e._componentConstructor===t.nodeName,d=s,p=u(t);a&&!d&&(a=a._parentComponent);)d=a.constructor===t.nodeName;return a&&d&&(!i||a._component)?(x(a,p,3,n,i),e=a.base):(r&&!s&&(B(r),e=l=null),a=P(t.nodeName,p,n),e&&!a.nextBase&&(a.nextBase=e,l=null),x(a,p,1,n,i),e=a.base,l&&e!==l&&(l._component=null,w(l,!1))),e}function B(e){D.beforeUnmount&&D.beforeUnmount(e);var t=e.base;e._disable=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var n=e._component;n?B(n):t&&(t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),e.nextBase=t,m(t),C(e),k(t)),e.__ref&&e.__ref(null)}function O(e,t){this._dirty=!0,this.context=t,this.props=e,this.state=this.state||{}}r(O.prototype,{setState:function(e,t){var n=this.state;this.prevState||(this.prevState=r({},n)),r(n,'function'==typeof e?e(n,this.props):e),t&&(this._renderCallbacks=this._renderCallbacks||[]).push(t),l(this)},forceUpdate:function(e){e&&(this._renderCallbacks=this._renderCallbacks||[]).push(e),T(this,2)},render:function(){}});function M(e,t,n){return b(n,e,{},!1,t,!1)}t.b={h:i,createElement:i,cloneElement:function(e,t){return i(e.nodeName,r(r({},e.attributes),t),2<arguments.length?[].slice.call(arguments,2):e.children)},Component:O,render:M,rerender:s,options:D,components:z};
},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});n.d(t,'callingPlayRequiresEventContext',function(){return le});n.d(t,'cachedDetect',function(){return se});n.d(t,'uncachedDetect',function(){return de});n.d(t,'clearDetectCache',function(){return pe});var i=n(0),a=n(8),r,l=navigator.userAgent,s=/(webkit)[ \/]([^\s]+)/i,d=/OPR\/([^\s]+)/i,p=/(msie) ([^\s;]+)/i,u=/(trident)\/\s*([^;]+)/i,c=/(edge)\/(\d+(?:\.\d+)?)/i,m=/(mozilla)(?:.*? rv:([^\s\)]+))?/i,h=/(android) ([^;]+)/i,g=/(iphone)/i,y=/(ipad)/i,f=/(Windows Phone OS (\d+(?:\.\d+)?))/,_=/OS (\d+)_(\d+)/i,b=/(playstation 3)/i,v=/BlackBerry|BB10/i,A=/(firefox)/i,w=/Mobile VR/i,k=function(){return(C()[1]||'webkit').toLowerCase()},E=function(){return C()[2]},C=function(){var e;return(e=l.match(s))?e:(e=l.match(d))?e:(e=l.match(p))?(null!=document.documentMode&&(e[2]=document.documentMode),e):(e=l.match(m))?e:[]},P=function(){var e=l.match(h);return null!=e&&{version:e[2]}},S=function(){return P()&&'4.1.0'>P().version&&!R()},x=function(){return g.test(l)},T=function(){return 0<N()||P()},I=function(){return v.test(l)},B=function(){return null!=a.a.devicePixelRatio&&1<a.a.devicePixelRatio},O=function(){return y.test(l)},M=function(){return s.test(l)&&!/chrome/i.test(l)&&!O()&&!x()},D=function(){return /Chrome/.test(l)&&/Google Inc/.test(navigator.vendor)&&{version:F()}},F=function(){var e=l.match(/\bChrome\/([^\s]+)/);return e&&e[1]},L=function(){return d.test(l)},N=function(){var e=l.match(_);return null==e?0:parseFloat(e[1]+'.'+e[2])},W=function(){return f.test(l)},H=function(){return b.test(l)},R=function(){return u.test(l)},j=function(){return c.test(l)},V=function(){return A.test(l)},U=function(){return w.test(l)},z=function(){return /win/i.test(navigator.platform)},G=function(){return /mac/i.test(navigator.platform)},q=function(){return /linux/i.test(navigator.platform)},Q=function(){var e=K();return{version:parseFloat(e[0]+'.'+e[1]),major:parseInt(e[0]),minor:parseInt(e[1]),rev:parseInt(e[2])}},K=function(){try{try{var e=new ActiveXObject('ShockwaveFlash.ShockwaveFlash.6');try{e.AllowScriptAccess='always'}catch(t){return[6,0,0]}}catch(t){}return new ActiveXObject('ShockwaveFlash.ShockwaveFlash').GetVariable('$version').replace(/\D+/g,',').match(/^,?(.+),?$/)[1].split(',')}catch(t){try{if(navigator.mimeTypes['application/x-shockwave-flash'].enabledPlugin)return(navigator.plugins['Shockwave Flash 2.0']||navigator.plugins['Shockwave Flash']).description.replace(/\D+/g,',').match(/^,?(.+),?$/)[1].split(',')}catch(t){}}return[0,0,0]},Y=function(){var e=document.createElement('video'),t=!1;try{if(!!e.canPlayType){t={};var n='video/mp4; codecs="avc1.42E01E';t.h264=!!e.canPlayType(n+'"')||!!e.canPlayType(n+', mp4a.40.2"'),t.webm=!!e.canPlayType('video/webm; codecs="vp9, vorbis"'),t.nativeHls=!!e.canPlayType('application/vnd.apple.mpegURL')}}catch(n){t={ogg:!1,h264:!1,webm:!1,nativeHls:!1}}return t},X=function(){return a.a.MediaSource&&a.a.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E'+', mp4a.40.2"')},J=function(){return(x()||O()||M())&&!R()&&Y().nativeHls},Z=function(){try{return'localStorage'in a.a&&null!=a.a.localStorage}catch(t){return!1}},$=function(){return!!(a.a.JSON&&'function'==typeof JSON.parse)},ee=function(){var e=document.createElement('div');return''===e.style.backgroundSize||''===e.style.webkitBackgroundSize||''===e.style.mozBackgroundSize||''===e.style.oBackgroundSize},te=function(){return document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled},oe=['WebKit','Moz','O','Ms',''],ne=function(){for(var e=0;e<oe.length;e++){var t=oe[e],n=t+'MutationObserver';if(a.a[n])return n}return null},ie=function(){return!(x()||O()||P()||I()||!/webkit|mozilla/.test(k())&&('msie'!==k()||!(11<=E()))||!Y().h264||!Object.defineProperties)},ae=function(){return D()||V()||j()||R()?'probably':!!M()&&'maybe'},re=function(){if(null!=r)return r;try{var e=Object.defineProperty({},'passive',{get:function(){r=!0}});window.addEventListener('test',null,e)}catch(e){r=!1}return r},le=function(){return 0<N()||P()||M()},se=function(){return i['default']._detectCache?i['default']._detectCache:(i['default']._detectCache=de(),i['default']._detectCache)},de=function(){var e={browser:{version:E(),quirks:'msie'===k()&&'BackCompat'===document.compatMode,old:'msie'===k()&&('BackCompat'===document.compatMode||7>E()),ltie8:'msie'===k()&&('BackCompat'===document.compatMode||8>E())},trident:R(),edge:j(),firefox:V(),gearvr:U(),android:P(),oldandroid:S(),iphone:x(),ipad:O(),blackberry:I(),safari:M(),chrome:D(),opera:L(),winphone:{version:W()[2]},ios:{version:N()},windows:z(),mac:G(),linux:q(),retina:B(),touchScreen:T(),ps3:H(),flash:Q(),video:Y(),mediaSource:X(),nativeHls:J(),localstorage:Z(),json:$(),backgroundSize:ee(),fullscreenEnabled:te(),vulcanSupport:ie(),mutationObserver:ne(),autoPlayWithSound:ae(),callingPlayRequiresEventContext:le(),passiveSupported:re()};return e.browser[k()]=!0,e},pe=function(){i['default']._detectCache=null};
},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});n.d(t,'deliveryHost',function(){return h});n.d(t,'akamaiHost',function(){return g});n.d(t,'appHost',function(){return y});n.d(t,'cdnFastWistiaComHost',function(){return f});n.d(t,'cdnFastWistiaNetHost',function(){return _});n.d(t,'metricsHost',function(){return b});n.d(t,'forceValidFastWistiaHost',function(){return A});var i=n(19),a=n.n(i),r=n(8),l=a()('app'),s=a()('fast'),d='embed-ssl.wistia.com',p=a()('embed-a'),u=a()('embed-e'),c=function(){return'undefined'!=typeof window&&r.a===window&&r.a.location?r.a.location.protocol:'https:'}(),m=function(e,t,n){return'https:'===e?t:n},h=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:c;return m(e,d,'embed.wistia.com')},g=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:c;return m(e,'embedwistia-a.akamaihd.net',p)},y=function(){return l},f=function(){return s},_=function(){return'fast.wistia.net'},b=function(){return'pipedream.wistia.com'},v=/(\.wistia\.net|\.wistia.com|\.wistia\.st)$/,A=function(e){return e&&v.test(e)?e:f()};
},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});n.d(t,'proto',function(){return l});n.d(t,'queryParamsToObject',function(){return s});n.d(t,'urlComponentToObject',function(){return d});n.d(t,'objectToQueryParams',function(){return p});n.d(t,'splitPath',function(){return u});n.d(t,'joinPath',function(){return c});n.d(t,'brack',function(){return m});n.d(t,'debrack',function(){return h});n.d(t,'Url',function(){return y});var a=n(2),i=n(1),r='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},l=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:location.href;return /^http:\/\//.test(e)?'http:':'https:'},s=function(e){var t={};if(!e)return t;for(var n=e.split('&'),r=0;r<n.length;r++){var l=n[r],s=l.split('='),p=s[0],u=s[1];try{p=h(decodeURIComponent(p))||''}catch(t){setTimeout(function(){i.wlog.notice(t)},50),p=''}a.cast(p);var c=a.get(t,p);if(!(null!=c))a.set(t,p,d(u));else if(a.isArray(c))c.push(d(u));else{var m=[c];m.push(d(u)),a.set(t,p,m)}}return t},d=function(t){var n;try{n=decodeURIComponent(t)}catch(a){setTimeout(function(){i.wlog.notice(a)},50),n=t}if('string'==typeof t&&/^[\{\[].*[\}\]]$/.test(n))try{return JSON.parse(n)}catch(t){return n}else return n},p=function(e){var t=[];return a.eachLeaf(e,function(e,n){t.push(encodeURIComponent(m(n))+'='+encodeURIComponent(e))}),t.join('&')},u=function(e){var t=[];if(null==e)return t;for(var n,a=e.split(/\/+/),r=0;r<a.length;r++)n=a[r],null!=n&&''!==n&&t.push(n);return t},c=function(e){return'string'==typeof e&&(e=e.split('/')),null==e?'':'/'+e.join('/')},m=function(e){for(var t=e[0],n=1;n<e.length;n++)t+='['+e[n]+']';return t},h=function(e){return e.match(/([\w\-\_]+)/g)},g=['protocol','host','port','params','path'],y=function(e){var t=this;return function(){t.params={},t.path=[],t.host='','object'===('undefined'==typeof e?'undefined':r(e))?t.fromOptions(e):e&&t.fromRaw(e)}(),t},f=y.prototype;f.fromOptions=function(e){for(var t,n=0;n<g.length;n++)t=g[n],null!=e[t]&&(this[t]=e[t]);return this},f.fromRaw=function(e){this.rawUrl=e;var t;return(t=e.match(/^((?:https?\:)|(?:file\:)|(?:ftp\:))?\/\//))&&(this.protocol=t[1]||void 0),(t=e.match(/\/\/([^\:\?\/]*)/))&&(this.host=t[1]||void 0),((t=e.match(/\/\/.*?(\/[^\?#$]+)/))||(t=e.match(/(^\/[^\/][^\?#$]+)/)))&&(this.rawPath=t[1],this._hasTrailingSlash=/\/$/.test(this.rawPath),this.path=u(this.rawPath)),(t=e.match(/\:(\d+)/))&&(this.port=parseInt(t[1],10)),(t=e.match(/\?([^#]+)/))&&(this.rawParams=t[1],this.params=s(this.rawParams)),(t=e.match(/#(.*)$/))&&(this.anchor=t[1]),this},f.clone=function(){return new y({protocol:this.protocol,host:this.host,port:this.port,path:a.clone(this.path),params:a.clone(this.params),anchor:this.anchor})},f.ext=function(e){if(null!=e){var t=this.ext(),n=this.path.length-1,i=new RegExp('\\.'+t,'g');return t&&(this.path[n]=''+this.path[n].replace(i,'')),this.path[n]=this.path[n]+'.'+e}var a=this.path[this.path.length-1].match(/\.(.*)$/);return null!=a&&a[1]||null},f.isRelative=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:window.location,t=this.protocol,n=this.host;return(null==t||''===t||t===e.protocol)&&(!n||n===e.hostname)},f.toString=function(){return this.isRelative()?this.relative():this.absolute()},f.absolute=function(){var e='';null!=this.protocol&&(e=this.protocol);var t='';return null!=this.port&&(t=':'+this.port),e+'//'+(this.host||location.host)+t+this.relative()},f.relative=function(){var e='';0<this.path.length&&(e=c(this.path),this._hasTrailingSlash&&(e+='/'));var t='?'+p(this.params);return 1===t.length&&(t=''),''+e+t+this.relativeAnchor()},f.authority=function(){var e=null==this.port?'':':'+this.port;return''+this.host+e},f.relativeProtocol=function(){var e='';return null!=this.port&&(e=':'+this.port),'//'+this.host+e+this.relative()},f.relativeAnchor=function(){var e='';return null!=this.anchor&&(e='#'+this.anchor),''+e},y.create=function(e){return new y(e)},y.parse=function(e){return new y(e)};
},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});n.d(t,'elemHtml',function(){return m});n.d(t,'getScriptTags',function(){return h});n.d(t,'execScriptTags',function(){return g});n.d(t,'removeScriptTags',function(){return y});n.d(t,'getCssTags',function(){return f});n.d(t,'execCssTags',function(){return _});n.d(t,'removeCssTags',function(){return b});n.d(t,'addInlineCss',function(){return v});n.d(t,'elemFromObject',function(){return A});n.d(t,'elemToObject',function(){return w});n.d(t,'elemClone',function(){return k});n.d(t,'elemAppend',function(){return E});n.d(t,'elemPrepend',function(){return C});n.d(t,'elemBefore',function(){return P});n.d(t,'elemAfter',function(){return S});n.d(t,'elemRemove',function(){return x});n.d(t,'elemRemoveClass',function(){return T});n.d(t,'elemAddClass',function(){return I});n.d(t,'elemHasClass',function(){return B});n.d(t,'elemClasses',function(){return D});n.d(t,'elemStyle',function(){return L});n.d(t,'propsWithVendorPrefixes',function(){return R});n.d(t,'getComputedStyle',function(){return j});n.d(t,'elemWidth',function(){return V});n.d(t,'elemHeight',function(){return U});n.d(t,'isBoxModel',function(){return G});n.d(t,'elemOffset',function(){return q});n.d(t,'elemContainsOffset',function(){return Q});n.d(t,'elemScrollOffset',function(){return K});n.d(t,'elemIsHidden',function(){return Y});n.d(t,'elemInDom',function(){return X});n.d(t,'elemIsDescendantOf',function(){return J});n.d(t,'elemAncestorWithClass',function(){return Z});n.d(t,'elemAncestorHasClass',function(){return $});n.d(t,'elemAncestors',function(){return ee});n.d(t,'elemIsInside',function(){return te});n.d(t,'elemAnimate',function(){return ne});n.d(t,'elemBind',function(){return ie});n.d(t,'elemUnbind',function(){return ae});n.d(t,'elemUnbindAll',function(){return re});n.d(t,'elemUnbindAllInside',function(){return le});n.d(t,'elemBindKey',function(){return se});n.d(t,'elemRebind',function(){return de});n.d(t,'elemBindOnce',function(){return pe});n.d(t,'elemTrigger',function(){return ue});n.d(t,'fullscreenElement',function(){return ce});n.d(t,'elemRequestFullscreen',function(){return me});n.d(t,'elemCancelFullscreen',function(){return he});n.d(t,'elemStripEventAttributes',function(){return ge});n.d(t,'elemMutationObserver',function(){return ye});n.d(t,'elemDomDistance',function(){return fe});n.d(t,'elemAllBetween',function(){return _e});n.d(t,'docScrollTop',function(){return be});n.d(t,'docScrollLeft',function(){return ve});n.d(t,'safeRequestAnimationFrame',function(){return Ae});n.d(t,'pageLoaded',function(){return we});n.d(t,'isDocReady',function(){return ke});n.d(t,'formInputIsFocused',function(){return Ee});n.d(t,'inUserEventContext',function(){return Ce});n.d(t,'getLastActiveEventAt',function(){return Pe});var a=n(15),r=n(2),i=n(4),l=n(1),s=n(9),d=n(0),p=d['default'],u=Object(i.cachedDetect)(),c=Array.prototype.slice,m=function(e,t){var n=f(t),i=h(t);return t=b(t),t=y(t),e.innerHTML=t,_(n,e),g(i)},h=function(e){return e.match(/<script.*?src[^>]*>\s*<\/script>|<script.*?>[\s\S]+?<\/script>/ig)||[]},g=function(e,t){if(!e)return null;Object(r.isArray)(e)||(e=h(e));for(var n=[],l=0;l<e.length;l++){var i=e[l],s={},d=void 0;(d=i.match(/<script.*?>/i))&&(d=d[0].match(/src="([^"]+)"/i))?(s.src=d[1],s.async=/async/i.test(i.replace(s.src,''))):(d=i.match(/<script>([\s\S]+?)<\/script>/i))&&function(){var e=d[1];s.fn=function(){return eval(e)}}(),n.push(s)}return Object(a.runScripts)(n,t)},y=function(e){return e.replace(/<script.*?src[^>]*>\s*<\/script>|<script>[\s\S]+?<\/script>/g,'')},f=function(e){return e.match(/<link.*?rel=['"]stylesheet['"][^>]*>|<style>[\s\S]+?<\/style>/ig)||[]},_=function(e,t){if(!e)return null;Object(r.isArray)(e)||(e=f(e));for(var n,a=[],l=0;l<e.length;l++)if(n=e[l],/<link.*?rel=['"]stylesheet['"][^>]*>/.test(n)){var i=void 0;if(i=n.match(/href=['"](.*?)['"]/i)){var s=document.createElement('link');s.setAttribute('rel','stylesheet'),s.setAttribute('href',i[1]),s.className='wistia_injected_style',(t||document.body||document.head).appendChild(s),a.push(s)}}else if(/<style>[\s\S]+?<\/style>/ig.test(n)){var d=void 0;if(d=n.match(/<style>([\s\S]+?)<\/style>/i)){var p=v(t||document.body||document.head,d[1]);a.push(p)}}return a},b=function(e){return e.replace(/<link.*?rel=['"]stylesheet['"][^>]*>|<style>[\s\S]+?<\/style>/ig,'')},v=function(e,t){var n=document.createElement('style');n.id=Object(s['default'])('wistia_','_style'),n.setAttribute('type','text/css'),n.className='wistia_injected_style';document.getElementsByTagName('style');return e.appendChild(n,e.nextSibling),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t)),n},A=function e(t){if(Object(r.isArray)(t)){for(var n=[],a=0;a<t.length;a++)n.push(e(t[a]));return n}var i=t.tagName||'div',l=t.childNodes||[];Object(r.isArray)(l)||(l=[l]);var s=document.createElement(i);for(var d in t){var u=t[d];if('childNodes'!=d&&'tagName'!=d&&'ref'!=d){var c=d.replace(/([a-z])([A-Z])/g,'$1-$2').toLowerCase();if('style'==d){if(Object(r.isObject)(u))for(var m in u)s.style[m]=u[m];else for(var p=u.split(';'),h=0;h<p.length;h++){var g=p[h].split(/\s*:\s*/),y=g[0],f=g[1];y&&f&&(s.style[y]=f)}}else if('events'==d)for(var _ in u){var b=u[_];ie(s,_,b)}else'className'==d||'class'==d?s.className=u:'innerHTML'==d?s.innerHTML=u:'innerText'==d?s.innerText=u:null!=u&&'function'==typeof u.toString&&s.setAttribute(c,u.toString())}}for(var v,A=0;A<l.length;A++)if(v=l[A],Object(r.isObject)(v)){var w=e(v);E(s,w)}else{var k=document.createTextNode(v.toString());E(s,k)}return'function'==typeof t.ref&&t.ref(s),s},w=function e(t){if(Object(r.isArray)(t))for(var n=[],a=0;a<t.length;a++)n.push(e(t[a]));for(var i,l={tagName:t.tagName.toLowerCase()},s=Object(r.keys)(t),d=0;d<s.length;d++)if(i=s[d],'tagName'===i||'childNodes'===i||'nodeType'===i||'nodeValue'===i)continue;else if('style'===i){l.style={};for(var p,u=Object(r.keys)(t.style),c=0;c<u.length;c++)p=u[c],val=t.style[p],val&&!/^\d/.test(p)&&'length'!==p&&(l.style[p]=val)}else value=t.getAttribute(i),null!=value&&(l[i]=value);for(var m,h=[],g=0;g<t.childNodes.length;g++)m=t.childNodes[g],1===m.nodeType?h.push(e(m)):3===m.nodeType&&h.push(m.nodeValue);return 0<h.length&&(l.childNodes=h),l},k=function(e){var t=w(e);return A(t)},E=function e(t,n){if(Object(r.isArray)(n)){for(var a=0;a<n.length;a++)e(t,n[a]);return}t.appendChild(n)},C=function e(t,n){if(Object(r.isArray)(n)){for(var a=0;a<n.length;a++)e(t,n[a]);return}return 0===t.childNodes.length?E(t,n):t.insertBefore(n,t.childNodes[0])},P=function e(t,n){if(Object(r.isArray)(n)){n=n.reverse();for(var a=0;a<n.length;a++)e(t,n[a]);return}return t.parentNode.insertBefore(n,t)},S=function e(t,n){if(Object(r.isArray)(n)){n=n.reverse();for(var a=0;a<n.length;a++)e(t,n[a]);return}return t.parentNode.insertBefore(n,t.nextSibling)},x=function e(t){if(Object(r.isArray)(t)||window.NodeList&&t instanceof NodeList){for(var n=0;n<t.length;n++)e(t[n]);return}var i;null!=t&&1===t.nodeType&&(i=t.parentNode)&&(i.removeChild(t),t=null)},T=function e(t,n){if(Object(r.isArray)(t)||window.NodeList&&t instanceof NodeList){for(var a=0;a<t.length;a++)e(t[a],n);return}if(B(t,n)){var i=t.getAttribute('class');if(i){var l=new RegExp('\\b'+n+'\\b','g'),s=F(i.replace(l,''));t.setAttribute('class',s)}}},I=function e(t,n){if(Object(r.isArray)(t)||window.NodeList&&t instanceof NodeList){for(var a=0;a<t.length;a++)e(t[a],n);return}if(!B(t,n)){var i,l=t.getAttribute('class');l?(T(t,n),i=F(l+' '+n)):i=n,t.setAttribute('class',i)}},B=function(e,t){var n=null!=e&&'function'==typeof e.getAttribute&&e.getAttribute('class');if(!n&&e&&'string'==typeof e.className&&(n=e.className),!n)return!1;var i=!1;return M(n,t,function(e){var a=0===e||' '===n.charAt(e-1),r=e+t.length===n.length,l=' '===n.charAt(e+t.length);if(a&&(r||l))return i=!0,O}),i},O={},M=function(e,t,n){for(var a=-1;-1!=(a=e.indexOf(t,a+1))&&!(n(a)===O););},D=function(e){if(e&&'string'!=typeof e.className)return[''];return(e&&e.className||'').split(/\s+/)},F=function(e){return e.replace(/^\s+/g,'').replace(/\s+$/g,'').replace(/\s+/g,' ')},L=function e(t){for(var n=arguments.length,a=Array(1<n?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];if(Object(r.isArray)(t)||window.NodeList&&t instanceof NodeList){for(var d,p=[],u=0;u<t.length;u++)d=t[u],1===d.nodeType&&p.push(e.apply(void 0,[d].concat(a)));return p}if(2===a.length){var i=a[0],c=a[1];t.style[i]=c}else if(1!==a.length)l.wlog.apply(void 0,['Unexpected args',t].concat(a));else if('string'==typeof a[0]){var m=a[0];try{return t.currentStyle?t.currentStyle[m]:window.getComputedStyle?window.getComputedStyle(t,null).getPropertyValue(m):null}catch(t){l.wlog.notice(t)}}else{var h=R(a[0]);for(var g in h){var y=h[g];t.style[g]=y}}},N={borderImage:!0,mixBlendMode:!0,transform:!0,transition:!0,transitionDuration:!0},W=function(e){return N[e]},H=['webkit','moz','o','ms'],R=function(e){if(u.chrome)return e;var t={};for(var n in e){var a=e[n];if(t[n]=a,N[n])for(var r=H,l=0;l<r.length;l++){var i=r[l],s=i+n.charAt(0).toUpperCase()+n.slice(1);n[s]||(t[s]=a)}}return t},j=function(e,t){if(!window.getComputedStyle)return null;var n=window.getComputedStyle(e,null);return null==n?null:null==t?n:n[t]},V=function(e){if(e===window)return window.innerWidth?window.innerWidth:document.documentElement?document.documentElement.offsetWidth:document.body.offsetWidth;if(e===document){var t=document.body,n=document.documentElement;return Math.max(t.scrollWidth,t.offsetWidth,n.clientWidth,n.scrollWidth,n.offsetWidth)}var i;return u.browser.quirks?parseInt(e.offsetWidth,10):(i=j(e,'width'))&&null!=i?parseFloat(i):e.currentStyle?e.offsetWidth:-1},U=function(e){if(e===window)return window.innerHeight?window.innerHeight:document.documentElement?document.documentElement.offsetHeight:document.body.offsetHeight;if(e===document){var t=document.body,n=document.documentElement;return Math.max(t.scrollHeight,t.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight)}var i;return u.browser.quirks?parseInt(e.offsetHeight,10):(i=j(e,'height'))&&null!=i?parseFloat(i):e.currentStyle?e.offsetHeight:-1},z,G=function(){if(null!=z)return z;var e=document.createElement('div');return e.style.paddingLeft=e.style.width='1px',document.body.appendChild(e),z=2===e.offsetWidth,document.body.removeChild(e),z},q=function(e){var t,n=document.body,i=document.defaultView,a=document.documentElement,r=e.getBoundingClientRect(),l=a.clientTop||n.clientTop||0,s=a.clientLeft||n.clientLeft||0;t=i&&null!=i.pageYOffset?i.pageYOffset:G()&&a&&null!=a.scrollTop?a.scrollTop:n.scrollTop;var d;return d=i&&null!=i.pageXOffset?i.pageXOffset:G()&&a&&null!=a.scrollLeft?a.scrollLeft:n.scrollLeft,{top:r.top+t-l,left:r.left+d-s}},Q=function(e,t,n){var i=q(e);return i.right=i.left+V(e),i.bottom=i.top+U(e),i.left<=t&&t<i.right&&i.top<=n&&n<i.bottom},K=function(e){var t=0,n=0;if(e.parentNode)for(;e&&e.offsetParent;)n+=e.scrollTop,t+=e.scrollLeft,e=e.parentNode;return{left:t,top:n}},Y=function(e){for(;e&&1===e.nodeType;){if('none'===L(e,'display'))return!0;e=e.parentNode}return!1},X=function(e){for(;e=e.parentNode;)if(e===document)return!0;return!1},J=function(e,t){for(var n=ee(e),a=0;a<n.length;a++)if(n[a]===t)return!0;return!1},Z=function(e,t){for(var n=ee(e),a=0;a<n.length;a++)if(B(n[a],t))return n[a];return null},$=function(e,t){var n=Z(e,t);return!!n},ee=function(e){for(var t=e,n=[];t=t.parentNode;)n.push(t);return n},te=function(e,t){return e===t||J(e,t)},oe=function(e,t,n){var i=[];for(var a in e)i.push(a+' '+t+'ms '+n);return i.join(',')},ne=function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{};n=Object(r.merge)({time:400,easing:'ease'},n);var i=oe(t,n.time,n.easing);L(e,{transition:i}),Ae(function(){L(e,t),setTimeout(function(){L(e,{transition:''}),'function'==typeof n.callback&&n.callback()},n.time)})},ie=function(t,n,i){var e=3<arguments.length&&void 0!==arguments[3]&&arguments[3],a=function(a){for(var e=arguments.length,r=Array(1<e?e-1:0),l=1;l<e;l++)r[l-1]=arguments[l];a=a||window.event,!a.pageX&&!a.pageY&&(a.clientX||a.clientY)&&(a.pageX=a.clientX+ve(),a.pageY=a.clientY+be()),a.preventDefault||(a.preventDefault=function(){a.returnValue=!1}),a.stopPropagation||(a.stopPropagation=function(){a.cancelBubble=!0}),null==a.which&&(a.which=null==a.charCode?a.keyCode:a.charCode),null==a.which&&null!=a.button&&(1&a.button?a.which=1:2&a.button?a.which=3:4&a.button?a.which=2:u.browser.msie&&0===a.button?a.which=1:a.which=0),a.target||a.srcElement&&(a.target=a.srcElement),a.target&&3===a.target.nodeType&&(a.target=a.target.parentNode);var s=i.apply(a.target,[a].concat(r));return s===ae&&ae(t,n,i),s};p._elemBind=p._elemBind||{};var r=se(t,n,i);return p._elemBind[r]=a,a.elem=t,a.event=n,u.browser.msie&&9>u.browser.version?t.attachEvent('on'+n,a):t.addEventListener(n,a,e),function(){ae(t,n,i,e)}},ae=function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]&&arguments[3];if(null!=e&&null!=e._wistiaElemId&&null!=n&&n._wistiaBindId){var a=se(e,t,n),r=p._elemBind[a];return r&&(u.browser.msie&&9>u.browser.version?e.detachEvent('on'+t,r):e.removeEventListener(t,r,i),r.elem=null,r.event=null),delete p._elemBind[a]}},re=function(e){for(var t in p._elemBind){var n=p._elemBind[t];if(n&&e===n.elem){var i=n.event;u.browser.msie&&9>u.browser.version?n.elem.detachEvent('on'+i,n):n.elem.removeEventListener(i,n,!1),n.elem=null,n.event=null,delete p._elemBind[t]}}},le=function(e){var t=0;for(var n in p._elemBind){var i=p._elemBind[n];if(i&&p.elem.isInside(i.elem,e)){var a=i.event;u.browser.msie&&9>u.browser.version?i.elem.detachEvent('on'+a,i):i.elem.removeEventListener(a,i,!1),i.elem=null,i.event=null,delete p._elemBind[n],t+=1}}return t},se=function(e,t,n){return e._wistiaElemId=e._wistiaElemId||Object(s['default'])('wistia_elem_'),n._wistiaBindId=n._wistiaBindId||Object(s['default'])('wistia_bind_'),e._wistiaElemId+'.'+t+'.'+n._wistiaBindId},de=function(e,t,n){n&&(ae(e,t,n),ie(e,t,n))},pe=function(e,t,n){return ie(e,t,function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return n.apply(this,t),ae})},ue=function(e,t){for(var n=arguments.length,i=Array(2<n?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];if(e.dispatchEvent){var r=document.createEvent('Events');return r.initEvent(t,!0,!1),'click'===t||'doubleclick'===t?r.which=1:'rightclick'===t&&(r.which=2),r.customArguments=i,e.dispatchEvent(r)}if(e.fireEvent){return e.fireEvent('on'+t,{customArguments:i})}l.wlog.error('neither dispatchEvent nor fireEvent is defined for',e,t)},ce=function(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement},me=function(e){return e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):e.msRequestFullscreen?e.msRequestFullscreen():e.webkitEnterFullscreen?e.webkitEnterFullscreen():(l.wlog.notice('no requestFullscreen functionality detected'),null)},he=function(e){return document.cancelFullscreen?document.cancelFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():e&&e.webkitExitFullscreen?e.webkitExitFullscreen():(l.wlog.notice('no cancelFullscreen functionality detected'),null)},ge=function e(t){var n=t&&t.attributes||[];try{for(var a,r=0;r<n.length;r++)a=n[r],/^on.+/i.test(a.name)&&(t[a.name]=null,t.removeAttribute(a.name))}catch(t){l.wlog.error(t)}if(t.childNodes)for(var i,s=0;s<t.childNodes.length;s++)i=t.childNodes[s],1===i.nodeType&&e(i)},ye=function(e){var t=u.mutationObserver;return t?new window[t](e):null},fe=function(e,t){if(e===t)return{up:0,across:0,down:0};for(var n=[e],i=[t],a=1,r=0,l=null;e!==document.body;){if(e=e.parentNode,e===t)return{up:n.length,across:0,down:0};n.unshift(e)}for(e=n[n.length-1];t!==document.body;){if(t=t.parentNode,t===e)return{up:0,across:0,down:i.length};i.unshift(t)}for(;n[a]===i[a];)a+=1;for(l=n[a];l;)if(l=l.nextSibling,l&&l.tagName&&(r+=1,l===i[a]))return{up:n.length-a-1,across:r,down:i.length-a-1};for(r=0,l=n[a];l;)if(l=l.previousSibling,l&&l.tagName&&(r-=1,l===i[a]))return{up:n.length-a-1,across:r,down:i.length-a-1};return null},_e=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:document.body,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:document.body,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:'*';null==e&&(e=document.body),null==t&&(t=document.body),n=n.toLowerCase();for(var a=[],r=fe(e,t),l=e,s=0,i=null;s<r.up;){if(l&&l.tagName){('*'===n||l.tagName.toLowerCase()===n)&&(a=a.concat([l]));for(var d=l.nextSibling;d;)d.tagName&&(('*'===n||d.tagName.toLowerCase()===n)&&(a=a.concat([d])),a=a.concat(c.call(d.getElementsByTagName(n)))),d=d.nextSibling}l=l.parentNode,l&&(i=l),s+=1}var p=Math.abs(r.across);for(l=i||e,s=1;s<p;)l=0>r.across?l.previousSibling:l.nextSibling,l.tagName&&(0<s&&s<p&&(('*'===n||l.tagName.toLowerCase()===n)&&(a=a.concat([l])),a=a.concat(c.call(l.getElementsByTagName(n)))),s+=1);var u=[];for(l=t,s=0;s<r.down;){if(l&&l.tagName){('*'===n||l.tagName.toLowerCase()===n)&&(u=u.concat([l]));for(var m=l.previousSibling;m;)m.tagName&&(('*'===n||m.tagName.toLowerCase()===n)&&(u=u.concat([m])),u=u.concat(c.call(m.getElementsByTagName(n)).reverse())),m=m.previousSibling}l=l.parentNode,s+=1}return a=a.concat(u.reverse()),a},be=function(e){var t=document.body,n=document.documentElement;return null==e?n&&n.scrollTop||t&&t.scrollTop||0:void(t&&(t.scrollTop=e),n&&(n.scrollTop=e))},ve=function(e){var t=document.body,n=document.documentElement;return null==e?n&&n.scrollLeft||t&&t.scrollLeft||0:void(t&&(t.scrollLeft=e),n&&(n.scrollLeft=e))},Ae=function(e){var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){return setTimeout(e,1e3/60)};return t(e)},we=function(e){if(!ke()){var t=function(){return clearTimeout(n),e(),ae};ie(window,'load',t);var n=setTimeout(function(){ae(window,'load',t),e()},4e3)}else setTimeout(e,1)},ke=function(){return /loaded|complete/.test(document.readyState)},Ee=function(){return /^textarea|input|select$/i.test(document.activeElement.tagName)},Ce=function(){return!!Se},Pe=function(){return xe},Se,xe=-1,Te=['auxclick','click','contextmenu','dblclick','focus','keydown','keypress','keyup','mousedown','mouseup','reset','submit','touchend','touchstart'];Te.forEach(function(e){ie(document,e,function(t){Se=t,xe=Date.now(),setTimeout(function(){Se===t&&(Se=void 0)},0)},!u.passiveSupported||{capture:!0,passive:!0})});
},function(e,t,n){'use strict';(function(e){var n;try{n=(0,eval)('this')}catch(t){try{n=self}catch(t){n=e}}t.a=n;
}).call(t,n(16))},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var i=n(0);t['default']=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'wistia_',t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'',n=i['default']._sequenceVal||1;return i['default']._sequenceVal=n+1,''+e+n+t};
},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});n.d(t,'doTimeout',function(){return l});n.d(t,'clearTimeouts',function(){return s});var i=n(0),a=n(2),r=i['default'];null==r._timeouts&&(r._timeouts={});var l=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;Object(a.isArray)(e)&&(e=e.join('.'));var i=p(e);if(s(e,i),t){var l=r._timeouts[i];null==l&&(l=r._timeouts[i]={});var d=setTimeout(function(){delete l[e],t()},n);return l[e]=d,d}return r._timeouts[i][e]},s=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;Object(a.isArray)(e)&&(e=e.join('.')),t=t||p(e);var n;if('__global__'===t&&(n=r._timeouts[e]))for(var i in n){var l=n[i];clearTimeout(l),delete n[i]}if(n=r._timeouts[t],n)for(var s in n){var u=n[s];s.indexOf&&0===s.indexOf(e)&&(s.length===e.length||'.'===s.charAt(e.length))&&(clearTimeout(u),delete n[s])}r.blockSweepTimeouts||(r.blockSweepTimeouts=!0,setTimeout(d,0),setTimeout(function(){r.blockSweepTimeouts=!1},5e3))},d=function(){for(var e in r._timeouts){var t=r._timeouts[e];Object(a.isEmpty)(t)&&delete r._timeouts[e]}},p=function(e){var t=e.indexOf('.');return 0<t?e.substring(0,t):'__global__'};
},,,function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});n.d(t,'unbreakifyText',function(){return i});n.d(t,'unescapeHtml',function(){return a});n.d(t,'stripHtml',function(){return r});n.d(t,'camelCase',function(){return l});n.d(t,'snakeCase',function(){return s});n.d(t,'shallowCamelizeKeys',function(){return d});n.d(t,'shallowSnakeKeys',function(){return p});n.d(t,'base64Decode',function(){return c});n.d(t,'base64Encode',function(){return m});n.d(t,'notSetOrTrue',function(){return h});n.d(t,'niceDuration',function(){return g});n.d(t,'padNumber',function(){return y});n.d(t,'preventOuterMouseWheel',function(){return f});n.d(t,'poll',function(){return _});n.d(t,'throttle',function(){return b});var i=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:'';return e.replace(' ','&nbsp;')},a=function(t){var n=document.createElement('div');return n.innerHTML=t.toString().replace(/</g,'&lt;').replace(/>/g,'&gt;'),0<n.childNodes.length?n.childNodes[0].nodeValue:''},r=function(e){var t=document.createElement('div');return t.innerHTML=e,t.textContent||t.innerText||''},l=function(e){return e.replace(/[_-]([a-z])/g,function(e){return e.charAt(1).toUpperCase()})},s=function(e){return e.replace(/[A-Z]/g,function(e){return'_'+e.toLowerCase()})},d=function(e){return Object.keys(e).reduce(function(t,n){return t[l(n)]=e[n],t},{})},p=function(e){return Object.keys(e).reduce(function(t,n){return t[s(n)]=e[n],t},{})},u='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=',c=function(e){var t=String.fromCharCode,n=0,i='';for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,'');n<e.length;){var a=u.indexOf(e.charAt(n++)),r=u.indexOf(e.charAt(n++)),l=u.indexOf(e.charAt(n++)),s=u.indexOf(e.charAt(n++));i+=t(a<<2|r>>4),64!=l&&(i+=t((15&r)<<4|l>>2)),64!=s&&(i+=t((3&l)<<6|s))}return i},m=function(e){for(var t=0,n='';t<e.length;){var i=e.charCodeAt(t++),a=e.charCodeAt(t++),r=e.charCodeAt(t++),l=(15&a)<<2|r>>6,s=63&r;isNaN(a)?l=s=64:isNaN(r)&&(s=64),n=n+u.charAt(i>>2)+u.charAt((3&i)<<4|a>>4)+u.charAt(l)+u.charAt(s)}return n},h=function(e){return null==e||!0===e},g=function(e){var t=Math.floor,n=0,i=0,a=0;return 0<e&&(n+=t(e/3600),e%=3600),0<e&&(i+=t(e/60),e%=60),a=Math.round(e),60===i&&(n+=1,i=0),60===a&&(i+=1,a=0),0===n?i+':'+y(a,2):n+':'+y(i,2)+':'+y(a,2)},y=function(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=''+e;n.length<t;)n='0'+n;return n},f=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:0,a=e.scrollTop,r=e.scrollHeight,l=e.offsetHeight,s=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0;return 0>=a+e-n},d=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0;return a+e+i>=r-l},p=t.deltaY||-t.wheelDelta,u=0<p?'down':'up',c=!!t.deltaY;if(c)('up'==u&&s()||'down'==u&&d())&&t.preventDefault();else{var m=47.5*p/120;'up'==u&&s(m)?(t.preventDefault(),e.scrollTop=0):'down'==u&&d(m)&&(t.preventDefault(),e.scrollTop=r-l)}},_=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:50,i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:5e3,a=arguments[4],r=null,l=new Date().getTime();r=setTimeout(function s(){return new Date().getTime()-l>i?void('function'==typeof a&&a()):void(e()?t():(clearTimeout(r),r=setTimeout(s,n)))},1)},b=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},i=null,a=null,r=null,l=null,s=0,d=function(){s=!1===n.leading?0:new Date().getTime(),l=null,r=t.apply(i,a),l||(i=a=null)};return function(){var p=new Date().getTime();s||!1!==n.leading||(s=p);var u=e-(p-s);return i=this,a=arguments,0>=u||u>e?(clearTimeout(l),l=null,s=p,r=t.apply(i,a),!l&&(i=a=null)):!l&&!1!==n.trailing&&(l=setTimeout(d,u)),r}};
},function(e){(function(t,n){function a(e,t){return(typeof t)[0]==e}function r(e,s){return s=function d(p,u,c,m,h,g){if(m=d.q,p!=a)return r(function(e,t){m.push({p:this,r:e,j:t,1:p,0:u})});if(c&&a(t,c)|a(n,c))try{h=c.then}catch(e){u=0,c=e}if(a(t,h)){function e(e){return function(t){h&&(h=0,d(a,e,t))}}try{h.call(c,e(1),u=e(0))}catch(e){u(e)}}else for(s=function(n,i){return a(t,n=u?n:i)?r(function(e,t){l(this,e,t,c,n)}):e},g=0;g<m.length;)h=m[g++],a(t,p=h[u])?l(h.p,h.r,h.j,c,p):(u?h.r:h.j)(c)},s.q=[],e.call(e={then:function(e,t){return s(e,t)},catch:function(e){return s(0,e)}},function(e){s(a,1,e)},function(e){s(a,0,e)}),e}function l(e,i,r,l,s){var d=function(){try{l=s(l),s=l&&a(n,l)|a(t,l)&&l.then,a(t,s)?l==e?r(TypeError()):s.call(l,i,r):i(l)}catch(e){r(e)}};window.setImmediate?window.setImmediate(d):setTimeout(d,0)}function i(e){return r(function(t){t(e)})}return window.Promise?void(e.exports=window.Promise):void(e.exports=r,r.resolve=i,r.reject=function(e){return r(function(t,n){n(e)})},r.all=function(e){return r(function(t,n,a,r){r=[],a=e.length||t(r),e.map(function(e,l){i(e).then(function(e){r[l]=e,--a||t(r)},n)})})},r.race=function(e){return r(function(t,n){e.map(function(e){i(e).then(t,n)})})})})('f','o');
},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});n.d(t,'findScriptInDomBySrc',function(){return p});n.d(t,'runScript',function(){return u});n.d(t,'runScripts',function(){return c});n.d(t,'scriptInputsToHash',function(){return m});var i=n(21),a=n.n(i),r=n(1),l=n(9),s=n(2),d=n(27),p=function(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=document.getElementsByTagName('script'),a=0;a<n.length;a++){var i=n[a],r=i.getAttribute('src')||'';if(t.ignoreQueryParams){var l=r.split('?'),s=l[0],d=l[1];r=s}if(t.ignoreProtocol&&(r=r.replace(/^https?:/,''),e=e.replace(/^https?:/,'')),t.testStartsWith){if(0===r.indexOf(e))return i}else if(r===e)return i}return null},u=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:8e3,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};null==n&&(n=8e3),null==i&&(i={});var r,l,s=new a.a,u=new a.a;return!0===i.once&&(r=p(e))&&(l=!0),i.once&&l?(!r.readyState||/loaded|complete/.test(r.readyState))&&setTimeout(function(){s(!0)},1):Object(d.a)(e,n).then(function(){s(!0)}).catch(function(e){s(!0,e),setTimeout(function(){throw e},1)}),'function'==typeof t&&s.then(t),{loaded:s,error:function(){return u}}},c=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t[0]instanceof Array){var l=t[1];t=t[0],l&&(t=t.concat(l))}t=m(t);for(var s,d=0;d<t.length;d++)s=t[d],s.src&&s.preloadAllowed&&u(s.src,null,null,s);for(var i=[],p=[],c=0;c<t.length;c++){var h=t[c],g=new a.a,y=new a.a;(function(e,t,n){a.a.when.apply(a.a,i).run(function(){if(e.fn){var i=function(){try{e.fn()}catch(t){r.wlog.error(t)}finally{t.go(),n.go()}};e.async?setTimeout(i,1):i()}else if(e.src){var a=function(){u(e.src,null,null,e).loaded(function(){n.go(),t.go()})};e.async?(setTimeout(a,1),t.go()):setTimeout(a,1)}})})(h,g,y),i.push(g),p.push(y)}return{loaded:a.a.when.apply(a.a,p)}},m=function(e){for(var t,n=[],a=0;a<e.length;a++)t=e[a],'string'==typeof t?n.push({src:t,async:!1}):Object(s.isObject)(t)?n.push(t):n.push({fn:t,async:!1});return n};
},function(e){var t=function(){return this}();try{t=t||Function('return this')()||(1,eval)('this')}catch(n){'object'==typeof window&&(t=window)}e.exports=t;
},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});t.jsonp=i;n.d(t,'jsonpPlus',function(){return c});var a=n(8),r=n(0),l=n(6),s=n(15),d=n(13),p=n(1),u=p.wlog.getPrefixedFunctions('jsonp');null==r['default']._jsonpCounter&&(r['default']._jsonpCounter=0);function i(e,t,n,i){var p='?';for(var c in t=t||{},t)'callback'!=c&&t.hasOwnProperty(c)&&(p+=encodeURIComponent(c)+'='+encodeURIComponent(t[c])+'&');u.info(e,p,i);var m,h;if(i&&i.once&&(m=(e+p).replace(/\.json[^p]/,'.jsonp'),h=Object(s.findScriptInDomBySrc)(m,{ignoreProtocol:!0,testStartsWith:!0})),h){var g=new l.Url(m),y='wistiajsonp-'+g.relative();u.info('script already in DOM',m,'polling',y),Object(d.poll)(function(){return u.info('found',y,'on root object'),null!=a.a[y]},function(){n(a.a[y])},15,3e4)}else{var f;f=t&&t.callback?t.callback:'wistiajson'+ ++r['default']._jsonpCounter,u.info('defining on root:',f),a.a[f]=function(e){n(e);try{delete a.a[f]}catch(t){}a.a[f]=null};var _=e+p+'callback='+f;u.info('runScript',_),Object(s.runScript)(_)}return f}var c=function(e,t,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{};a.timeout||(a.timeout=5e3),a.onerror||(a.onerror=function(){});var r=setTimeout(a.onerror,a.timeout);i(e,t,function(e){clearTimeout(r),n&&n(e)},{once:a.once})};
},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});n.d(t,'FAILED',function(){return m});n.d(t,'QUEUED',function(){return h});n.d(t,'PROCESSING',function(){return g});n.d(t,'READY',function(){return y});n.d(t,'filter',function(){return _});n.d(t,'one',function(){return b});n.d(t,'readyPublicMp4s',function(){return v});n.d(t,'readyPublicM3u8s',function(){return A});n.d(t,'readyPublicFlvs',function(){return w});n.d(t,'readyPublicMp4sAndFlvs',function(){return k});n.d(t,'filterOver400',function(){return E});n.d(t,'readyPublicOver400',function(){return C});n.d(t,'nonfailedPublicOver400',function(){return P});n.d(t,'withinQualityRange',function(){return S});n.d(t,'numericSizeSnapped',function(){return x});n.d(t,'findClosestAssetByQuality',function(){return T});n.d(t,'still',function(){return I});n.d(t,'stillUrl',function(){return O});n.d(t,'getStillWidth',function(){return M});n.d(t,'BAKERY_HOSTS',function(){return D});n.d(t,'isBakeryUrl',function(){return F});n.d(t,'onePublicReadyWithContainer',function(){return L});n.d(t,'mp4',function(){return N});n.d(t,'webm',function(){return W});n.d(t,'m3u8',function(){return H});n.d(t,'flv',function(){return R});n.d(t,'original',function(){return j});n.d(t,'playable',function(){return V});n.d(t,'isScreencast',function(){return U});n.d(t,'videoAspect',function(){return z});n.d(t,'originalAspect',function(){return G});n.d(t,'iphone',function(){return q});n.d(t,'smallestNormalMp4',function(){return Q});n.d(t,'urlWithCorrectHost',function(){return K});n.d(t,'nearestOutsideRange',function(){return Y});n.d(t,'moveToFront',function(){return X});var a=n(2),i=n(19),r=n.n(i),l=n(6),s=n(4),d=n(5),p=n(1),u=function(){function e(e,t){var n,i=[],a=!0,r=!1;try{for(var l,s=e[Symbol.iterator]();!(a=(l=s.next()).done)&&(i.push(l.value),!(t&&i.length===t));a=!0);}catch(e){r=!0,n=e}finally{try{!a&&s['return']&&s['return']()}finally{if(r)throw n}}return i}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),c=Array.prototype.slice,m=-1,h=0,g=1,y=2,f=['select','sortFn','sortBy','unique'],_=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};e.assets&&(e=e.assets),(null!=t.qualityMin||null!=t.qualityMax)&&(e=S(e,t.qualityMin,t.qualityMax),t=a.except(t,['qualityMin','qualityMax']));var n=a.only(t,f),r=n.select||a.except(t,f);r&&(n.select=r);var l=n.select?a.select(e,n.select):a.clone(e);if((n.sortFn||n.sortBy)&&(l=a.sort(l,n.sortFn||n.sortBy)),n.unique){for(var s={},d=0;d<l.length;d++){var i=l[d],p=i[''+n.unique]||'__undefined__';s[p]||(s[p]=i)}for(var u in l=[],s)l.push(s[u])}return l},b=function(e,t){return _(e,t)[0]||null},v=function(e){return _(e,{container:'mp4',status:y,public:!0})},A=function(e){return _(e,{container:'m3u8',status:y,public:!0})},w=function(e){return _(e,{container:'flv',status:y,public:!0})},k=function(e){return _(e,{container:/mp4|flv/,status:y,public:!0})},E=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n],a=null!=i.opt_vbitrate&&500<=i.opt_vbitrate&&1e5>=i.opt_vbitrate,r=null!=i.width&&400<i.width;(a||r)&&t.push(i)}return t},C=function(e){return E(_(e,{container:/mp4|flv/,public:!0,status:y}))},P=function(e){return E(_(e,{container:/mp4|flv/,public:!0,status:function(e){return e!==m}}))},S=function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:100,n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:1e4;return _(e,{select:function(e){var i=x(e.width,e.height);return t<=i&&i<=n}})},x=function(e,t){if(t>e){var n=e;e=t,t=n}var i=e/t,a=e*t+1;return a>=3840*(3840/i)?2160:a>=2560*(2560/i)?1440:a>=1920*(1920/i)?1080:a>=1280*(1280/i)?720:a>=960*(960/i)?540:a>=640*(640/i)?360:t},T=function(e,t){var n=Math.abs,i;i='4k'===t?2160:parseInt(t,10);var a=S(e,i,i)[0];if(a)return a;var r=Y(e,i,i);if(1===r.length)return r[0];var l=z(e),s=Math.round(l*i),d=u(r,2),p=d[0],c=d[1],m=n(p.width-s),h=n(c.width-s);return m<h?p:c},I=function(e){var t=b(e,{type:'still_image',sortBy:'created_at desc'});return t||(t=b(e,{container:/mp4/,sortBy:'width desc'})),t},B=r()('fast'),O=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=I(e);if(n.status!==y)return'//'+B+'/assets/images/blank.gif';t=a.merge({aspect:n.width/n.height,stillUrl:n.url,playButton:!1,playerColor:t.playerColor||'636155',videoWidth:n.width||640,videoHeight:n.height||360,stillSnap:!0},t);var i=t.videoWidth,r=t.videoHeight,s=new l.Url(t.stillUrl);return(t.retina&&(s.params.image_play_button_size='2x',i*=2,r*=2),t.stillSnap&&(i=M({videoWidth:i,masterStillWidth:n.width}),r=Math.round(i/t.aspect)),!F(t.stillUrl))?t.stillUrl:('https:'===t.protocol&&(s.protocol='https:',s.host='embed-ssl.wistia.com'),s.params.image_crop_resized=i+'x'+r,(null==t.playButton||t.playButton)&&(s.params.image_play_button=1,s.params.image_play_button_color=(''+t.playerColor).replace(/^#+/,'')+'e0'),s.ext('jpg'),s.absolute())},M=function(e){var t=[640,960,1280,1920,3840];3840>e.masterStillWidth&&t.push(e.masterStillWidth);for(var n,a=[],r=0;r<t.length;r++)n=t[r],n<=e.masterStillWidth&&a.push(n);a.sort(function(e,t){return e-t});for(var i,l=0;l<a.length;l++)if(i=a[l],e.videoWidth<=i)return i;return Math.max.apply(Math,a)},D=['embed.wistia.com','embed-ssl.wistia.com','embed.wistia.com','embed-ssl.wistia.com',r()('embed'),r()('prime'),r()('mixergy-cdn'),r()('embed-a'),'embedwistia-a.akamaihd.net'],F=function(e){if(null==e)return!1;var t=new l.Url(e);return!!t.host&&0<=D.join(',').indexOf(t.host)},L=function(e,t,n){return n=a.merge({container:t,public:!0,status:y},n),b(e,n)},N=function(e,t){return L(e,'mp4',t)},W=function(e,t){return L(e,'webm',t)},H=function(e,t){return L(e,'m3u8',t)},R=function(e,t){return L(e,'flv',t)},j=function(e){return b(e,{type:'original'})},V=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:Object(s.cachedDetect)();return n.video.webm?W(e,t)||N(e,t):N(e,t)},U=function(e){var t=j(e);return t&&640<t.width&&1200>t.bitrate},z=function(e){var t=N(e)||R(e)||H(e)||W(e)||j(e);return t&&t.height?t.width/t.height:640/360},G=function(e){var t=j(e);return t&&t.width&&t.height?t.width/t.height:z(e)},q=function(e,t){var n=z(e);if(1<n)return t=a.merge({width:640},t),N(e,t)||Q(e,t);var i=a.merge({width:320},t),r=a.merge({width:640},t);return N(e,i)||N(e,r)||Q(e,t)},Q=function(e,t){return t=a.merge({sortBy:'width asc',width:[640,1920]},t),N(e,t)},K=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Object(l.proto)(),n=new l.Url(e);return F(e)&&('https:'===t?(n.host=d.deliveryHost(location.protocol),n.protocol='https:'):(n.host=d.deliveryHost(location.protocol),n.protocol='http:')),n.absolute()},Y=function(e,t,n){if(0===e.length)return[];for(var a=c.call(e).sort(function(e,t){return x(e.width,e.height)-x(t.width,t.height)}),r=a[0],l=a[a.length-1],s=void 0,d=void 0,u=0;u<a.length;u++){var i=a[u],m=x(i.width,i.height);if(m<t&&(s=i),m>=n){d=i;break}}var h=[];return s&&h.push(s),d&&h.push(d),0===h.length&&(p.wlog.error('nearestOutsideRange: no nearby assets found, using first in list',a[0]),h.push(a[0])),h},X=function(e,t){if(!t)return e;for(var n,a=-1,r=0;r<e.length;r++)if(n=e[r],n.url===t.url){a=r;break}return 0<a&&(e.splice(a,1),e.unshift(t)),e};
},function(e){var t;t=function(e){var t;return null==e&&(e='app'),t=e?e+'.'+'wistia.com':'wistia.com','80'!=='80'&&(t+=':'+'80'),t},e.exports=t;
},,function(e){var t,n=[].slice;t=function(){function e(){return this._queue=[],this._green=!1,this._lock=!1,this.allInOne=function(e){return function(){return e._allInOne.apply(e,arguments)}}(this),this.defineMethodsOn(this.allInOne),this.allInOne}return e.prototype.defineMethodsOn=function(e){var t,n,i,a,r;for(n in t={},i=this,a=[],i)r=i[n],a.push(function(){return function(n,i,a){if('[object Function]'===t.toString.call(i))return e[n]=function(){return a[n].apply(a,arguments)}}}(this)(n,r,this));return a},e.prototype.flush=function(){var e,t;if(e=1<=arguments.length?n.call(arguments,0):[],!this._green)return this;for(this._lock=!0;0<this._queue.length&&(t=this._queue.shift(),e.length||!this.goArgs?this.tryAndReport(function(){return t.apply(null,e)}):this.tryAndReport(function(e){return function(){return t.apply(null,e.goArgs)}}(this)),!this._block&&this._green););return this._lock=!1,this},e.prototype._debug=function(){return'undefined'!=typeof console&&null!==console?console.log.apply(console,arguments):void 0},e.prototype.synchronize=function(){var e,t,a,i;for(t=1<=arguments.length?n.call(arguments,0):[],a=0,i=t.length;a<i;a++)e=t[a],this.synchronizeFn(e);return this},e.prototype.synchronizeFn=function(e){var t,n,i;return n=null,t=function(e){return function(){return clearTimeout(n),e._block=!1,e.go()}}(this),i=function(n){return function(){return n._block=!0,n.stop(),e(t)}}(this),n=setTimeout(function(n){return function(){return n._debug('StopGo#synchronize timed out',e),t()}}(this),5e3),this.runFn(i),this},e.prototype.tryAndReport=function(t){var n;try{return t()}catch(e){return n=e,n.stack?('undefined'!=typeof console&&null!==console&&console.log(n.message),'undefined'!=typeof console&&null!==console?console.log(n.stack):void 0):'undefined'!=typeof console&&null!==console?console.log(n):void 0}},e.prototype.clearSynchronized=function(){return this.setQueue([]),this._block=!1,this._green=!0},e.prototype.filter=function(e){var t;return this._queue=function(){var n,i,a,r;for(a=this._queue,r=[],(n=0,i=a.length);n<i;n++)t=a[n],e(t)&&r.push(t);return r}.call(this),this},e.prototype.push=function(e){return this._queue.push(e),this},e.prototype.go=function(){var e;return e=1<=arguments.length?n.call(arguments,0):[],this._green=!0,this.goArgs=e,this.flush.apply(this,e),this},e.prototype.stop=function(){return this._green=!1,this},e.prototype.run=function(){var e,t,a,i;for(t=1<=arguments.length?n.call(arguments,0):[],a=0,i=t.length;a<i;a++)e=t[a],this.runFn(e);return this},e.prototype.then=function(){return this.run.apply(this,arguments)},e.prototype.runFn=function(e){return this._green&&!this._block?this._lock?this.tryAndReport(e):(this.push(e),this.flush()):this.push(e),this},e.prototype.remove=function(){var e,t,a,i;for(t=1<=arguments.length?n.call(arguments,0):[],a=0,i=t.length;a<i;a++)e=t[a],this.removeFn(e);return this},e.prototype.removeFn=function(e){return this.filter(function(t){return e!==t}),this},e.prototype.setQueue=function(e){return this._queue=e,this},e.prototype.getQueue=function(){return this._queue},e.prototype._allInOne=function(){var e,t;return e=arguments[0],t=2<=arguments.length?n.call(arguments,1):[],!0===e?this.go.apply(this,t):!1===e?this.stop():null==e?this._green:e instanceof Array?this.run.apply(this,e):'string'==typeof e?this[e].apply(this,t):this.run.apply(this,arguments)},e}(),t.when=function(){var e,a,i,r,l,s,d,p;for(p=1<=arguments.length?n.call(arguments,0):[],s=new t,i=function(){return s.go.apply(s,arguments)},l=p.reverse(),e=function(e,t){return i=function(){return t(function(){return e.apply(null,arguments)})}},(a=0,r=l.length);a<r;a++)d=l[a],e(i,d);return i(),s},e.exports=t;
},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});n.d(t,'controlDimensionsForVideo',function(){return p});n.d(t,'scalingOptionsFromVideo',function(){return u});n.d(t,'controlDimensions',function(){return c});n.d(t,'bigPlayButtonDimensions',function(){return m});n.d(t,'fontSizeMultiplier',function(){return h});n.d(t,'allowBigControls',function(){return g});n.d(t,'maxMultiplierForVideo',function(){return y});n.d(t,'minMultiplierForVideo',function(){return f});n.d(t,'getZoomMultiplier',function(){return _});n.d(t,'getDeviceMultiplier',function(){return b});n.d(t,'controlMultiplierForVideo',function(){return v});n.d(t,'controlMultiplier',function(){return A});n.d(t,'menuMultiplier',function(){return w});n.d(t,'fitControl',function(){return k});n.d(t,'tapIcon',function(){return E});n.d(t,'controlMultiplierBasedOnVideo',function(){return S});var i=n(7),a=n(10),r=n(4),l=n(2),s=function(){function e(e,t){var n,i=[],a=!0,r=!1;try{for(var l,s=e[Symbol.iterator]();!(a=(l=s.next()).done)&&(i.push(l.value),!(t&&i.length===t));a=!0);}catch(e){r=!0,n=e}finally{try{!a&&s['return']&&s['return']()}finally{if(r)throw n}}return i}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),d=Object(r.cachedDetect)(),p=function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},n=arguments[2],i=arguments[3];return c(u(e,t),n,i)},u=function(e,t){return l.merge({videoWidth:e.videoWidth(),videoHeight:e.videoHeight(),isInFullscreen:e.inFullscreen(),controlScaling:e.controlScaling()},t)},c=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:40,n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:34;e=l.merge({videoWidth:640,videoHeight:360,isInFullscreen:!1,baseWidth:null==t?40:t,baseHeight:null==n?34:n},e);var i=A(e);return{width:i*e.baseWidth,height:i*e.baseHeight}},m=function(e,t,n){return c(e,t,n)},h=function(e){return A(e)},g=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},t=e.screenHeight||window.screen.height,n=e.screenWidth||window.screen.width;return'auto'!=e.controlScaling||d.iphone||d.android||n<t},y=function(e){return'auto'==e.controlScaling?g(e)?3.5:1.4:e.controlScaling},f=function(e){return'auto'==e.controlScaling?g(e)?1:0.75:e.controlScaling},_=function(e){var t=Math.max;if(!e.isInFullscreen)return 1;var n=t(1,window.innerWidth/t(screen.width,screen.height));return n},b=function(e){return g(e)?1.4:1},v=function(e,t){return A(u(e,t))},A=function(e){var t=Math.max;if('auto'!=e.controlScaling)return e.controlScaling;var n=e.videoWidth,i=e.videoHeight,a=e.isInFullscreen,r=_(e),l=t(n,i);if(960<l){var s=l/960*b(e);return Math.min(y(e)*r,s*r)}if(640>l){var d=l/640*b(e);return t(f(e)*r,d*r)}return 1*b(e)},w=function(e){return Math.max(0.75,A(e))},k=function(e){var t=e,n=t.controlId,a=t.video,r=t.controlElem;e=l.merge({videoWidth:a.videoWidth(),videoHeight:a.videoHeight(),controlScaling:a.controlScaling(),isInFullscreen:a.inFullscreen()},e);var s=c(e),d=s.width,p=s.height;return Object(i.elemStyle)(r,{height:p+'px',width:d+'px'}),E(a.uuid+'.'+n,r),{width:d,height:p}},E=function(e,t){for(var n=t.getElementsByTagName('svg'),r=0;r<n.length;r++)(function(t){Object(a.doTimeout)(e+'.tap_icon',function(){Object(i.elemStyle)(t,{position:'relative'}),Object(a.doTimeout)('#{timeoutPrefix}.tap_icon',function(){Object(i.elemStyle)(t,{position:''})},30)},30)})(n[r])},C=function(){var e=document.querySelector('meta[name=viewport]'),t=e&&e.getAttribute('content'),n={};if(t){var i=t.split(/[\s,]+/);i.forEach(function(e){var t=e.split('=');2===t.length&&(n[t[0]]=l.cast(t[1]))})}return n},P=function(){var e=d.iphone||d.ipad||d.android;if(!e)return[640,960];var t,n=C();if(n.width){t='number'==typeof n.width?0+n.width:screen.width||window.innerWidth;var i=Math.max(n['minimum-scale']||0,Math.min(n['maximum-scale']||10,n['initial-scale']||1));1>i&&(t/=i)}else t=window.innerWidth;return[t,2*t/3]},S=function(e,t){var n=e.videoWidth(),i=t||P(),a=s(i,2),r=a[0],l=a[1];return n<r?n/r:n>l?n/l:1};
},,function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});n.d(t,'AJAX_DEFAULTS',function(){return g});n.d(t,'ajaxGet',function(){return y});n.d(t,'ajaxHead',function(){return f});n.d(t,'ajaxPost',function(){return _});n.d(t,'ajax',function(){return b});var i=n(2),a=n(6),r=n(4),l=n(15),s=n(1),d=n(9),p=n(17),u=n(10),c='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},m=Object(r.cachedDetect)(),h=s.wlog.getPrefixedFunctions('ajax'),g={type:'GET',contentType:'',headers:void 0,data:void 0,dataType:void 0,timeout:0,success:void 0,error:void 0,complete:void 0},y=function(e,t){return t=Object(i.merge)({},t,{type:'GET',data:void 0}),b(e,t)},f=function(e,t){return t=Object(i.merge)({},t,{type:'HEAD',data:void 0}),b(e,t)},_=function(e,t){return t=Object(i.merge)({contentType:'application/x-www-form-urlencoded'},t,{type:'POST'}),b(e,t)},b=function(e,t){h.info('ajax',e,t);var n=Object(i.merge)({},g,t),r=new a.Url(e);r.protocol=r.protocol||Object(a.proto)();var y=!!(m.browser.msie&&11>m.browser.version),f=Object(a.proto)()!==r.protocol;if(h.info('noHttpToHttpsSupport',y,'isHttpToHttps',f),n.fallbackToJsonp&&f&&y)if(h.info('fallbackToJsonp'),!n.type||/get/i.test(n.type)){var _=r.params;n.data&&Object(i.isObject)(n.data)&&(_=Object(i.merge)(_,n.data)),n.jsonpCallback&&(_.callback=n.jsonpCallback),r.params={};var b=Object(l.findScriptInDomBySrc)(r.absolute(),{ignoreProtocol:!0,testStartsWith:!0});b&&(h.info('found existing script, removing',r.absolute()),b.onload=b.onreadystatechange=b.onerror=null,b.parentNode&&b.parentNode.removeChild(b));var s=Object(d['default'])('ajax-jsonp.');Object(p.jsonp)(r.absolute(),_,function(e){if(Object(u.clearTimeouts)(s),'json'===n.dataType&&'string'==typeof e)try{var t=JSON.parse(e);n.success(t,'OK',e),n.complete(null,'OK')}catch(t){n.error(null,'parseerror',e),n.complete(null,e)}else n.success(e,'OK')}),Object(u.doTimeout)(s,function(){n.error(null,'timeout'),h.warn('request timed out:',r.absolute(),_)},6e4)}else return void(Object(i.isFunction)(n.error)&&n.error.call(null,null,'error','This browser does not support POST requests from an http to an https domain. To use this feature, please make sure this page is loaded over https.'));var v=r.absolute(),w=A(v);if(!w)return Object(i.isFunction)(n.error)&&n.error.call(null,w,'error','Could not create XMLHttpRequest'),void(Object(i.isFunction)(n.complete)&&n.complete.call(null,w,'error'));var k=null!=window.XDomainRequest&&w instanceof window.XDomainRequest,E=!1,C=!1,P=function(e,t,a){!E&&Object(i.isFunction)(n.error)&&n.error.call(null,e,t,a),E=!0},S=function(e,t,a){Object(i.isFunction)(n.success)&&!E&&n.success.call(null,e,t,a),E=!0},x=function(e,t){Object(i.isFunction)(n.complete)&&!C&&n.complete.call(null,e,t),e.onerror=e.ontimeout=e[k?'onload':'onreadystatechange']=null,C=!0};h.info('xhr.open',n.type,v),w.open(n.type,v,!0);var T=function(){if(!(null!=w.status&&(200<=w.status&&300>w.status||304==w.status)))P(w,'error',w.statusText),h.warn('error',w.statusText);else if('json'==n.dataType&&'object'!==c(w.response))try{var e=JSON.parse(w.responseText);h.info('success',w.statusText,e),S(e,w.statusText,w)}catch(t){P(w,'parseerror',t),h.warn('parseerror'),h.warn(t)}else S(w.response||w.responseText,w.statusText,w),h.info('success',w.statusText,w.response||w.responseText);x(w,w.statusText),h.info('complete',w.statusText)},I=function(e,t){P(w,e,t),x(w,e)};if(n.timeout&&(w.timeout=n.timeout),null!=n.dataType&&(w.responseType=n.dataType),Object(i.isFunction)(w.setRequestHeader)&&(n.contentType&&w.setRequestHeader('Content-Type',n.contentType),n.headers))for(var B in n.headers)w.setRequestHeader(B,n.headers[B]);if(n.withCredentials&&(w.withCredentials=!0),k){if(h.info('isXDomainObject'),null!=n.headers)return I('error','custom headers disallowed for XDomainRequest');w.onload=function(){h.info('XDomainObject onload'),w.status=200,w.statusText='OK',T()},w.onerror=function(){return I('error','error')},w.ontimeout=function(){return I('timeout','timeout')}}else w.onreadystatechange=function(){h.info('xhr onreadystatechange',w.readyState),4==w.readyState&&T()},w.onerror=function(){return I('error','error')},w.ontimeout=function(){return I('timeout','timeout')};return h.info('xhr.send',n.data),w.send(n.data),w},v=[function(){var e,t;return function(n){if(null!=window.XDomainRequest){null==e&&(e=window.location.href),null==t&&(t=new a.Url(e.toLowerCase()));var i=new a.Url(n.toLowerCase()),r=!1;return r||(r=t.protocol!=i.protocol),r||(r=t.host!=i.host),r?new window.XDomainRequest:null}}}(),function(){return new XMLHttpRequest},function(){return new ActiveXObject('Microsoft.XMLHTTP')}],A=function(e){for(var t,n=void 0,a=0;a<v.length;a++){t=v[a];try{n=t(e)}catch(t){continue}if(!!n)break}return n};
},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});n.d(t,'getDefaultContext',function(){return S});n.d(t,'buildContext',function(){return x});n.d(t,'choosePlayer',function(){return T});n.d(t,'bestPlayer',function(){return I});n.d(t,'isValidPlayer',function(){return B});n.d(t,'canUsePlayer',function(){return O});n.d(t,'canPlayInline',function(){return M});n.d(t,'usablePlayers',function(){return D});n.d(t,'supportedPlayers',function(){return F});n.d(t,'isSupportedPlayer',function(){return L});n.d(t,'hasAssetsForPlayer',function(){return N});n.d(t,'determinePlayerPreferenceFromInput',function(){return W});n.d(t,'isMobile',function(){return H});n.d(t,'isPasswordProtected',function(){return R});n.d(t,'isNotPlayable',function(){return j});n.d(t,'noFallbackFromFlash',function(){return V});n.d(t,'logWarnings',function(){return U});n.d(t,'shouldServeHls',function(){return z});n.d(t,'hasDesktopHlsAssets',function(){return G});n.d(t,'xhrHasBeenTamperedWith',function(){return K});n.d(t,'urlHasBeenTamperedWith',function(){return Y});n.d(t,'PLUGIN_CONFIGS',function(){return Z});n.d(t,'playerPlugins',function(){return ee});n.d(t,'enginesToLoad',function(){return te});n.d(t,'bestUsableEngineClass',function(){return ne});n.d(t,'bestUsableEngine',function(){return ie});n.d(t,'report',function(){return ae});var i=n(8),a=n(0),r=n(18),l=n(2),s=n(26),d=n(4),p=n(1),u,c=p.wlog.getPrefixedFunctions('judy'),m='vulcan',h='vulcan-v2',g='html5',y='simplehtml5',f='flash',_='external',b='notplayable',v='passwordprotected',A='auto',w=[m,h,g,y,f,_,b,v],k='nativeHlsVideo',E='hlsVideo',C='manualQualityVideo',P='twoStrokeVideo',S=function(){return u?u:(u={location:window.location,logger:c,pageUrl:location.href,detect:l.clone(Object(d.cachedDetect)()),userAgent:navigator.userAgent,silenceGlobalWarnings:i.a.wistiaSilenceGlobalWarnings,inIframe:top!==self},u)},x=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return l.assign({},S(),e)},T=function(e,t,n){var i=e.logger,a=t.assets,r=n.force,l=n.playerForce;!l&&r&&(l=r),i.info('choosePlayer input',t.hashedId);var s=W(e,t,n);if(l&&!B(e,l)&&(i.error('Invalid playerForce option: "'+l+'", ignoring'),l=r=null),s&&s!==A&&!B(e,s)&&(i.error('Invalid playerPreference option: "'+s+'", ignoring'),s=A),i.info('playerPreference is',s),l)return i.info('"playerForce" used, return',l),l;if(R(e,n))return i.info('return',v),v;if(j(e,t))return i.info('return',b),b;if(s!==A&&O(e,s,a)){var d=(t.spherical||n.spherical)&&!n.overrideSpherical;return s===h&&d?(i.info('vulcan-v2 doesn\'t support spherical, return',m),m):(i.info('"playerPreference" used, return',s),s)}return i.info('choosing player with no preference'),I(e,t,n)},I=function(e,t,n){var i=e.location,a=e.detect,r=e.logger,s=e.inIframe,d=t.assets;if(a.oldandroid)return r.info('oldandroid'),O(e,f,d)&&'https:'===i.protocol?(r.info('flash on old android'),f):(r.info('external on old android'),_);if(O(e,m,d)){var p=(t.spherical||n.spherical)&&!n.overrideSpherical,u=l.get(n,'plugin.captions-v1'),c=null!=u&&!1!==u.on,h=a.iphone||a.android||a.ipad;return!1===n.playsinline&&h||!p&&0<a.ios.version&&n._inIframe&&c&&!1!==n.fullscreenButton?(r.info('ios iframe w/ captions, ret',g),g):(r.info('default, ret',m),m)}return O(e,f,d)?(r.info('default, ret',f),f):O(e,g,d)?(r.info('default, ret',g),g):V(e)?(r.info('no fallback from flash, return',f),f):(r.info('nothing left, use',_),_)},B=function(e,t){return 0<=l.indexOf(w,t)},O=function(e,t,n){return L(e,t)&&N(e,t,n)},M=function(e){var t=e.detect;return t.android||10<=t.ios.version},D=function(e,t){for(var n,a=[],r=F(e),l=0;l<r.length;l++)n=r[l],O(e,n,t)&&a.push(n);return a},F=function(e){var t=e.detect,n=[b,v,_];return t.vulcanSupport?(n.push(m),n.push(h)):(t.iphone||t.ipad||t.android)&&(n.push(m),n.push(h)),t.video.h264&&n.push(g),9<=t.flash.version&&n.push(f),n},L=function(e,t){return!!B(e,t)&&0<=l.indexOf(F(e),t)},N=function(e,t,n){if(!B(e,t))return!1;if(t===b||t===v)return!0;if(t===m||t===h)return 0<r.readyPublicMp4s(n).length||0<r.readyPublicM3u8s(n).length;if(t===g)return 0<r.readyPublicMp4s(n).length;if(t===f)return 0<r.readyPublicFlvs(n).length||0<r.readyPublicMp4s(n).length;if(t===_)return 0<r.readyPublicMp4s(n).length;throw new Error('Unhandled player type \''+t+'\'')},W=function(e,t,n){var i=n.playerPreference||n.platformPreference;return i&&i!==A?i===g?H(e)?g:m:i===y?g:i:A},H=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:context,t=e.detect;return t.iphone||t.ipad||t.android},R=function(e,t){var n=l.get(t,'plugin.passwordProtectedVideo');return null!=n&&!1!==n.on},j=function e(t,n){var i=n.assets;return 0===i.length||1===i.length&&'original'===i[0].type||0==r.readyPublicMp4sAndFlvs(i).length||0<r.nonfailedPublicOver400(i).length&&0===r.readyPublicOver400(i).length||oe(n)&&e(t,n.secondaryMediaData)},V=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:context,t=e.detect;return t.browser.msie&&(9>t.browser.version||t.browser.quirks)||t.browser.mozilla},U=function(e){var t=e.detect,n=e.userAgent,i=e.logger,a=e.silenceGlobalWarnings;if(!a){var r=t.browser.msie&&11>t.browser.version,l=/phantomjs/i.test(n);!K()||l||r||i.error('The XMLHttpRequest constructor has been tampered with. Because this affects CORS/Range XHR requests, HLS playback has been disabled. To enable HLS playback and other important features, please remove code that changes the definition of window.XMLHttpRequest.'),Y()&&t.mediaSource&&!l&&!r&&i.error('window.URL.createObjectURL has been tampered with. Because this affects use of Media Source Extensions, HLS playback has been disabled. window.URL is a browser API that should not be clobbered. Its current value is:',window.URL)}},z=function(e,t,n){var i=e.detect;return(i.mediaSource||i.nativeHls)&&(!i.chrome||50<parseInt(i.chrome.version))&&!i.trident&&(t.hls_enabled||X(e,n))&&!1!==X(e,n)&&G(e,t.assets)&&(!K(e)&&!Y(e)||X(e,n))},G=function(e,t){var n=r.filter(t,{container:'m3u8',type:'hls_video',status:r.READY,sortBy:'width desc',metadata:function(e){return e&&e.max_bitrate},display_name:function(e){return'Audio'!=e}}),i=r.filter(t,{container:'mp4',status:r.READY,sortBy:'width desc'});return 0<n.length&&(0===i.length||n[0].width>=i[0].width)},q=/\s*function\s+XMLHttpRequest\(\)\s*{\s*\[native code\]\s*}\s*/m,Q=/\[object XMLHttpRequestConstructor\]/m,K=function(){if(XMLHttpRequest&&XMLHttpRequest.prototype&&XMLHttpRequest.prototype.constructor){var e=XMLHttpRequest.prototype.constructor.toString();return!(q.test(e)||Q.test(e))}return!0},Y=function(){return'function'!=typeof(window.URL&&window.URL.createObjectURL)},X=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:context,t=e.pageUrl,n=arguments[1],i=J(t);if(null!=i)return i;var a=Object(s.setOrGet)('forceHls');return null==a?n.hls:a},J=function(e){var t=e&&e.match&&e.match(/[\&\?]whls=([^\&]+)/),n=t&&t[1];return null==n?null:l.cast(n)},Z={sphericalVideo:{on:!0,initBeforeHasData:!1,async:!1},notPlayableVideo:{on:!0,initBeforeHasData:!0,async:!1,loadWeight:-1},vulcanVideo:{on:!0,initBeforeHasData:!1,async:!1,loadWeight:-1},vulcanV2Video:{on:!0,initBeforeHasData:!1,async:!1,loadWeight:-1},hlsVideo:{on:!0,initBeforeHasData:!1,async:!1,loadWeight:0},nativeHlsVideo:{on:!0,initBeforeHasData:!1,async:!1,loadWeight:0},passwordProtectedVideo:{on:!0,initBeforeHasData:!0,async:!1,loadWeight:-1},encodingProgress:{on:!0,initBeforeHasData:!1,async:!0,loadWeight:100},flashPlayer:{on:!0,initBeforeHasData:!1,async:!1,loadWeight:-1},html5Player:{on:!0,initBeforeHasData:!1,async:!1,loadWeight:-1}},$=function(e,t){var n={};return n[t]=Z[t],n},ee=function(e,t,n,a){var r=e.detect,s=e.logger,d={};if(s.info('playerPlugins input',t,n.hashedId,n,a),t===b)l.merge(d,$(e,'notPlayableVideo'));else if(t===v)l.merge(d,$(e,'passwordProtectedVideo'));else if(t===g)l.merge(d,$(e,'html5Player'));else if(t===f)l.merge(d,$(e,'flashPlayer'));else if(t===h)l.merge(d,$(e,'vulcanV2Video'));else if(t===m){l.merge(d,$(e,'vulcanVideo')),(n.spherical||a.spherical)&&!a.overrideSpherical&&l.merge(d,$(e,'sphericalVideo'));for(var p=te(e,n,a),u=0;u<p.length;u++)l.merge(d,$(e,p[u]))}var i=[];for(var c in d)i.push(c);return s.info.apply(s,['playerPlugins output'].concat(i,[d])),d},te=function e(t,n){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},a=t.detect,r=t.logger,s=[];r.info('enginesToLoad');var d=z(t,n,i);if(d&&a.nativeHls?(r.info(k),s.push(k)):d?(r.info(E),s.push(E)):(r.info(C),s.push(C)),oe(n)){r.info(P),s.push(P);var p=l.except(i,['twoStroke']),u=n.secondaryMediaData,c=e(t,u,p);s=s.concat(c)}else i.secondaryVideoUrl&&(r.info('secondaryVideoUrl',P),s.push(P));var m={};s.map(function(e){m[e]=!0});var h=[];for(var g in m)h.push(g);return h},oe=function(e){return!!e.secondaryMediaData},ne=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=e.detect,r=e.logger;r.info('bestUsableEngineClass');var l=z(e,t,n),s=a['default'].engines||{};return oe(t)&&s.TwoStrokeVideo?(r.info(P),s.TwoStrokeVideo):n.secondaryVideoUrl&&s.TwoStrokeVideo?(r.info(P),s.TwoStrokeVideo):l&&i.nativeHls&&s.NativeHlsVideo?(r.info(k),s.NativeHlsVideo):l&&s.HlsVideo?(r.info(E),s.HlsVideo):(r.info(C),s.ManualQualityVideo)},ie=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i=e.detect,a=e.logger;a.info('bestUsableEngineClass');var r=z(e,t,n);return oe(t)?(a.info(P),'engines/two_stroke_video.js'):n.secondaryVideoUrl?(a.info(P),'engines/two_stroke_video.js'):r&&i.nativeHls?(a.info(k),'engines/native_hls_video.js'):r?(a.info(E),'engines/hls_video.js'):(a.info(C),'engines/manual_quality_video.js')},ae=function(e,t,n){return{bestPlayer:I(e,t,n),supportedPlayers:F(e),usablePlayers:D(e,t.assets),playerPreferenceFromInput:W(e,t,n)}};
},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});n.d(t,'init',function(){return d});n.d(t,'uncache',function(){return p});n.d(t,'setOrGet',function(){return u});n.d(t,'removeLocalStorage',function(){return c});n.d(t,'dumpLocalStorage',function(){return m});var i=n(0),a=n(4),r=n(2),l=n(1),s=Object(a.cachedDetect)(),d=function(){if(s.localstorage&&null==i['default']._localStorage&&(i['default']._localStorage={},localStorage.wistia))try{i['default']._localStorage=JSON.parse(localStorage.wistia)}catch(t){l.wlog.notice(t)}},p=function(){i['default']._localStorage={}},u=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(s.localstorage){if(null==i['default']._localStorage&&d(),null!=t){n?Object(r.unset)(i['default']._localStorage,e):Object(r.set)(i['default']._localStorage,e,t);try{localStorage.wistia=JSON.stringify(i['default']._localStorage)}catch(t){l.wlog.notice(t)}return t}return null==e?i['default']._localStorage:Object(r.get)(i['default']._localStorage,e)}},c=function(e){return u(e,'nada',!0)},m=function(){if(s.localstorage){i['default']._localStorage={};try{localStorage.removeItem('wistia')}catch(t){l.wlog.error(t)}}};
},function(e,t,n){'use strict';var i=n(14),a=n.n(i);t.a=function(e,t){return new a.a(function(n,i){null==t&&(t=8e3);var a;a=document.createElement('script'),a.src=e,a.async=!0,a.type='text/javascript';var r=null,l=!1,s=function(){a.onerror=a.onreadystatechange=a.onload=null,clearTimeout(r),clearTimeout(p),r=setTimeout(function(){a&&a.parentNode&&a.parentNode.removeChild(a)},500)},d=function(){var e=a.readyState;l||e&&!/loaded|complete/.test(e)||(l=!0,setTimeout(function(){n(),s()},1))},p=setTimeout(function(){l=!0,s(),i('timeout')},t);a.onerror=function(){l=!0,s(),i('error')},a.onreadystatechange=d,a.onload=d,(document.body||document.head).appendChild(a)})};
},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});n.d(t,'bind',function(){return l});n.d(t,'unbind',function(){return s});n.d(t,'rebind',function(){return d});n.d(t,'trigger',function(){return p});n.d(t,'once',function(){return c});n.d(t,'initNamespace',function(){return m});n.d(t,'bindNamed',function(){return y});n.d(t,'unbindNamed',function(){return f});n.d(t,'unbindAllInNamespace',function(){return _});n.d(t,'bindify',function(){return v});n.d(t,'Bindings',function(){return A});var i=n(1),a=i.wlog.getPrefixedFunctions('bindify'),r=Array.prototype.slice,l=function(e,t){var n=this;return n._bindings||(n._bindings={}),n._bindings[e]||(n._bindings[e]=[]),n._bindings[e].push(t),function(){n.unbind(e,t)}},s=function(e,t){if(!this._bindings)return this;if(!this._bindings[e])return this;for(var n,a=[],r=0;r<this._bindings[e].length;r++)n=this._bindings[e][r],n!==t&&a.push(n);this._bindings[e]=a},d=function(e,t){return this.unbind(e,t),this.bind(e,t),{event:e,fn:t}},p=function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return this._bindings&&null!=this._bindings.all&&u.apply(this,['all',e].concat(n)),u.apply(this,[e].concat(n))},u=function(e){if(!this._bindings)return this;if(!this._bindings[e])return this;for(var t,n=r.call(arguments,1),l=void 0,s=this._bindings[e],d=0;d<s.length;d++){t=s[d];try{var i=t.apply(this,n);i===this.unbind&&(null==l&&(l=[]),l.push({event:e,fn:t}))}catch(t){a.error(t)}}if(l)for(var p,u=0;u<l.length;u++)p=l[u],this.unbind(p.event,p.fn);return this},c=function(e,t){return l(e,function(){return t.apply(this,r.call(arguments,0)),s})},m=function(e,t){null==e._namedBindings&&(e._namedBindings={}),null==e._namedBindings[t]&&(e._namedBindings[t]={})},h=function(e,t,n){return m(e,t),e._namedBindings[t][n]},g=function(e,t,n,i,a){m(e,t),e._namedBindings[t][n]={event:i,fn:a}},y=function(e,t,n,i){return a.debug('bindNamed',e,t,n),this.unbindNamed(e,t),g(this,e,t,n,i),this.bind(n,i),function(){this.unbindNamed(e,t)}},f=function(e,t){a.debug('unbindNamed',e,t),m(this,e);var n=h(this,e,t);if(n){var i=n.event,r=n.fn;this.unbind(i,r)}var l=this._namedBindings;return delete l[e][t],b(l[e])&&delete l[e],this},_=function(e){a.debug('unbindAllInNamespace',e);var t=this._namedBindings&&this._namedBindings[e];if(null==t)return this;for(var n in t)t.hasOwnProperty(n)&&this.unbindNamed(e,n)},b=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},v=function(e){return e.bind=l,e.unbind=s,e.on=l,e.off=s,e.rebind=d,e.trigger=p,e.bindNamed=y,e.unbindNamed=f,e.unbindAllInNamespace=_,e},A=function(){};v(A.prototype);
},,function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});n.d(t,'canEditMedia',function(){return h});n.d(t,'fetchMedia',function(){return g});n.d(t,'EMBED_SSL_ACCOUNT_IDS',function(){return y});n.d(t,'isEmbedSslMedia',function(){return f});n.d(t,'convertEmbedSslToAkamai',function(){return _});n.d(t,'cacheMedia',function(){return b});n.d(t,'uncacheMedia',function(){return v});n.d(t,'mediaFromCache',function(){return A});var i=n(8),a=n(0),r=n(21),l=n.n(r),s=n(5),d=n(1),p=n(6),u=n(17),c=n(9),m=n(10);null==a['default']._canEditMedia&&(a['default']._canEditMedia={}),null==a['default']._remoteMedia&&(a['default']._remoteMedia={});var h=function(e){var t;if(t=a['default']._canEditMedia[e])return t;t=a['default']._canEditMedia[e],null==t&&(t=a['default']._canEditMedia[e]=new l.a);var n='https://'+Object(s.cdnFastWistiaComHost)()+'/media_url',i={hashed_id:encodeURIComponent(e)};return Object(u.jsonpPlus)(n,i,function(e){e&&e.logged_in&&t.go(e)},{once:!0}),t},g=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},i=A(e);if(i){d.wlog.info('W.remote.media',e,'from local cache');var a='remote-media.'+e+'.'+Object(c['default'])();return Object(m.doTimeout)(a,function(){t(i)}),a}d.wlog.info('W.remote.media',e,'fetching');var r,l=Object(s.forceValidFastWistiaHost)(n.embedHost),h=Object(p.proto)()+'//'+l+'/embed/medias/'+e+'.json';null!=n.password&&(r={password:n.password});var g={onerror:function(){d.wlog.error('Timed out fetching '+h)},timeout:1e4,once:null==n.once||n.once};return Object(u.jsonpPlus)(h,r,function(n){n.error?(d.wlog.info('W.remote.media',e,'error',n),b(e,n),t(n)):(delete n.media.unnamed_assets,_(n.media),b(e,n.media),d.wlog.info('W.remote.media',e,'responded',n.media),t(n.media))},g)},y=[],f=function(e){if(e.accountKey)return!1;for(var t,n=0;n<y.length;n++)if(t=y[n],e.accountKey==='wistia-production_'+t)return!0;return!1},_=function(e){if(e.assets&&!f(e))for(var t,n=0;n<e.assets.length;n++)t=e.assets[n],t.url&&(t.url=t.url.replace(/^https:\/\/embed-ssl\.wistia\.com/,'https://embedwistia-a.akamaihd.net'));return e},b=function(e,t){return a['default']._remoteMedia[e]=t},v=function(e){a['default']._remoteMedia[e]=null,delete a['default']._remoteMedia[e],window['wistiajsonp-/embed/medias/'+e+'.json']=null},A=function(e){var t=a['default']._remoteMedia[e];if(t)return t;var n=i.a['wistiajsonp-/embed/medias/'+e+'.json'];return null!=n&&n.media?n.media:null};
},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});n.d(t,'fetchPlaylist',function(){return u});var i=n(0),a=n(17),r=n(6),l=n(5),s=n(1),d=n(9),p=n(10);null==i['default']._remotePlaylist&&(i['default']._remotePlaylist={});var u=function(e,t){var n;if(n=i['default']._remotePlaylist[e])Object(p.doTimeout)('remote-playlist.'+e+'.'+Object(d['default'])(),function(){t(n)});else{var u=Object(r.proto)()+'//'+Object(l.cdnFastWistiaComHost)()+'/embed/playlists/'+e+'.json',c=function(n){i['default']._remotePlaylist[e]=n,t(n)},m=function(){s.wlog.error('Timed out fetching '+u)};Object(a.jsonpPlus)(u,{},c,{onerror:m,timeout:1e4})}};
},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});n.d(t,'send',function(){return g});n.d(t,'msend',function(){return y});n.d(t,'count',function(){return f});n.d(t,'sample',function(){return _});var i=n(0),a=n(10),r=n(1),l=n(2),s=n(7),d=n(6),p=n(5),u=n(24),c=this,m=i['default'];null==m._metricsCache&&(m._metricsCache={});var h=m._metricsCache,g=function(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{};try{null==h.toMput&&(h.toMput=[]),null==h.requestId&&(h.requestId=0);var d=l.merge({type:e,key:t,value:null==n?null:n,request_id:h.requestId},i),p=JSON.stringify(d);r.wlog.debug('send metrics',p),h.toMput.push(p),Object(a.doTimeout)('metrics.debounce',function(){Object(s.pageLoaded)(function(){y.apply(c,h.toMput),h.toMput=[],h.requestId+=1})},500)}catch(t){r.wlog.error(t)}},y=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=Object(d.proto)()+'//'+Object(p.metricsHost)()+'/mput?topic=metrics';return Object(u.ajaxPost)(i,{data:t.join('\n')})},f=function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1,n=arguments[2];return g('count',e,t,n)},_=function(e,t,n){return g('sample',e,t,n)};
},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});n.d(t,'EventLoop',function(){return s});n.d(t,'globalEventLoop',function(){return p});var i=n(7),a=n(1),r=n(0),l=a.wlog.getPrefixedFunctions('event_loop'),s=function(){var e=this,t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};this._timeoutId=null,this._latency=null==t.latency?100:t.latency,this._blurLatency=null==t.blurLatency?2e3:t.blurLatency,this._functions={},this._paused={},Object(i.elemBind)(window,'blur',function(){return e.blur()}),Object(i.elemBind)(window,'focus',function(){return e.focus()}),this.start()},d=s.prototype;d.start=function(){var e=this;clearTimeout(this._timeoutId),this._loopFn=this._loopFn||function(){e.runFunctions(),e._timeoutId=setTimeout(e._loopFn,e._latency)},this._loopFn()},d.resync=function(){this.start()},d.resyncNextTick=function(){var e=this;setTimeout(function(){e.resync()},0)},d.stop=function(){clearTimeout(this._timeoutId)},d.clear=function(){this._functions={}},d.runFunctions=function(){this._pausedDirty&&this.updatePaused();var e=[];for(var t in this._functions){var n=this._functions[t],a=new Date().getTime(),r=a-n.lastRanAt;if(!n.paused&&r>=n.interval){n.lastRanAt=a;try{var s=n.fn();s===this.remove&&e.push(t)}catch(t){l.error(t)}}}for(var d=0;d<e.length;d++)this.remove(e[d])},d.add=function(e,t,n){var i=new Date().getTime();this._functions[e]={addedAt:i,lastRanAt:-1,interval:t,fn:n};var a=n();this._functions[e]&&(this._functions[e].lastRanAt=new Date().getTime()),this._functions[e]&&a===this.remove?delete this._functions[e]:this._pausedDirty=!0},d.remove=function(e){var t=this;this.forEachMatchingKey(e,function(e){delete t._functions[e]})},d.forEachMatchingKey=function(e,t){for(var n in this._functions){var i=this._functions[n];this.key1IncludesKey2(e,n)&&t(n,i)}},d.latency=function(e){return null==e?this._latency:void(this._latency=e)},d.interval=function(e,t){return null==t?this._functions[e].interval:void(null==this._functions[e]?l.notice('setting interval of ',e,'to',t,'failed because',e,'is not defined'):this._functions[e].interval=t)},d.pause=function(e){this._paused[e]=!0,this._pausedDirty=!0},d.unpause=function(e){this._paused[e]=!1,this._pausedDirty=!0},d.isPaused=function(e){for(var t in this.paused){var n=this._paused[t];if(n&&this.key1IncludesKey2(t,e))return!0}return!1},d.updatePaused=function(){for(var e in this._functions){var t=this._functions[e];t.paused=this.isPaused(e)}this._pausedDirty=!1},d.key1IncludesKey2=function(e,t){return'function'==typeof t.indexOf&&0===t.indexOf(e)&&(t.length===e.length||'.'===t.charAt(e.length))},d.blur=function(){this._blurred||(this._blurred=!0,this._savedLatency=this._latency,this._latency=this._blurLatency)},d.focus=function(){this._blurred&&(this._blurred=!1,this._latency=this._savedLatency,this.resync())},null==r['default'].eventLoop&&(r['default'].eventLoop=new s({latency:100,blurLatency:100}));var p=r['default'].eventLoop;
},,function(e,t,n){'use strict';n.d(t,'a',function(){return i});n.d(t,'b',function(){return a});n.d(t,'c',function(){return r});var i=['activeBufferRange','anyBuffered','bind','bindNamed','bufferInfo','cancelFullscreen','captureCurrentFrame','changeQuality','changeStream','changeStreamWithoutLoad','changeVideo','currentAsset','defaultAsset','destroy','diagnosticData','eventContext','fit','getCurrentQuality','getCurrentTime','getDuration','getPlaybackMode','getPlaybackRate','getPreload','getState','getTrim','getVolume','hasIssuedPlay','isChangingVideo','isInitializingFromUnmuted','isInFullscreen','isMuted','isSeeking','isSourceOfBrowserEvent','lastBufferedTime','mute','onEnterFullscreen','onHeightChange','onLeaveFullscreen','onPlayed','onReady','onWidthChange','pause','play','playType','requestFullscreen','reset','seek','seekOnPlay','selectedAsset','selectableAssets','selectableQualities','selectedQuality','sequentialBufferedRange','setAttributes','setCurrentTime','setPlaybackRate','setTrim','setVolume','showFirstFrame','stopStreaming','timeBeforeEndOfBuffer','totalBuffered','totalPlayed','trigger','unbind','unbindNamed','unbindAllInNamespace','unmute','videoElem'],a=function(e,t,n){for(var a,r=0;r<e.length;r++)a=e[r],t[a]||function(e){t[e]=function(){var t=n.call(this);return t?t[e].apply(t,arguments):null}}(a)},r=function(e,t){a(i,e,t)};
},,,function(e,t,n){var i,a;a=n(4).cachedDetect,i=function(){function e(t){t instanceof e?(this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a):t?this.parse(t):(this.r=this.g=this.b=0,this.a=1),this}var t,n,i,r,l,s,d,p=Math.round,u=Math.min,c=Math.max;return e.detect=a(),l=/^#?([0-9a-f]{3,4}|[0-9a-f]{6,8})$/i,d=/^rgba?\((\d{1,3}(?:\.\d+)?%?),\s*(\d{1,3}(?:\.\d+)?%?),\s*(\d{1,3}(?:\.\d+)?%?)(?:,\s*([01]?\.?\d*))?\)$/,s=/^\d+(\.\d+)*%$/,n=/([0-9a-f])/gi,t=function(e){return .5+e<<0},r=function(e){return s.test(e)?2.55*parseFloat(e):e},i=function(e,t,n){return 0>n&&(n+=1),1<n&&(n-=1),n<1/6?e+6*(t-e)*n:n<1/2?t:n<2/3?e+6*((t-e)*(2/3-n)):e},e.prototype.parse=function(e){var t,i;return l.test(e)?(i=e.replace(/^\#/,''),(3===i.length||4===i.length)&&(i=i.replace(n,'$1$1')),this.r=parseInt(i.substr(0,2),16),this.g=parseInt(i.substr(2,2),16),this.b=parseInt(i.substr(4,2),16),this.a=8===i.length?parseInt(i.substr(6,2),16)/255:1):d.test(e)&&(t=e.match(d),this.r=parseFloat(r(t[1])),this.g=parseFloat(r(t[2])),this.b=parseFloat(r(t[3])),this.a=t[4]?parseFloat(t[4]):1),this},e.prototype.clone=function(){return new e(this)},e.prototype._hslFromRgb=function(){var e,t,n,i,a,l,d,p,r,s;return(p=this.r/255,n=this.g/255,e=this.b/255,l=c(p,n,e),d=u(p,n,e),a=(l+d)/2,s=l,l===d&&(this._h=this._s=0),t=l-d,0===t)?(this._h=0,this._s=0,this._l=100*p,this):(r=.5<a?t/(2-l-d):t/(l+d),i=l===p?(n-e)/t+(n<e?6:0):l===n?(e-p)/t+2:(p-n)/t+4,i/=6,this._h=360*i,this._s=100*r,this._l=100*a,this)},e.prototype._rgbFromHsl=function(){var e,t,n,a,r;return e=this._h/360,r=this._s/100,t=this._l/100,a=.5>t?t*(1+r):t+r-t*r,n=2*t-a,this.r=255*i(n,a,e+1/3),this.g=255*i(n,a,e),this.b=255*i(n,a,e-1/3),this},e.prototype.blendChannel=function(e,t,n){return this[e]=n*t+(1-n)*this[e],this},e.prototype.blend=function(t,n){return t=new e(t),this.blendChannel('r',t.r,n),this.blendChannel('g',t.g,n),this.blendChannel('b',t.b,n),this},e.prototype.lightenChannel=function(e,t){return this[e]+=t,0>this[e]?this[e]=0:255<this[e]&&(this[e]=255),this},e.prototype.lighten=function(e){return this.looksLikePercent(e)?this.lightness(this.lightness()+parseFloat(e)):(this.lightenChannel('r',e),this.lightenChannel('g',e),this.lightenChannel('b',e)),this},e.prototype.darken=function(e){return'string'==typeof e?this.lighten('-'+e):this.lighten(-e)},e.prototype.looksLikePercent=function(e){return /^\-?\d+(\.\d+)?%$/.test(e)},e.prototype.lightness=function(e){return this._hslFromRgb(),null==e?this._l:(this._l=c(0,u(100,e)),this._rgbFromHsl(),this)},e.prototype.saturation=function(e){return this._hslFromRgb(),null==e?this._s:(this._s=c(0,u(100,e)),this._rgbFromHsl(),this)},e.prototype.grayLevel=function(){return(.299*this.r+.587*this.g+.114*this.b)/255},e.prototype.whiteLevel=function(){return u(u(this.r,this.g),this.b)},e.prototype.isGrayscale=function(){return this.r===this.g&&this.g===this.b},e.prototype.distanceFrom=function(e){var t=Math.pow;return Math.sqrt(t(this.r-e.r,2)+t(this.g-e.g,2)+t(this.b-e.b,2))},e.prototype.channelDominance=function(){return['r','g','b'].sort(function(e){return function(t,n){return e[n]-e[t]}}(this))},e.prototype.alpha=function(e){return null==this.a?this.a:(this.a=e,this)},e.prototype.red=function(e){return null==e?this.r:(this.r=e,this)},e.prototype.green=function(e){return null==this.g?this.g:(this.g=e,this)},e.prototype.blue=function(e){return null==this.b?this.b:(this.b=e,this)},e.prototype.toHex=function(){var e,t,n;return n=p(this.r).toString(16),t=p(this.g).toString(16),e=p(this.b).toString(16),1===n.length&&(n='0'+n),1===t.length&&(t='0'+t),1===e.length&&(e='0'+e),''+n+t+e},e.prototype.toHexWithAlpha=function(){var e;return e=p(255*this.a).toString(16),1===e.length&&(e='0'+e),''+e+this.toHex()},e.prototype.toRgb=function(){return'rgb('+p(this.r)+','+p(this.g)+','+p(this.b)+')'},e.prototype.toRgba=function(){return'rgba('+p(this.r)+','+p(this.g)+','+p(this.b)+','+this.a+')'},e.prototype.toRgbaOrHex=function(){return this.constructor.detect.browser.msie&&9>this.constructor.detect.browser.version?'#'+this.toHex():this.toRgba()},e.prototype.toPercent=function(){return'rgba('+100*(this.r/255)+'%,'+100*(this.g/255)+'%,'+100*(this.b/255)+'%,'+this.a+')'},e.prototype.toIeGradient=function(){return'progid:DXImageTransform.Microsoft.gradient(startColorStr=\'#'+this.toHexWithAlpha()+'\', endColorStr=\'#'+this.toHexWithAlpha()+'\')'},e.prototype.toString=function(){return this.toPercent()},e}(),e.exports=i;
},function(e){var t;t=function(){function e(t){var n,i,a,r,l,s,d,p,u;if(p=t.seedRange,d=t.seedFunction,u=t.seedStart,a=null==(r=t.outputStart)?0:r,i=null==(l=t.outputEnd)?1:l,n=null==(s=t.easing)?e.linear:s,null==p)throw new Error('Must provide seedRange argument');if(null!=d&&'function'!=typeof d)throw new Error('Given seed is not a function');if('function'!=typeof n)throw new Error('Invalid easing function given: '+this.easing);this._seedRange=p,this._seedFunction=d||function(){return new Date().getTime()},this._outputStart=a,this._outputEnd=i,this._easing=n,this._seedStart=('function'==typeof u?u():void 0)||this.seed()}var t=Math.max,n=Math.min;return e.prototype.seed=function(){return this.seedFunction()()},e.prototype.seedStart=function(){return this._seedStart},e.prototype.seedRange=function(){return this._valOrFn(this._seedRange)},e.prototype.seedFunction=function(){return this._seedFunction},e.prototype.outputStart=function(){return this._valOrFn(this._outputStart)},e.prototype.outputEnd=function(){return this._valOrFn(this._outputEnd)},e.prototype.easing=function(){return this._valOrFn(this._easing)},e.prototype.value=function(){return this._easing.apply(this,this.easingArgs())},e.prototype.atEnd=function(){return 1===this.ratio()},e.prototype.atStart=function(){return 0===this.ratio()},e.prototype.easingArgs=function(){return[this.c(),this.t(),this.d(),this.b()]},e.prototype.seedDelta=function(){return 0<this.seedRange()?n(this.seedRange(),this.seed()-this.seedStart()):0>this.seedRange()?t(this.seedRange(),this.seed()-this.seedStart()):0},e.prototype.ratio=function(){var e,i;return i=this.seedRange(),0===i?1:e=t(0,n(1,this.seedDelta()/i))},e.prototype.c=function(){return this.outputEnd()-this.outputStart()},e.prototype.t=function(){return this.seedDelta()},e.prototype.d=function(){return this.seedRange()},e.prototype.b=function(){return this.outputStart()},e.prototype._valOrFn=function(e){return'function'==typeof e?e():e},e.linear=function(e,n,t,i){return e*n/(t||1)+i},e.easeInOut=function(e,n,t,i){return n/=(t||1)/2,1>n?e/2*n*n+i:(n-=1,-e/2*(n*(n-2)-1)+i)},e}(),e.exports=t;
},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});n.d(t,'defineControl',function(){return s});n.d(t,'getControlDefinitions',function(){return d});var i=n(0),a=n(9),r=n(1);null==i['default']._controlDefinitions&&(i['default']._controlDefinitions={});var l=function(e){return'control-bar-left'===e.type||'control-bar-right'===e.type||'lower-playbar'==e.type||'upper-playbar'===e.type},s=function(e){if(null==e.handle)return void r.wlog.error('Please specify a handle property for control',e);var t=i['default']._controlDefinitions[e.handle];null!=t||(null==e.isVideoChrome&&l(e)&&(e.isVideoChrome=!0),i['default']._controlDefinitions[e.handle]=e,i['default'].trigger('controldefined',e))},d=function(){return i['default']._controlDefinitions||{}};i['default'].defineControl=s;
},function(e,t,n){var i,a,r,l,s,d=[].slice;a=n(0)['default'],i='2015-02-17',a.wistia||(a.wistia=i,a.extend=function(){var e,t,n;return e=arguments[0],t=2<=arguments.length?d.call(arguments,1):[],t.length||(t=[e],e=a),(n=a.obj).merge.apply(n,[e].concat(d.call(t))),e},a.proto=function(e){return null==e&&(e=window.location.href),a.url.proto(e)},a.data=function(e,t){return a.obj.isArray(e)||(e=e.split('.')),null!=t&&a.obj.set(a,['_data'].concat(e),t),a.obj.get(a,['_data'].concat(e))},a.removeData=function(e){return a.obj.isArray(e)||(e=e.split('.')),a.obj.unset(a,['_data'].concat(e))},a.async=function(e,t){var n;return n=new a.StopGo,n.run(t),a.timeout(e,n.go,0),n},a.asyncChain=function(e,t,n){var i,r,l,s,d,p,u;for(null==n&&(n=1),u=[],r=function(e){var t;return t=function(){var t;try{return e()}catch(e){return t=e,a.error(t)}},u.push(new a.StopGo().run(t))},(l=0,d=t.length);l<d;l++)i=t[l],r(i);return s=u[u.length-1],a._drainStopGosAsync(e,u),p=new a.StopGo,s.then(function(){return a.timeout(e+'.last',function(){return p.go()},0)}),p},a.chain=function(t){var n,e,i,r,l;for(l=new a.StopGo,i=0,r=t.length;i<r;i++){e=t[i];try{e()}catch(e){n=e,a.error(n)}}return l.go(),l},a._drainStopGosAsync=function(e,t,n){var i;if(null==n&&(n=0),!(1>t.length))return i=t.shift(),i.run(function(){return a._drainStopGosAsync(e,t,n+1)}),a.timeout(e+'.'+n,function(){return i.go()},0),i},a.uniqId=function(e,t){var n,i;return null==e&&(e=''),null==t&&(t=''),n=new Date().getTime(),window.performance&&'function'==typeof window.performance.now&&(n+=window.performance.now()),i='xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx-xxxxxxxxx-xxxxxxxxxxxx-xxxx'.replace(/[xy]/g,function(e){var t,i;return t=0|(n+16*Math.random())%16,n=Math.floor(n/16),i='x'===e?t:8|3&t,i.toString(16)}),e+i+t},a.css=function(){var e,t,n;return 2===arguments.length?(n=arguments[0]||document.body||document.head,e=arguments[1]):(n=document.body||document.head,e=arguments[0]),/\{/.test(e)&&/\}/.test(e)?a.util.addInlineCss(n,e):(t=document.createElement('link'),t.setAttribute('rel','stylesheet'),t.setAttribute('href',e),a.elem.append(n,t),t)},a.script=function(){var e,t;return t=1<=arguments.length?d.call(arguments,0):[],(e=a.remote).scripts.apply(e,t)},s=n(10),l=s.doTimeout,r=s.clearTimeouts,a.seqId=n(9)['default'],a.timeout=l,a.clearTimeouts=r);
},function(e,t,n){n(43),n(44),n(46),n(47),n(48),n(49);
},function(e,t,n){var i;i=n(0)['default'],i.obj||(i.obj=n(2));
},function(e,t,n){var i,a,r,l,s,d,p,u,c,m,h,g;a=n(0)['default'],a.util||(u=n(13),g=u.unescapeHtml,m=u.snakeCase,r=u.camelCase,l=u.notSetOrTrue,p=u.poll,h=u.throttle,i=n(7),c=n(45),s=c.overpassNumbersBase64,d=c.overpassNumbersFontFace,a.util={bindEvent:function(){var e;return(e=a.elem).bind.apply(e,arguments)},unbindEvent:function(){var e;return(e=a.elem).unbind.apply(e,arguments)},elemHeight:function(e){return a.elem.height(e)},elemWidth:function(e){return a.elem.width(e)},elemInDom:function(e){return a.elem.inDom(e)},winHeight:function(){return a.elem.height(window)},winWidth:function(){return a.elem.width(window)},docHeight:function(){return a.elem.height(document)},docWidth:function(){return a.elem.width(document)},unescapeHtml:g,addInlineCss:i.addInlineCss,cssTags:i.getCssTags,execCssTags:i.execCssTags,removeCssTags:i.removeCssTags,scriptTags:i.getScriptTags,execScriptTags:i.execScriptTags,removeScriptTags:i.removeScriptTags,scrollTop:function(e){var t,n,i,a;return null==e?('undefined'!=typeof document&&null!==document?null==(i=document.documentElement)?void 0:i.scrollTop:void 0)||('undefined'!=typeof document&&null!==document?null==(a=document.body)?void 0:a.scrollTop:void 0)||0:(null!=(t=document.body)&&(t.scrollTop=e),null==(n=document.documentElement)?void 0:n.scrollTop=e)},scrollLeft:function(e){var t,n,i,a;return null==e?('undefined'!=typeof document&&null!==document?null==(i=document.documentElement)?void 0:i.scrollLeft:void 0)||('undefined'!=typeof document&&null!==document?null==(a=document.body)?void 0:a.scrollLeft:void 0)||0:(null!=(t=document.body)&&(t.scrollLeft=e),null==(n=document.documentElement)?void 0:n.scrollLeft=e)},applyTransform:function(e,t){var n,i,a,r,l;for(i=['msTransform','mozTransform','webkitTransform','transform'],l=[],(a=0,r=i.length);a<r;a++)n=i[a],l.push(e.style[n]=t);return l},applyTransformOrigin:function(e,t){var n,i,a,r,l;for(i=['msTransformOrigin','mozTransformOrigin','webkitTransformOrigin','transformOrigin'],l=[],(a=0,r=i.length);a<r;a++)n=i[a],l.push(e.style[n]=t);return l},vendoredCss:function(e){return function(t){var n,i;return i=['-webkit-','-moz-','-o-','-ms-',''],function(){var a,r,l;for(l=[],a=0,r=i.length;a<r;a++)n=i[a],l.push(''+n+e+': '+t+';');return l}().join('\n')}},transitionCss:function(){var e,t,n;return arguments[0]instanceof Array?(t=arguments,n=function(){var n,i,a;for(a=[],n=0,i=t.length;n<i;n++)e=t[n],a.push(e[0]+' '+e[1]+' linear '+(e[2]||'0s'));return a}().join(',')):(e=arguments,n=e[0]+' '+e[1]+' linear '+(e[2]||'0s')),a.util.vendoredCss('transition')(n)},transformCss:function(e){return a.util.vendoredCss('transform')(e)},niceDuration:function(e){var t,n,i;return t=i=0,0<e&&(t+=Math.floor(e/60),e%=60),i=Math.round(e),60===i&&(t+=1,i=0),n=t+':'+this.padNumber(i,2),n},padNumber:function(e,t){var n;for(null==t&&(t=0),n=''+e;n.length<t;)n='0'+n;return n},localDate:function(e){var t,n,i=Math.abs,a=Math.floor;return null==e&&(e=new Date),n=-e.getTimezoneOffset(),t=0<=n?'+':'-',''+e.getFullYear()+'-'+this.padNumber(e.getMonth()+1,2)+'-'+this.padNumber(e.getDate(),2)+'T'+this.padNumber(e.getHours(),2)+':'+this.padNumber(e.getMinutes(),2)+':'+this.padNumber(e.getSeconds(),2)+t+this.padNumber(i(a(n/60)),2)+':'+this.padNumber(i(a(n%60)),2)},requestAnimationFrame:function(e){var t;return t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){return setTimeout(e,1e3/60)},t(e)},notSetOrTrue:l,indexOf:function(e,t){var n,i,a;for(n=i=0,a=e.length;0<=a?i<=a:i>=a;n=0<=a?++i:--i)if('function'==typeof t){if(t(e[n]))return n}else if(e[n]===t&&e[n]===t)return n;return-1},insertIntoArray:function(e,t,n){var i;return null==n&&(n={}),n.after?(i=a.util.indexOf(e,n.detect||n.after),0<=i?e.splice(i+1,0,t):'undefined'!=typeof console&&null!==console?console.log(n.after+' not found when trying to add '+t+' to array'):void 0):n.before?(i=a.util.indexOf(e,n.detect||n.before),0<=i?e.splice(i,0,t):'undefined'!=typeof console&&null!==console?console.log(n.before+' not found when trying to add '+t+' to array'):void 0):null==n.index?e.push(t):e.splice(n.index,0,t)},throttle:h,toArray:function(e,t){if(null==t&&(t=/\s+/),e instanceof Array)return e;if('string'==typeof e)return e.split(t);throw new Error('Don\'t know how to convert '+e+' into an array.')},poll:p,aps:function(e){var t,n,i,a;for(a=[],n=0,i=e.length;n<i;n++)t=e[n],a.push(t);return a},pageLoaded:i.pageLoaded,isDocReady:i.isDocReady,onDocReady:function(){var e,t,n,i,r,l,s,d;return 1<arguments.length?(s=arguments[0],t=arguments[1]):(s=1e4,t=arguments[0]),a.util.isDocReady()?t():top===self&&document.documentElement.doScroll?(l=function(){var t;try{return document.documentElement.doScroll('left'),!0}catch(e){return t=e,!1}},a.util.poll(l,t,50,s,t)):(r=function(){if(a.util.isDocReady())return clearTimeout(i),d(),t()},e=function(){return a.elem.bind(document,'DOMContentLoaded',r),a.elem.bind(document,'readystatechange',r),a.elem.bind(window,'load',r)},d=function(){return a.elem.unbind(document,'DOMContentLoaded',r),a.elem.unbind(document,'readystatechange',r),a.elem.unbind(window,'load',r)},n=function(){return d(),t()},i=setTimeout(n,s),e())},camelCase:r,snakeCase:m,breakIdentifier:{},eachIndexOf:function(e,t,n){var r,i;for(r=-1,i=[];-1!==(r=e.indexOf(t,r+1))&&!(n(r)===a.util.breakIdentifier);)i.push(void 0);return i},removeFromArray:function(e,t){var n;return n=e.indexOf(t),e.splice(n,1)},assetSizeShorthandToNumeric:function(e){return'4k'===e?2160:parseInt(e,10)},numericAssetSizeSnapped:function(e,t){var n,i;return n=e/t,i=e*t+1,i>=3840*(3840/n)?2160:i>=2560*(2560/n)?1440:i>=1920*(1920/n)?1080:i>=1280*(1280/n)?720:i>=960*(960/n)?540:i>=640*(640/n)?360:t},parentFramesLength:function(){var t;try{return parent.frames.length}catch(e){return t=e,a.warn(t),1}},injectWistiaOverpassFontFace:function(){return a._overpassFontFacePromise?a._overpassFontFacePromise:a._overpassFontFacePromise=a.asyncRequire('overpassFontFace.js')},removeWistiaOverpassFontFace:function(){if(a._overpassFontFacePromise)return a._overpassFontFacePromise.then(function(){return function(e){var t;return t=e.removeWistiaOverpassFontFace,t()}}(this))}});
},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var i=n(0),a=n(7),r='\n@font-face {\nfont-family: \'WistiaPlayerOverpassNumbers\';\nsrc: url(data:application/x-font-ttf;charset=utf-8;base64,'+'AAEAAAARAQAABAAQRFNJRwAAAAEAAA7oAAAACEdQT1Ow+b/jAAAONAAAAKhHU1VCAAEAAAAADtwAAAAKT1MvMl1sVb8AAAe0AAAAYGNtYXAApwIpAAAIFAAAALJjdnQgAAAAAAAAClQAAAAEZnBnbUM+8IgAAAjIAAABCWdhc3AAGgAjAAAOJAAAABBnbHlmWNZE7QAAARwAAAXMaGVhZIS0XikAAAckAAAANmhoZWEF5gGwAAAHkAAAACRobXR4GNICwAAAB1wAAAA0bG9jYQi0CoYAAAcIAAAAHG1heHAAGQBKAAAG6AAAACBuYW1lGpIbcAAAClgAAAOPcG9zdAAPAKQAAA3oAAAAPHByZXBoUamTAAAJ1AAAAH8ACgBd/wYBmgLuAAMADwAVABkAIwApADUAOQA9AEgAAAUhESEHFTMVIxUzNSM1MzUHFTM1IzUHIzUzBxUzFSMVMzUzNQcVIxUzNQcVMzUzFSM1IxUzNQcVMzUHIzUzBxUzBxUzNSM3MzUBmv7DAT3yQUKmQkKmpkIiISFCQkJkQiGFpmQiIWQhpqamIWRkhUZGpmZGIPoD6EMhJSEhJSGBaCJGRiRhISUhRiE8QiJkejgXL1Bxca1xcVAvZyEvISEvIQAAAAIARv/0AiYCyAAVACUAAAQ3Njc2NTQmJyYjIgcGBwYVFBYXFjMmJyY1NDc2MzIXFhUUBwYjAY87MRgTGRo/flo7LxkTGRs9f1wqIR8pX1oqIR4pXgw9M1tJVkOAMnU9MV1IV0Z/MXQ/X0qCeUxmX0uBfEplAAAAAAEAKAAAAOUCvAAIAAATIwYGIxUzETPlLRBHOXdGArwwJyj9wwAAAAABAEcAAAISAsgAJAAAJSE2Nz4CNzY2NzY1NCYjIgcGBxc2MzIWFRQHBgcHBgYHBhUhAhL+fwszEjIhCDBDG0J0Z1c+OhE+HX9HUTMjUhMrOhhEActDPTARJRYFHjAcRFRbaisoQRxxSzs8NSM2DR0uHFJzAAEAMv/0AggCyAA0AAAENjc2NjU0Jic2NjU0JicmJiMiBwYHFzY3NjMyFhcWFRQGIyMVMzIWFRQHBiMiJicHFhcWMwFJViIiJT83Ki8fHBxMKlM7MRpBFR8rPBkvEidLPyUvS1EwLEg+TxpBGzM6YAwfGxxLK0RiFhdSMCdDGBcaLiZAGS4aJBEQIjk6RUBMQkIlIjxCG0spMAAAAAIAHgAAAiICvAAKAA0AACUzNSMRIwEVIRUzAxEjAbhqair+kAFURkb5vTwBw/4mJb0CQ/62AAAAAQBG//QCLgK8AC0AADYWFxYzMjY3NjY1NCYnJiYjIgYHNyE1IQMXNjc2MzIXFhYVFAYHBgYjIicmJwdTLh1ETjpfIyAiIx8fUy4tVCAoASz+nDk7FykzN0QuFBccGBlEJkIuKiQpPB8MHSkjIVUtMVMfHSEeHfQ//pUSGxIWMRc+IiE+GBgbFxUkMwACADz/9AIEAsgAIQA2AAAENjc2NjU0JicmJiMiBgc2Njc2Njc1BgYHBgYVFBYXFhYzEhcWFRQGBwYjIiYnJiY1NDY3NjYzAVFSHx8jIBwdTCo2UxoIMiUlWzFKhDExNh4dHlc4RS0rFxUsSCE7FRYZGBUVOyMMJB8gVTAnTh4fJCEfLFkoKDsPNxJaPz+RSjpjIyYpAYAtLUgiOhUuGBYVOyEjPBYVGAABACgAAAHLArwADAAANjc2NzUhFSEGBwYHM+ooN4L+XQFTdzMrAkamjsSWLjyXqIq3AAAAAwBG//QCEALIACMALwBCAAAABgcGBhUUFhcGBwYVFBYXFjMyNjc2NjU0Jic2NjU0JicmJiMCJjU0NjMyFhUUBiMCJyY1NDY3NjYzMhcWFhUUBwYjAQJJGxoeMCw1JCMiH0JiMFUfHyJEOS4vHhobSSk5RUc3N0dFOUQrLRYVFToiRC4UFi0rRALIHRkZQiQuThQTNTRCLE0cPCAcHE0sQmcVE04vJEIZGR3+0D8zOkVFOjM//pspK0gfOBYWGC4WOB9IKykAAAACADz/9AIEAsgAIAA0AAASBgcGBhUUFhcWFjMyNjcGBgcGBgcVNjY3NjY1NCYnJiMCJyY1NDc2MzIWFxYWFRQGBwYGI/RUICAkIBwbTCo3VRoGLCMkWDJKfy8uMhwbPG1NLSssLUchOxYWGBgVFTsjAsgjIB9WMClNHh4iIyEtXCgpPA83Elo/PpJKOWMlTv58Ly1IRC4vGRYWOyEjPBYWGQAAAAIAMv/yALAB4wALABcAABI2NTQmIyIGFRQWMxI2NTQmIyIGFRQWM4slJRoaJSUaGiUlGholJRoBZSYZGSYmGRkm/o0mGRkmJhkZJgABAAAADQBJAAoAAAAAAAEAAAAAAAEAAAAAAAAAAAAAAAAAYgBiAJ4AsgDsAToBVgGcAfACCgJuAsAC5gABAAAAARmZfAtXkV8PPPUAAwPoAAAAAE2yzjUAAAAA1Z4zgwAe/wYCLgLuAAAABwACAAAAAAAAAfQAXQAAAAACbABGAU4AKAJYAEcCTgAyAksAHgJ0AEYCSgA8AfMAKAJWAEYCSgA8AOIAMgABAAADtv8GAAACdAAAACgCLgABAAAAAAAAAAAAAAAAAAAADQADAhYBkAAFAAgCigJYAAAASwKKAlgAAAFeABQBMgAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABERUxWAEAAIAA6Au7/BgEKA7YA+gAAAAEAAAAAAf8CvAAAACAAAgAAAAMAAAADAAAAigABAAAAAAAcAAMAAQAAAIoABgBuAAAACQAyAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAwAEAAUABgAHAAgACQAKAAsADAAEACgAAAAGAAQAAQACACAAOv//AAAAIAAw////4f/SAAEAAAAAAAAAALAALEAOBQYHDQYJFA4TCxIIERBDsAEVRrAJQ0ZhZEJDRUJDRUJDRUJDRrAMQ0ZhZLASQ2FpQkNGsBBDRmFksBRDYWlCQ7BAUHmxBkBCsQUHQ7BAUHmxB0BCsxAFBRJDsBNDYLAUQ2CwBkNgsAdDYLAgYUJDsBFDUrAHQ7BGUlp5swUFBwdDsEBhQkOwQGFCsRAFQ7ARQ1KwBkOwRlJaebMFBQYGQ7BAYUJDsEBhQrEJBUOwEUNSsBJDsEZSWnmxEhJDsEBhQrEIBUOwEUOwQGFQebIGQAZDYEKzDQ8MCkOwEkOyAQEJQxAUEzpDsAZDsApDEDpDsBRDZbAQQxA6Q7AHQ2WwD0MQOi0AAACxAAAAQrE7AEOwAFB5uP+/QBAAAQAAAwQBAAABAAAEAgIAQ0VCQ2lCQ7AEQ0RDYEJDRUJDsAFDsAJDYWpgQkOwA0NEQ2BCHLEtAEOwAVB5swcFBQBDRUJDsF1QebIJBUBCHLIFCgVDYGlCuP/NswABAABDsAVDRENgQhy4LQAdAAAAAAAAAAASAN4AAQAAAAAAAQAWAAAAAQAAAAAAAgAFABYAAQAAAAAAAwAnABsAAQAAAAAABAAcAEIAAQAAAAAABQAPAF4AAQAAAAAABgAcAG0AAQAAAAAACQAgAIkAAQAAAAAACgA4AKkAAwABBAkAAQA4AOEAAwABBAkAAgAOARkAAwABBAkAAwBOAScAAwABBAkABAA4AXUAAwABBAkABQAeAa0AAwABBAkABgA4AXUAAwABBAkACQBAAcsAAwABBAkACgBwAgsAAwABBAkAEAAsAnsAAwABBAkAEQAKAqdXaXN0aWEtUGxheWVyLU92ZXJwYXNzTGlnaHQxLjEwMDtERUxWO1dpc3RpYS1QbGF5ZXItT3ZlcnBhc3MtTGlnaHRXaXN0aWEtUGxheWVyLU92ZXJwYXNzIExpZ2h0VmVyc2lvbiAxLjAzMTAwV2lzdGlhLVBsYXllci1PdmVycGFzcy1MaWdodERlbHZlIFdpdGhyaW5ndG9uLCBUaG9tYXMgSm9ja2luQ29weXJpZ2h0IChjKSAyMDE0IGJ5IFJlZCBIYXQsIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC4AVwBpAHMAdABpAGEALQBQAGwAYQB5AGUAcgAtAE8AdgBlAHIAcABhAHMAcwAgAEwAaQBnAGgAdABSAGUAZwB1AGwAYQByADEALgAxADAAMAA7AEQARQBMAFYAOwBXAGkAcwB0AGkAYQAtAFAAbABhAHkAZQByAC0ATwB2AGUAcgBwAGEAcwBzAC0ATABpAGcAaAB0AFcAaQBzAHQAaQBhAC0AUABsAGEAeQBlAHIALQBPAHYAZQByAHAAYQBzAHMALQBMAGkAZwBoAHQAVgBlAHIAcwBpAG8AbgAgADEALgAwADMAMQAwADAARABlAGwAdgBlACAAVwBpAHQAaAByAGkAbgBnAHQAbwBuACwAIABUAGgAbwBtAGEAcwAgAEoAbwBjAGsAaQBuAEMAbwBwAHkAcgBpAGcAaAB0ACAAKABjACkAIAAyADAAMQA0ACAAYgB5ACAAUgBlAGQAIABIAGEAdAAsACAASQBuAGMALgAgAEEAbABsACAAcgBpAGcAaAB0AHMAIAByAGUAcwBlAHIAdgBlAGQALgBXAGkAcwB0AGkAYQAtAFAAbABhAHkAZQByAC0ATwB2AGUAcgBwAGEAcwBzAEwAaQBnAGgAdAAAAgAAAAAAAP+FABQAAAAAAAAAAAAAAAAAAAAAAAAAAAANAAAAAwATABQAFQAWABcAGAAZABoAGwAcAB0AAQADAAcACgATAAf//wAPAAEAAAAKAB4ALAABREZMVAAIAAQAAAAA//8AAQAAAAFrZXJuAAgAAAABAAAAAQAEAAIAAAABAAgAAQBmAAQAAAAIABoAIAAmADAAOgBIAFIAYAABAAb/7AABAAb/9gACAAn/9gAL//EAAgAJ//YAC//xAAMABP/7AAn/9gAL//YAAgAJ/+wAC//dAAMABv+6AAj/4gAJACMAAQAJ//YAAgABAAMACgAAAAEAAAAAAAAAAAAAAAAAAQAAAAA='+');\n}\n';i['default']._overpassNumbersFontFace||(i['default']._overpassNumbersFontFace=Object(a.addInlineCss)(document.body||document.head,r));t['default']={overpassNumbersFontFace:r,removeOverpassNumbersFontFace:function(){i['default']._overpassNumbersFontFace&&Object(a.elemRemove)(i['default']._overpassNumbersFontFace)}};
},function(e,t,n){var i,a,r;a=n(0)['default'],a.elem||(a.Elem=i=n(7),a.elem=r={},r.html=i.elemHtml,r.fromObject=i.elemFromObject,r.toObject=i.elemToObject,r.clone=i.elemClone,r.append=i.elemAppend,r.prepend=i.elemPrepend,r.before=i.elemBefore,r.after=i.elemAfter,r.remove=i.elemRemove,r.removeClass=i.elemRemoveClass,r.addClass=i.elemAddClass,r.hasClass=i.elemHasClass,r.classes=i.elemClasses,r.style=i.elemStyle,r.vendoredProperties=i.vendoredProperties,r.vendoredProperty=i.vendoredProperty,r.vendorPrefixes=i.vendorPrefixes,r.propsWithVendorPrefixes=i.propsWithVendorPrefixes,r.width=i.elemWidth,r.height=i.elemHeight,r.isBoxModel=i.isBoxModel,r.offset=i.elemOffset,r.containsOffset=i.elemContainsOffset,r.scrollOffset=i.elemScrollOffset,r.isHidden=i.elemIsHidden,r.inDom=i.elemInDom,r.isDescendantOf=i.elemIsDescendantOf,r.ancestorHasClass=i.elemAncestorHasClass,r.ancestors=i.elemAncestors,r.isInside=i.elemIsInside,r.animate=i.elemAnimate,r.bind=i.elemBind,r.unbind=i.elemUnbind,r.unbindAll=i.elemUnbindAll,r.unbindAllInside=i.elemUnbindAllInside,r._bindKey=i.elemBindKey,r.rebind=i.elemRebind,r.bindOnce=i.elemBindOnce,r.trigger=i.elemTrigger,r.fullscreenElement=i.fullscreenElement,r.requestFullscreen=i.elemRequestFullscreen,r.cancelFullscreen=i.elemCancelFullscreen,r.stripEventAttributes=i.elemStripEventAttributes,r.mutationObserver=i.elemMutationObserver,r.domDistance=i.elemDomDistance,r.allBetween=i.elemAllBetween);
},function(e,t,n){var i,a,r,l,s,d=[].slice;if(a=n(28),i=n(0)['default'],!i.bindable)for(r in i.bindable={bind:function(e,t){return!0===('function'==typeof this.specialBind?this.specialBind.apply(this,arguments):void 0)?this:t?(a.bind.call(this,e,t),this):i.warn(this.constructor.name,'bind','falsey value passed in as callback:',t)},unbind:function(e,t){return!0===('function'==typeof this.specialUnbind?this.specialUnbind.apply(this,arguments):void 0)?this:(t?a.unbind.call(this,e,t):this._bindings&&(this._bindings[e]=[]),this._bindings&&this._bindings[e]&&!this._bindings[e].length&&(this._bindings[e]=null,delete this._bindings[e]),this)},on:function(e,t){var n;return n='function'==typeof this.specialBind?this.specialBind.apply(this,arguments):void 0,'function'==typeof n?n:a.bind.call(this,e,t)},off:function(e,t){var n;return n='function'==typeof this.specialUnbind?this.specialUnbind.apply(this,arguments):void 0,'function'==typeof n?n:a.unbind.call(this,e,t)},rebind:function(e,t){return this.unbind(e,t),this.bind(e,t),this},trigger:function(){var e,t,n;return t=arguments[0],e=2<=arguments.length?d.call(arguments,1):[],(n=a.trigger).call.apply(n,[this,t].concat(d.call(e))),this},bindNamed:function(){return a.bindNamed.apply(this,arguments)},unbindNamed:function(){return a.unbindNamed.apply(this,arguments)},unbindAllInNamespace:function(){return a.unbindAllInNamespace.apply(this,arguments)}},l=i.bindable,l)s=l[r],i[r]||(i[r]=s);
},function(e,t,n){var a,i,r,l,s,d,p;if(i=n(0)['default'],a=n(2),!i.hasState)for(l in i.hasState={updateState:function(e){var t,n,i,l,s;for(this.state||(this.state={}),t=r(this.state,e),s=a.clone(this.state),a.merge(s,e),this.state=s,(n=0,i=t.length);n<i;n++)l=t[n],this.trigger('property:updated:'+l);if(0!==t.length)return this.trigger('property:updated:all')},getState:function(e){var t;return t=a.clone(this.state),e?t[e]:stateCone}},r=function(e,t){var n,i,a;for(i in n=[],t)a=t[i],s(a,e[i])&&n.push(i);return n},s=function(e,t){return i.obj.isObject(e)?!i.obj.equalsDeep(e,t):e!==t},d=i.bindable,d)p=d[l],i.bindable.hasOwnProperty(l)&&(i.hasState[l]=p);
},function(e,t,n){(function(e){var t;if(!e.StopGo)return t=n(1).wlog,t=t.getPrefixedFunctions('StopGo'),e.StopGo=n(21),e.StopGo.prototype._debug=function(){return t.notice.apply(t,arguments)}})(Wistia);
},,,,,function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var i=n(41),a=n.n(i),r=n(55),l=n.n(r),s=n(104),d=n.n(s);
},function(e,t,n){n(56),n(60),n(42),n(61),n(62),n(63),n(64),n(65),n(66),n(67),n(68),n(69),n(70),n(71),n(72),n(73),n(74),n(75),n(76),n(77),n(78),n(79),n(80),n(81),n(82),n(83),n(84),n(85),n(86),n(87),n(88),n(89),n(90),n(91),n(92),n(93);var i=n(94).registerPlugin;i(),n(95),n(96),n(97),n(98),n(99),n(100),n(101),n(103);
},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var i=n(0),a=n(40),r=n(9),l=n(13),s=n(2),d=n(57),p=n(6),u=n(18),c=n(7),m=n(26),h=n(1),g=n(4),y=n(58),f=n(17),_=n(25),b=n(5),v=n(24),A=n(30),w=n(31),k=n(15),E=n(10),C=n(35),P=n(32),S=n(22),x=n(33),T=n(28),I=n(59),B=n(21),O=n.n(B),M=n(3),D=n(14),F=n.n(D),L=i['default'];null==L.libjs&&(L.libjs={},L.libjs['utilities/seqid']=r['default'],L.libjs['utilities/core']=l,L.libjs['utilities/obj']=s,L.libjs['utilities/url']=p,L.libjs['utilities/color']=d.a,L.libjs['player/lib/assets']=u,L.libjs['player/lib/elem']=c,L.libjs['utilities/json']=JSON,L.libjs['utilities/localstorage']=m,L.libjs['utilities/wlog']=h,L.libjs['utilities/detect']=g,L.libjs['utilities/cacheable']=y,L.libjs['utilities/event_loop']=x,L.libjs['player/lib/jsonp']=f,L.libjs['player/lib/hosts']=b,L.libjs['player/lib/judy']=_,L.libjs['player/lib/ajax']=v,L.libjs['player/lib/fit-control']=S,L.libjs['player/lib/media_data']=A,L.libjs['player/lib/playlist_data']=w,L.libjs['player/lib/script-utils']=k,L.libjs['player/lib/timeout-utils']=E,L.libjs['utilities/metrics']=P,L.libjs['utilities/bindify']=T,L.libjs['player/translations']=I,L.libjs.preact=M.b,L.libjs['utilities/stopgo']=O.a,L.libjs.promiscuous=F.a,L.libjs['player/control_definitions']=a),L.lib=function(e){var t=L.libjs[e];if(null==t)throw new Error('Internal import for "'+e+'" does not exist. Value is "'+t+'".');return t};t['default']=L;
},function(e,t,n){'use strict';var a=n(0),r=n(4),l=function(){function e(e,t){for(var n,a=0;a<t.length;a++)n=t[a],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}var s=Object(r.cachedDetect)(),d=/^#?([0-9a-f]{3,4}|[0-9a-f]{6,8})$/i,p=/^rgba?\((\d{1,3}(?:\.\d+)?%?),\s*(\d{1,3}(?:\.\d+)?%?),\s*(\d{1,3}(?:\.\d+)?%?)(?:,\s*([01]?\.?\d*))?\)$/,u=/^\d+(\.\d+)*%$/,c=/([0-9a-f])/gi,m=function(e){return u.test(e)?2.55*parseFloat(e):e},g=function(e,t,n){return 0>n&&(n+=1),1<n&&(n-=1),n<1/6?e+6*(t-e)*n:n<1/2?t:n<2/3?e+6*((t-e)*(2/3-n)):e},h=function(){function e(t){i(this,e),t instanceof e?(this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a):t?this.parse(t):(this.r=this.g=this.b=0,this.a=1)}var t=Math.round,n=Math.min,a=Math.max;return l(e,[{key:'parse',value:function(e){if(d.test(e)){var t=e.replace(/^\#/,'');(3===t.length||4===t.length)&&(t=t.replace(c,'$1$1')),this.r=parseInt(t.substr(0,2),16),this.g=parseInt(t.substr(2,2),16),this.b=parseInt(t.substr(4,2),16),this.a=8===t.length?parseInt(t.substr(6,2),16)/255:1}else p.test(e)&&(parts=e.match(p),this.r=parseFloat(m(parts[1])),this.g=parseFloat(m(parts[2])),this.b=parseFloat(m(parts[3])),this.a=parts[4]?parseFloat(parts[4]):1);return this}},{key:'clone',value:function(){return new e(this)}},{key:'_hslFromRgb',value:function(){var e=this.r/255,t=this.g/255,i=this.b/255,r=a(e,t,i),p=n(e,t,i),u=(r+p)/2;r===p&&(this._h=this._s=0);var l,s=r-p;if(0==s)return this._h=0,this._s=0,this._l=100*e,this;l=.5<u?s/(2-r-p):s/(r+p);var d;return d=r===e?(t-i)/s+(t<i?6:0):r===t?(i-e)/s+2:(e-t)/s+4,d/=6,this._h=360*d,this._s=100*l,this._l=100*u,this}},{key:'_rgbFromHsl',value:function(){var e=this._h/360,t=this._s/100,n=this._l/100,i=.5>n?n*(1+t):n+t-n*t,a=2*n-i;return this.r=255*g(a,i,e+1/3),this.g=255*g(a,i,e),this.b=255*g(a,i,e-1/3),this}},{key:'blendChannel',value:function(e,t,n){return this[e]=n*t+(1-n)*this[e],this}},{key:'blend',value:function(t,n){return t=new e(t),this.blendChannel('r',t.r,n),this.blendChannel('g',t.g,n),this.blendChannel('b',t.b,n),this}},{key:'lightenChannel',value:function(e,t){return this[e]+=t,0>this[e]?this[e]=0:255<this[e]&&(this[e]=255),this}},{key:'lighten',value:function(e){return this.looksLikePercent(e)?this.lightness(this.lightness()+parseFloat(e)):(this.lightenChannel('r',e),this.lightenChannel('g',e),this.lightenChannel('b',e)),this}},{key:'darken',value:function(e){return'string'==typeof e?this.lighten('-'+e):this.lighten(-e)}},{key:'looksLikePercent',value:function(e){return /^\-?\d+(\.\d+)?%$/.test(e)}},{key:'lightness',value:function(e){return this._hslFromRgb(),null==e?this._l:(this._l=a(0,n(100,e)),this._rgbFromHsl(),this)}},{key:'saturation',value:function(e){return this._hslFromRgb(),null==e?this._s:(this._s=a(0,n(100,e)),this._rgbFromHsl(),this)}},{key:'grayLevel',value:function(){return(.299*this.r+.587*this.g+.114*this.b)/255}},{key:'whiteLevel',value:function(){return n(n(this.r,this.g),this.b)}},{key:'isGrayscale',value:function(){return this.r===this.g&&this.g===this.b}},{key:'distanceFrom',value:function(e){var t=Math.pow;return Math.sqrt(t(this.r-e.r,2)+t(this.g-e.g,2)+t(this.b-e.b,2))}},{key:'channelDominance',value:function(){var e=this;return['r','g','b'].sort(function(t,n){return e[n]-e[t]})}},{key:'alpha',value:function(e){return null==e?this.a:(this.a=e,this)}},{key:'red',value:function(e){return null==e?this.r:(this.r=e,this)}},{key:'green',value:function(e){return null==e?this.g:(this.g=e,this)}},{key:'blue',value:function(e){return null==e?this.b:(this.b=e,this)}},{key:'toHex',value:function(){var e=t(this.r).toString(16),n=t(this.g).toString(16),i=t(this.b).toString(16);return 1===e.length&&(e='0'+e),1===n.length&&(n='0'+n),1===i.length&&(i='0'+i),''+e+n+i}},{key:'toHexWithAlpha',value:function(){var e=t(255*this.a).toString(16);return 1===e.length&&(e='0'+e),''+e+this.toHex()}},{key:'toRgb',value:function(){return'rgb('+t(this.r)+','+t(this.g)+','+t(this.b)+')'}},{key:'toRgba',value:function(){return'rgba('+t(this.r)+','+t(this.g)+','+t(this.b)+','+this.a+')'}},{key:'toRgbaOrHex',value:function(){return s.browser.msie&&9>s.browser.version?'#'+this.toHex():this.toRgba()}},{key:'toPercent',value:function(){return'rgba('+100*(this.r/255)+'%,'+100*(this.g/255)+'%,'+100*(this.b/255)+'%,'+this.a+')'}},{key:'toIeGradient',value:function(){return'progid:DXImageTransform.Microsoft.gradient(startColorStr=\'#'+this.toHexWithAlpha()+'\', endColorStr=\'#'+this.toHexWithAlpha()+'\')'}},{key:'toString',value:function(){return this.toPercent()}}]),e}();t.a=h;
},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});n.d(t,'makeCacheable',function(){return i});n.d(t,'uncacheNamespace',function(){return u});n.d(t,'uncache',function(){return p});n.d(t,'makeNamespace',function(){return a});var i=function(e){return function(t,n,i){if(s(e,t),r(e,t,n))return l(e,t,n);var a=i();return d(e,t,n,a),a}},a=function(e){return function(t){return null==t[e]&&(t[e]={}),t[e]}},r=function(e,t,n){return null!=l(e,t,n)},l=function(e,t,n){return s(e,t),t[e][n]},s=function(e,t){null==t[e]&&(t[e]={})},d=function(e,t,n,i){s(e,t),t[e][n]=i},p=function(e,t,n){s(e,t),delete t[e][n]},u=function(e,t){t[e]={}};
},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});n.d(t,'defineLanguage',function(){return s});n.d(t,'getLanguage',function(){return d});n.d(t,'defineTranslations',function(){return p});n.d(t,'getTranslation',function(){return g});var i=n(0),a=n(2),r=i['default'].languages=i['default'].languages||{},l=i['default'].translations=i['default'].translations||{},s=function(e,t,n){r[e]={code:e,text:h(t)},n&&p(e,n)},d=function(e){return r[e]},p=function(e,t){if(null==r[e])throw new Error('Must define a language with code '+e+' before defining its translations.');var n=l[e];n?Object(a.merge)(n,t):l[e]=Object(a.clone)(t)},u,c=function(e){return null==e?'?':e},m=i['default'].cachedDecodings=i['default'].cachedDecodings||{},h=function(e){return(u||(u=document.createElement('textarea')),null!=m[e])?m[e]:(u.innerHTML=e,m[e]=u.value,u.value)},g=function(e,t){var n;return n=l[e]&&l[e][t]?l[e][t]:l['en-US'][t],h(c(n))};s('en-US','English'),p('en-US',{SETTINGS_PLAYBACK_RATE_TITLE:'Speed',SETTINGS_QUALITY_TITLE:'Quality',SETTINGS_QUALITY_AUTO:'Auto',CONTEXT_MENU_LOGGED_IN_TO_WISTIA:'Logged In to Wistia',CONTEXT_MENU_ABOUT_WISTIA:'About Wistia',CONTEXT_MENU_REPORT_A_PROBLEM:'Report a Problem',CONTEXT_MENU_OPEN_VIDEO_IN_WISTIA:'Open video in Wistia',CONTEXT_MENU_VIEW_STATS_IN_WISTIA:'View stats in Wistia',CONTEXT_MENU_COPY_LINK_AND_THUMBNAIL:'Copy link and thumbnail',CONTEXT_MENU_COPIED:'Copied!',PLAY_BUTTON_TITLE_WHEN_NOT_PLAYING:'Play',PLAY_BUTTON_TITLE_WHEN_PLAYING:'Pause',VOLUME_TITLE_WHEN_MUTED:'Unmute',VOLUME_TITLE_WHEN_UNMUTED:'Mute',FULLSCREEN_TITLE_WHEN_IN_FULLSCREEN:'Unfullscreen',FULLSCREEN_TITLE_WHEN_NOT_IN_FULLSCREEN:'Fullscreen',CHAPTERS_OPEN_CHAPTERS:'Open Chapters',CHAPTERS_CLOSE_CHAPTERS:'Close Chapters',THUMBNAIL_VIDEO_THUMBNAIL:'Video Thumbnail',LAYOUT_TITLE:'Video',SHARE_CONTROL_OPEN:'Open sharing menu',SHARE_CONTROL_CLOSE:'Close sharing menu',STATUS_BAR_EMBED_CODE_COPIED:'Embed Code is now copied to your clipboard!',CLICK_FOR_SOUND_MOBILE_TEXT:'Tap for sound',CLICK_FOR_SOUND_DESKTOP_TEXT:'Click for sound',CTA_SKIP:'Skip',CTA_REWATCH:'Rewatch'}),i['default'].defineLanguage=s,i['default'].getLanguage=d,i['default'].defineTranslations=p,i['default'].getTranslation=g;
},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var i=n(0),a=n(14),r=n.n(a),l=n(27),s=n(5),d=n(6);if(!i['default'].define){var p=i['default'].modulePromises={},u=i['default'].moduleDeps={},c=i['default'].moduleResolveQueues={},m=function(e,t){null==c[e]&&(c[e]=[]),c[e].push(t)},h=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1.2e5;if(null!=p[e])return p[e];var n=Object(d.proto)()+'//'+Object(s.cdnFastWistiaNetHost)()+'/assets/external/'+e;return p[e]=new r.a(function(i,a){m(e,i),Object(l.a)(n,t).catch(function(t){setTimeout(function(){throw t},1),a(t)})}),p[e]},g=function(e){if(null!=u[e])return u[e];throw new Error('Cannot synchronously require dep "'+e+'" because it is not defined.')};i['default'].define=function(e,t){u[e]=t,null==p[e]&&(p[e]=r.a.resolve(t)),c[e]&&(c[e].map(function(e){return e(t)}),delete c[e])},i['default'].asyncDefine=function(e,t){return p[e]=t.then(function(t){return i['default'].define(e,t),t}),p[e]},i['default'].asyncRequire=function(e,t){return e instanceof Array?r.a.all(e.map(function(e){return h(e,t)})):h(e,t)},i['default'].syncRequire=function(e){return e instanceof Array?depPath.map(function(e){return g(e)}):g(e)}}
},function(e,t,n){(function(e){var t;if(!e.url)return t=n(6),e.url={},e.url.proto=t.proto,e.url.paramsToJson=t.queryParamsToObject,e.url.urlComponentToJson=t.urlComponentToObject,e.url.jsonToParams=t.objectToQueryParams,e.url.splitPath=t.splitPath,e.url.joinPath=t.joinPath,e.url._brack=t.brack,e.url._debrack=t.debrack,e.url.create=t.Url.create,e.url.parse=t.Url.parse})(Wistia);
},function(e,t,n){var i=[].slice;(function(e){var t,a,r,l;if(a=e,!a.wlog)return r=n(1),l=r.wlog,t=r.LOG_LEVELS,a.wlog=l,a.log=l.error,a.error=l.error,a.warn=l.warn,a.notice=l.notice,a.info=l.info,a.debug=l.debug,a.logLevels=t,a.stacktrace=function(){var t;try{throw new Error('stacktrace')}catch(e){return t=e,t.stack}},a.logHelpers={_log:function(){var e,t,n;return n=arguments[0],t=2<=arguments.length?i.call(arguments,1):[],e=a[n],t=[].concat(this._logPrefix()).concat(t),e.apply(null,t)},_logPrefix:function(){return[this.constructor.name]},error:function(){var e;return e=1<=arguments.length?i.call(arguments,0):[],this._log.apply(this,['error'].concat(i.call(e)))},warn:function(){var e;return e=1<=arguments.length?i.call(arguments,0):[],this._log.apply(this,['notice'].concat(i.call(e)))},notice:function(){var e;return e=1<=arguments.length?i.call(arguments,0):[],this._log.apply(this,['notice'].concat(i.call(e)))},info:function(){var e;return e=1<=arguments.length?i.call(arguments,0):[],this._log.apply(this,['info'].concat(i.call(e)))},debug:function(){var e;return e=1<=arguments.length?i.call(arguments,0):[],this._log.apply(this,['debug'].concat(i.call(e)))},log:function(){var e;return e=1<=arguments.length?i.call(arguments,0):[],this._log.apply(this,['error'].concat(i.call(e)))}},a._initializers.initWLog=function(){var e,t,n,i,r,s,d,p,u,c,m;if(t=a.url.parse(location.href),document.referrer&&(u=a.url.parse(document.referrer)),((e=null==t||null==(n=t.params)?void 0:n.wlog)||top!==self&&(e=null==u||null==(i=u.params)?void 0:i.wlog))&&l.setLevel(e),((c=null==t||null==(r=t.params)?void 0:r.wgrep)||(c=null==u||null==(s=u.params)?void 0:s.wgrep))&&l.setGrep(new RegExp(c,'i')),(m=null==t||null==(d=t.params)?void 0:d.wgrepv)||(m=null==u||null==(p=u.params)?void 0:p.wgrepv))return l.setGrepv(new RegExp(m,'i'))},a._destructors.destroyWLog=function(){return null==l?void 0:l.reset()}})(Wistia);
},function(e,t,n){var i;i=n(4).cachedDetect,function(e){return e._initializers.initDetect=function(){if(!e.detect)return e.detect=i()}}(Wistia);
},function(e,t,n){(function(e){var t,i,a;if(t=e,i=n(33).globalEventLoop,null==(a=t._initializers)||!a.initEventLoop)return t._initializers.initEventLoop=function(){return t.eventLoop=i},t._destructors.destroyEventLoop=function(){var e;return null!=(e=t.eventLoop)&&e.stop(),t.eventLoop=null}})(Wistia);
},function(){(function(e){var t,n,i,a;if(i=e,!i.embed)return t=i.lib('player/lib/judy'),n=i.lib('promiscuous'),a=i.lib('player/lib/media_data').fetchMedia,i._embed={},i.embed=function(e,t){var n,a;return null==t&&(t={}),i.info('Wistia.embed',e,t),'string'==typeof e?a=e:(a=e.hashedId,i.remote._convertEmbedSslToAkamai(e),i.cacheMedia(a,e)),n=new i.PublicApi(a,t),n},i.embedEngine=function(e,r,l,s){var d;return null==l&&(l={}),null==s&&(s={}),d='string'==typeof r?r:r.hashedId,new n(function(n){return a(d,function(a){var r,p;return i.remote._convertEmbedSslToAkamai(a),i.cacheMedia(d,a),r=t.buildContext(s),p=t.bestUsableEngine(r,a,l),i.asyncRequire(p).then(function(t){var r;return r=new t(e,a,i.obj.merge({duration:a.duration},l)),n(r)})})})}})(Wistia);
},function(e,t,n){var i=function(e,t){return function(){return e.apply(t,arguments)}},a=[].slice;(function(e){var t,r,s,l,d;if(s=e,!s.PublicApi)return t=n(25),r=n(14),s.Judy=t,s.Assets=n(18),l=n(7).inUserEventContext,s.PublicApi=function(){function n(e,t){this._definePluginMethod=i(this._definePluginMethod,this),this._doResize=i(this._doResize,this),this._doMonitor=i(this._doMonitor,this),this._initWithMediaData=i(this._initWithMediaData,this),this._allocEmbedSlot=i(this._allocEmbedSlot,this);var n;this.info('initialize'),this._hasImpl=new s.StopGo,this._notReplacing=new s.StopGo,this._notReplacing(!0),this.hasPlugins=new s.StopGo,this.up=new s.StopGo,this.up(!0),this.down=new s.StopGo,this.down(!1),this.inViewport=new s.StopGo,this.inViewport(!1),this._implVersion=0,this._playlistIndex=0,this._attrs={},this.params={},this.options={},this.controls={},this._pluginStopGos={},this.plugins={},this.data={},this._definePluginMethod(),this.hashedId(e),this._givenOptions=t,this._playlist=[],this._setupContainer(),this._validate(),this._inferPropertiesBeforeMediaData(),this._dedupContainer(),this._addToGlobalCache(),this._setupBindings(),this._resetTracker(),this.supportedPlayers=[],this.addToPlaylist(this.hashedId(),t),this.down(this.looksDown()),this.up(this.looksUp()),this._hasImpl(function(e){return function(){if(e._wvideoInUrl())return e._scrollToContainer(),e.play()}}(this)),null!=(n=window.wistiaEmbeds)&&n.bindHandles(),this.trigger('initembed'),this.monitor(),this.embedded(function(e){return function(){return e.monitor()}}(this)),this.ready(function(e){return function(){return e.monitor()}}(this)),this._onInitializable(function(e){return function(){return e._withFreeEmbedSlots(function(){var t;return e._initTime=new Date().getTime(),e.hasData(function(){return e._hasDataTime=new Date().getTime()}),e.embedded(function(){return e._embeddedTime=new Date().getTime()}),e.ready(function(){return e._readyTime=new Date().getTime()}),t=e._gatherOptions(),t.mediaData?e._initWithMediaData(t.mediaData):s.remote.media(e.hashedId(),e._initWithMediaData,t)})}}(this))}var d=Math.round;return n.prototype._withFreeEmbedSlots=function(e){var t;return this._setupEmbedSlots(),t=null,this.embedded(function(e){return function(){return clearTimeout(t),t=setTimeout(function(){return e._freeEmbedSlot()},e._embedSlotThrottleInterval())}}(this)),null==this._freeEmbedSlotOnError&&(this._freeEmbedSlotOnError=function(e){return function(){return e._freeEmbedSlot(),e.unbind}}(this)),this.rebind('servererror',this._freeEmbedSlotOnError),s._embedSlotFree(function(n){return function(){return n._allocEmbedSlot(),t=setTimeout(function(){return n._freeEmbedSlot()},1e3),e()}}(this))},n.prototype._onInitializable=function(e){return this.popover?s.elem.isHidden(this.container)?(this.info('popover, delaying init until container is visible'),s.eventLoop.add(this.uuid+'.wait_for_container_visible',500,function(t){return function(){var n;if(!s.elem.isHidden(t.container)){t.info('container became visible, initializing');try{e()}catch(e){n=e,s.error(n)}return s.eventLoop.remove}}}(this))):e():e()},n.prototype._setupEmbedSlots=function(){if(null==s._embedSlots&&(s._embedSlots=[]),!s._embedSlotFree)return s._embedSlotFree=new s.StopGo,s._embedSlotFree(!0)},n.prototype._maxEmbedSlots=function(){var e,t,n;return n=function(){var n,i;for(e in n=s.data('video'),i=[],n)t=n[e],i.push(e);return i}().length,20<n?5:10<n?8:13},n.prototype._embedSlotThrottleInterval=function(){return 500},n.prototype._freeEmbedSlot=function(){var e;if(this._setupEmbedSlots(),s._embedSlots=function(){var t,n,i,a;for(i=s._embedSlots,a=[],(t=0,n=i.length);t<n;t++)e=i[t],e!==this&&a.push(e);return a}.call(this),s._embedSlots.length<this._maxEmbedSlots())return s._embedSlotFree(!0)},n.prototype._allocEmbedSlot=function(){if(this._setupEmbedSlots(),s._embedSlots.push(this),s._embedSlots.length>=this._maxEmbedSlots())return s._embedSlotFree(!1)},n.prototype._shouldLazyLoad=function(){var e;return e=this._gatherOptions(),!window._inWistiaIframe&&parent===self&&(e.lazyLoad||this.popover&&!1!==e.lazyLoad)},n.prototype._initWithMediaData=function(e){var n,i,a;this.info('_initWithMediaData',e);try{0===s.Player.assets(e,{public:!0}).length&&s.Metrics.videoCount(this,'player/no-public-assets')}catch(e){n=e,this.debug(n)}return this.isRemoved()?void this.notice('abort, video already removed'):e.error?(this.notice('display error message from server'),this._displayServerError(e),void this.trigger('servererror')):(this._originalMediaData=e,this._mediaData=this._transformMediaData(e),this.data.media=e,this.info('_optionSources',this._optionSources()),this._opts=this._gatherOptions(),this.info('_opts',s.obj.clone(this._opts)),s.obj.merge(this._mediaData,this._opts.mergeMediaData),this._inferPropertiesAfterMediaData(),a=t.choosePlayer(this.judyCtx(),this._mediaData,this._opts),this._playerPlugins=t.playerPlugins(this.judyCtx(),a,this._mediaData,this._opts),t.logWarnings(this.judyCtx(),a,this._mediaData,this._opts),this._implVersion+=1,i=this._implVersion,this._execPlugins(function(n){return function(){var r,e,l,d;if(n._implVersion!==i)return void n.notice('_initWithMediaData(): impl changed from',i,'to',n._implVersion,'not completing init');n.hasPlugins(!0),l=s.PublicApi.classFor(a),n.supportedPlayers=t.supportedPlayers(n.judyCtx(),n._mediaData.assets);try{n._impl=new l(n).init()}catch(e){throw r=e,n.error('Failed to initialize impl of class',l,'preferred',a,'supported',n.supportedPlayers),r}return n.grid=n._impl.setupGrid({initDimensions:!1}),n._hasImpl(!0),n.hasData(!0),e=n._impl,(null==(d=n._embedContainer)?void 0:d.parentNode)?(n._runMethodsFromOptions(),n._impl.embed(),s.timeout(n.uuid+'.prefetch_next_media',function(){return n.prefetchNextMedia()},2e3),n._injectJsonLd()):n.notice('embed(): container removed, giving up')}}(this)))},n.prototype.judyCtx=function(){return this._judyCtx||(this._judyCtx=t.buildContext({pageUrl:this._attrs.pageUrl}))},n.prototype._iframeUrl=function(e){return null==e&&(e=''),e+'//'+s.remote.externalEmbedHost(e)+'/embed/iframe/'+this.hashedId()},n.prototype._removeJsonLd=function(){if(this._jsonLd)return s.elem.remove(this._jsonLd),this._jsonLd=null},n.prototype._wvideoInUrl=function(){var e;return!this._opts._inIframe&&(e=s.url.parse(this._attrs.pageUrl),e.params.wvideo===this.hashedId())},n.prototype._scrollToContainer=function(){var e;return e=s.elem.offset(this.container),s.util.scrollTop(e.top-100)},n.prototype._injectJsonLd=function(){var e,t,n;if('notplayable'!==this.playerType)return(this._removeJsonLd(),!this._opts._inIframe)?!1===this._opts.seo||s.detect.browser.msie&&9>s.detect.browser.version?void 0:(e={"@context":'http://schema.org/',"@id":this._iframeUrl('https:'),"@type":'VideoObject',duration:'PT'+this.humanDuration().toUpperCase(),name:this.name(),thumbnailUrl:this.stillUrl({protocol:'https:'}),embedUrl:this._iframeUrl('https:'),uploadDate:this._createdAtIso8601()},this._mediaData.captions&&(e.transcript=null==(t=this._mediaData.captions[0])?void 0:t.text),this._mediaData.seoDescription&&(e.description=this._mediaData.seoDescription),n=JSON.stringify(e),this._jsonLd=s.elem.fromObject({tagName:'script',type:'application/ld+json',childNodes:n}),this._jsonLd._wistia=!0,s.elem.append(document.head,this._jsonLd)):void 0},n.prototype._createdAtIso8601=function(){var e,t,n,i;return e=new Date(1e3*this._mediaData.createdAt),i=e.getFullYear(),n=e.getMonth()+1,t=e.getDate(),10>n&&(n='0'+n),10>t&&(t='0'+t),i+'-'+n+'-'+t},n.prototype._setDeprecatedProperties=function(){return this.options=s.obj.clone(this._opts),this.params=s.obj.clone(this._opts),s.obj.merge(this.params,this._attrs),this._attrs.email&&(this.params.trackEmail=this._attrs.email),this._hasImpl(function(e){return function(){var t;return e.playerType=e.embedType=null==(t=e._impl)?void 0:t.playerType}}(this))},n.prototype.elem=function(){var e;return null==(e=this._impl)?void 0:'function'==typeof e.elem?e.elem():void 0},n.prototype._resetTracker=function(){var e;return null!=(e=this._tracker)&&e.reset(),this._tracker||(this._tracker=new s.VideoTracker2(this)),this.tracker=this._tracker,this._visitorKey=this._tracker.visitorKey(),this._tracker.monitor()},n.prototype._execPlugins=function(e){return this._pluginScripts=s.plugin._scriptsFromVideo(this),this.info('_execPlugins',this._pluginScripts),s.plugin._execQueue(this,this._pluginScripts,e)},n.prototype._optionSources=function(e){var t,n,i,a,r,l,d,p,u,c,m,h,g,y;for(l in null==e&&(e={}),e=s.obj.merge({givenOptions:s.obj.clone(this._givenOptions),mediaData:s.obj.clone(this._mediaData),hashedId:this._hashedId,container:this.container},e),a=e.givenOptions,'v1'===a.version?n={}:e.mediaData?(n=s.obj.clone(e.mediaData.embed_options),delete n.stillUrl):n={},p={},h=s.url.parse(this._inferPageUrl()),u=['autoPlay','controlsVisibleOnLoad','fakeFullscreen','hls','muted','nativeMode','playbar','playerForce','playerPreference','playsinline','silentAutoPlay','videoFoam','volumeControl'],c=h.params||{},c)y=c[l],/^w_/.test(l)&&(l=l.replace(/^w_/,''),0<=s.obj.indexOf(u,l)&&(p[l]=y));for(t in i={},m={customize:n,global:s.options('__global__'),hashedId:s.options(e.hashedId),dom:s.options('__'+e.container.id+'_dom_options__'),container:s.options(e.container.id),inline:a,inferredOptions:i,queryParamOptions:p},m)d=m[t],!1===d['vulcan-v2']?i.playerPreference='vulcan':!0===d['vulcan-v2']&&(i.playerPreference='vulcan-v2');for(r in'true'===h.params['vulcan-v2']?i.playerPreference='vulcan-v2':'false'===h.params['vulcan-v2']&&(i.playerPreference='vulcan'),m)g=m[r],s.obj.isEmpty(g)&&delete m[r];return m},n.prototype._gatherOptions=function(e){var t,n,i,a,r,l,d,p;for(t in null==e&&(e={}),n={},d=this._optionSources(e),d)p=d[t],0<=(null==(i=e.only)?void 0:i.indexOf(t))?s.obj.merge(n,p):0>(null==(a=e.except)?void 0:a.indexOf(t))?s.obj.merge(n,p):!e.only&&!e.except&&s.obj.merge(n,p);return s.obj.cast(n),this._normalizeOptions(n),'html5'===n.playerPreference&&'vulcan-v2'===(null==(r=this._mediaData)||null==(l=r.embed_options)?void 0:l.playerPreference)&&(n.playerPreference='vulcan-v2'),n},n.prototype.hashedId=function(e){return null==e?this._hashedId:(this._hashedId=e,this)},n.prototype._setupPlayerPlugins=function(){},n.prototype._readyMp4s=function(){return s.Player.assets(this._mediaData,{container:'mp4',public:!0,status:s.Player.READY})},n.prototype._nonFailedMp4s=function(){return[].concat(s.Player.assets(this._mediaData,{container:'mp4',public:!0,status:s.Player.READY})).concat(s.Player.assets(this._mediaData,{container:'mp4',public:!0,status:s.Player.PROCESSING})).concat(s.Player.assets(this._mediaData,{container:'mp4',public:!0,status:s.Player.QUEUED}))},n.prototype._normalizeOptions=function(e){return e.twitter&&(this.info('twitter detected'),s.obj.get(e,'plugin.socialbar-v1')&&(this.info('disabled socialbar'),s.obj.set(e,'plugin.socialbar-v1.on',!1)),s.obj.get(e,'plugin.transcript-v2')&&(this.info('disabled transcript'),s.obj.set(e,'plugin.transcript-v2.on',!1))),null!=e.playButtonVisible&&(e.playButton=s.obj.cast(e.playButtonVisible),delete e.playButtonVisible),e},n.prototype._setupContainer=function(){return this._containerId=this._givenOptions.container?this._givenOptions.container:'wistia_'+this.hashedId(),this.container='string'==typeof this._containerId?document.getElementById(this._containerId):this._containerId,this.container&&(this.container.wistiaApi=this,this._startingHtml=this.container.innerHTML,this.container.innerHTML='',s.elem.addClass(this.container,'wistia_embed_initialized')),this.info('container',this.container)},n.prototype._inferPropertiesBeforeMediaData=function(){var e;if(this.chrome=s.elem.fromObject({id:s.seqId('wistia_chrome_'),class:'w-chrome',style:s.generate.relativeBlockCss()}),s.elem.style(this.chrome,{outline:'none',overflow:'hidden',boxSizing:'content-box',mozBoxSizing:'content-box',webkitBoxSizing:'content-box'}),e=this._gatherOptions(),this._shouldBePopover()?(this._embedContainer=s.elem.fromObject({id:this.container.id+'_popover',style:{height:this._popoverSize(e).height+'px',width:this._popoverSize(e).width+'px'}}),s.elem.append(document.body,this._embedContainer),this.popover=new s.Popover(this)):this._embedContainer=this.container,s.elem.append(this._embedContainer,this.chrome),this.uuid=e.uuid?e.uuid:s.seqId(),this.info('uuid',this.uuid),null!=e.playlistLoop&&(this._attrs.playlistLoop=e.playlistLoop),this._embedContainer)return this._attrs.startingWidth=s.elem.width(this._embedContainer),this._attrs.startingHeight=s.elem.height(this._embedContainer)},n.prototype._shouldBePopover=function(){var e;return e=this._gatherOptions(),!e._inIframe&&(!0===e.popover||'v2'===e.popover)},n.prototype._popoverSize=function(e){var t,n,i,a,r;return null==e&&(e=this._opts),null==e&&(e={}),e.popoverSize?(a=(null==(i=e.popoverSize)?void 0:i.split('x'))||[640,360],r=a[0],t=a[1],r=parseInt(r),t=parseInt(t)):this._mediaData?(n=this.asset({container:'mp4',width:[0,960],sortBy:'width desc'}))?(r=n.width,t=n.height):(r=640,t=360):(r=640,t=360),{width:r,height:t}},n.prototype._inferPropertiesAfterMediaData=function(){var e,t,n,i;return this._attrs.shouldTrack=!this._opts.doNotTrack,this._attrs.seekThreshold=this._opts.seekThreshold||1.5,n=this._inferQualityRangeFromOpts(),t=n[0],e=n[1],this._attrs.qualityMin=t,this._attrs.qualityMax=e,this._attrs.qualityMax<this._attrs.qualityMin&&(this.error('qualityMax '+this._attrs.qualityMax+' is less than qualityMin '+this._attrs.qualityMin+'. Setting qualityMax to '+this._attrs.qualityMin+'.'),this._attrs.qualityMax=this._attrs.qualityMin),this._attrs.rawEmbed=null==this._opts.rawEmbed?null==this._opts._inIframe||!s.obj.cast(this._opts._inIframe||!1):s.obj.cast(this._opts.rawEmbed),this._attrs.pageUrl||(this._attrs.pageUrl=this._inferPageUrl()),null!=this._opts.trackEmail&&(this._attrs.email=this._opts.trackEmail),!this._attrs.email&&this._attrs.shouldTrack&&(i=this._extractEmailFromParams(),i&&(this._attrs.email=i)),!this._attrs.email&&s.localStorage([this._attrs.pageUrl,'trackEmail'])&&(this._attrs.email=s.localStorage([this._attrs.pageUrl,'trackEmail'])),this._attrs.playerColor=s.Player._sanePlayerColor(this._opts.playerColor||'636155'),this._attrs.playerBackgroundColor=this._opts.playerBackgroundColor||'#000000',this._attrs.trackWithJs=!0,this._attrs.newStillLogic=!0,this._opts.noDeprecatedProperties||this._setDeprecatedProperties(),this},n.prototype._inferPageUrl=function(){var e,t,n;return(null==(e=this._opts)?void 0:e.pageUrl)?this._opts.pageUrl:(null==(t=window.FreshUrl)?void 0:t.originalUrl)?null==(n=window.FreshUrl)?void 0:n.originalUrl:top===self?location.href||'':document.referrer||''},n.prototype._inferQualityRangeFromOpts=function(){var e,t,n,i,a,r,l,p,u,c,m;return t=360,e=2160,this._opts.videoQuality&&'auto'!==this._opts.videoQuality?'sd-only'===this._opts.videoQuality?[200,360]:'md'===this._opts.videoQuality?[540,e]:'hd-only'===this._opts.videoQuality?[720,e]:/width:/.test(this._opts.videoQuality)?(u=this._opts.videoQuality.match(/width:(\d+)/i),n=u[0],c=u[1],m=parseInt(c,10),(a=s.Player.asset(this._mediaData,{container:/mp4|flv/,status:s.Player.READY,public:!0}))?(i=a.width/a.height,r=d(m/i),[r,r]):(this.warn('No assets available to determine aspect for videoQuality \''+this._opts.videoQuality+'\', using default qualityMin/qualityMax'),[t,e])):(this.warn('Unknown videoQuality setting \''+this._opts.videoQuality+'\', using default qualityMin/qualityMax'),[t,e]):(p=null==this._opts.qualityMin?t:s.util.assetSizeShorthandToNumeric(this._opts.qualityMin),l=null==this._opts.qualityMax?e:s.util.assetSizeShorthandToNumeric(this._opts.qualityMax),[p,l])},n.prototype._extractEmailFromParams=function(){var e,t,n,i,a,r;return(a=(null==(n=this._attrs.pageUrl)?void 0:n.match(/wemail\=([^\&\#]+)/))||null,a)?a[1]:(r=(null==(i=this._attrs.pageUrl)?void 0:i.match(/wkey\=([^\&\#]+)/))||null,r?(e=r[1],t=s.base64.decode(e),t):null)},n.prototype._runMethodsFromOptions=function(){var e,t,n;if(null!=this._opts.foreignData&&this.foreignData(this._opts.foreignData),null==this._opts.email?null!=this._opts.trackEmail&&this.email(this._opts.trackEmail):this.email(this._opts.email),null!=this._opts.playerLanguage&&this.playerLanguage(this._opts.playerLanguage),null!=this._opts.videoFoam&&this.videoFoam(this._opts.videoFoam),this._opts.controlScaling&&this.controlScaling(this._opts.controlScaling),this._hasImpl(function(e){return function(){if(null!=e._opts.playerColor&&'flash'!==e.playerType)return e.playerColor(e._opts.playerColor)}}(this)),null!=this._opts.volume&&this.volume(this._opts.volume),(!0===this._opts.muted||0===this._opts.volume)&&this.mute(),!1===this._opts.muted&&this.unmute(),this._opts.suppressPlay&&this.suppressPlay(this._opts.suppressPlay),!this.popover&&this._opts.autoPlay&&this._hasImpl(function(e){return function(){return e._playSuspendedOffScreenEnabled()?e.inViewport()?e.play():e.bind('enterviewport',function(){return e.play(),e.unbind}):e.play()}}(this)),this._opts.pause&&this.pause(),null!=this._opts.time)return t=s.detect.iphone||s.detect.ipad||s.detect.android,e=this.popover&&!this.popover._visible,n='playing'!==this.state()&&(t||e),this.time(this._opts.time,{lazy:n})},n.prototype._playSuspendedOffScreenEnabled=function(){return null!=this._opts.playSuspendedOffScreen&&'auto'!==this._opts.playSuspendedOffScreen?this._opts.playSuspendedOffScreen:this.isMuted()},n.prototype._validate=function(){var e;if(e=this._errors(),0<e.length){throw new Error(e.join(', '))}return!0},n.prototype._errors=function(){var e;return e=[],this.container||e.push('Could not find element with ID "'+this._containerId+'" in DOM. Failed to initialize video "'+this._hashedId+'".'),e},n.prototype._dedupContainer=function(){var e,t,n,i,a,r,l;if(s.data('video')){for(l in r=[],i=s.data('video'),i)e=i[l],(null==(a=e.container)?void 0:a.id)===this.container.id&&r.push(e);for(t=0,n=r.length;t<n;t++)e=r[t],this.notice('_dedupContainer',e.container.id),e.remove();if(0<r.length)return this.container.wistiaApi=this}},n.prototype._addToGlobalCache=function(){return this.info('_addToGlobalCache',this.uuid),s.data(['video',this.uuid],this)},n.prototype._displayServerError=function(e){return e.iframe?this.container.innerHTML='<iframe src=\''+s.proto()+'//'+s.remote.embedHost()+'/embed/iframe/'+this.hashedId()+'\' height=\''+this.height()+'\' width=\''+this.width()+'\' frameborder=\'0\' scrolling=\'no\'></iframe>':this.container.innerHTML='<div style=\'background:#fff;border:2px dashed #ddd;color:#aaa;font-family:Century Gothic,Arial;font-size:14px;text-align:center;width:'+this.width()+';height:'+this.height()+';\'><div style=\'padding:20px;\'>'+(e.message||e.error)+'</div></div>'},n.prototype._implExec=function(){var e,t;return t=arguments[0],e=2<=arguments.length?a.call(arguments,1):[],this._hasImpl(function(n){return function(){var i;return n._impl[t]?n._impl[t]._originalMethod===n[t]?void n.warn('calling '+t+' would result in an infinite loop'):(i=n._impl)[t].apply(i,e):n.warn(t+' is not defined',s.stacktrace())}}(this)),this},n.prototype._implGet=function(){var e,t,n,i;return n=arguments[0],t=arguments[1],e=3<=arguments.length?a.call(arguments,2):[],null==t&&(t=null),this._hasImpl()?this._impl[n]?this._impl[n]._originalMethod===this[n]?void this.warn('calling '+n+' would result in an infinite loop'):(i=this._impl)[n].apply(i,e):this.warn(n+' is not defined',s.stacktrace()):t},n.prototype._implSetOrGet=function(){var e,t,n;return n=arguments[0],t=arguments[1],e=3<=arguments.length?a.call(arguments,2):[],0<e.length?this._implExec.apply(this,[n].concat(a.call(e))):this._implGet(n,t)},n.prototype._implPromise=function(){var e,t;return t=arguments[0],e=2<=arguments.length?a.call(arguments,1):[],new r(function(n){return function(i,a){return n._hasImpl(function(){var l,s;return n._impl[t]?n._impl[t]._originalMethod===n[t]?void n.warn('calling '+t+' would result in an infinite loop'):(s=(l=n._impl)[t].apply(l,e),s instanceof r?s.then(i)['catch'](a):i(s)):a(new Error(t+' is not defined on _impl'))})}}(this))},n.prototype.rebuild=function(){return this._hasImpl(function(e){return function(){return e._impl.rebuild(),e._runMethodsFromOptions()}}(this))},n.prototype.fullRebuild=function(e){return null==e&&(e={}),this.replaceWith(this._impl._mediaData,s.obj.merge({force:this._impl.playerType,inPlace:!1,transition:'none'},e))},n.prototype.rebuildAs=function(e,t){return null==t&&(t={}),this.fullRebuild(s.obj.merge(this._givenOptions,t,{force:e,transition:'none'}))},n.prototype.replace=function(e,t){return null==t&&(t={}),this.replaceWith(e,s.obj.merge({inlineOptionsOnly:!0},t))},n.prototype.replaceWith=function(e,t){var n;return null==t&&(t={}),this.info('replaceWith',e,t),n=function(n){return function(){var i,a;return a=n._impl?n._replaceWithMediaData:n._initWithMediaData,n._impl.trigger('beforereplace'),n._notReplacing(!1),n.hasData(!1),n._hasImpl(!1),n._initTime=new Date().getTime(),n.hasData(function(){return n._hasDataTime=new Date().getTime(),n.embedded(function(){return n._embeddedTime=new Date().getTime()})}),s.obj.isObject(e)?a.call(n,e,t):(i=s.mediaFromCache(e))?a.call(n,i,t):s.remote.media(e,function(e){return a.call(n,e,t)},n._opts)}}(this),this._hasImpl(function(e){return function(){return e._notReplacing(n)}}(this)),this},n.prototype._replaceWithMediaData=function(){var e;return e=1<=arguments.length?a.call(arguments,0):[],this._impl.commandQueueOpen.synchronize(function(t){return function(n){return t._replaceWithMediaDataQueuable.apply(t,e),t._notReplacing(n)}}(this))},n.prototype._replaceWithMediaDataQueuable=function(e,n){var i,a,r,d,p,u,c,m,h,g,y,f,_,b,v;return(null==n&&(n={}),s.remote._convertEmbedSslToAkamai(e),n=s.obj.clone(n),this.info('_replaceWithMediaData',e,n),e.error)?(this._displayServerError(e),void this.trigger('servererror')):(null==n.playlistIndex?this._inPlaylist(e.hashedId)&&(this._playlistIndex=this._playlistIndexOf(e.hashedId)):(this._playlistIndex=n.playlistIndex,delete n.playlistIndex),n.inlineOptionsOnly&&(p=n.inlineOptionsOnly,delete n.inlineOptionsOnly),null!=n.inPlace&&(d=n.inPlace,delete n.inPlace),null!=n.transition&&(b=n.transition,delete n.transition),null!=n.transitionTime&&(v=n.transitionTime,delete n.transitionTime),this.hasData(!1),this._hasImpl(!1),this._tracker.stopMonitoring(),this._clobberVideoBindings(),this._savedState={},this._suspended=!1,c=this._impl,'function'==typeof c.wipeOutstandingAsyncFunctions&&c.wipeOutstandingAsyncFunctions(),this._hashedId=e.hashedId,this._originalMediaData=e,this._mediaData=this._transformMediaData(e),this.data.media=e,this._givenOptions=n,this._opts=p?this._gatherOptions({only:'inline'}):this._gatherOptions(),this._embedOptions=null,c.freezeLastFrame(),m=new s.StopGo,_=function(){return m.go()},l()&&!0===this._opts.autoPlay&&!c.isMuted()?(i=c.engine,i?(i.stopStreaming(),i.play().then(_)['catch'](_),setTimeout(_,2e3)):_()):_(),!1===(null==(h=this._mediaData.embed_options.plugin)||null==(g=h.passwordProtectedVideo)?void 0:g.on)&&null!=(null==(y=this._opts.plugin)?void 0:y.passwordProtectedVideo)&&(this._opts.plugin.passwordProtectedVideo.on=!1),this.info('_opts',s.obj.clone(this._opts)),s.obj.merge(this._mediaData,this._opts.mediaData),this._inferPropertiesAfterMediaData(),r='notplayable'!==c.playerType&&'passwordprotected'!==c.playerType&&('html5'===c.playerType&&(s.detect.iphone||s.detect.android||s.detect.ipad||s.detect.safari)||null!=d&&d),this.info('inPlace',r),u=t.choosePlayer(this.judyCtx(),this._mediaData,this._opts),this._playerPlugins=t.playerPlugins(this.judyCtx(),u,this._mediaData,this._opts),t.logWarnings(this.judyCtx(),u,this._mediaData,this._opts),r&&(this.removePlugins(),c.stopStreaming()),this.plugin=null,this._pluginStopGos={},this._definePluginMethod(),this.hasPlugins(!1),c.commandQueueOpen.setQueue([]),null!=(f=c.engine)&&f.destroy(),this._implVersion+=1,a=this._implVersion,this._execPlugins(function(e){return function(){var n,i;return e._implVersion===a?(e.hasPlugins(!0),e.supportedPlayers=t.supportedPlayers(e.judyCtx(),e._mediaData.assets),i=s.PublicApi.classFor(u),e._impl=new i(e).init(),e._setupBindings(),e.grid=r?e._impl.grid=c.grid:e._impl.setupGrid({initDimensions:!1}),'function'==typeof(n=e._impl).transferStateFrom&&n.transferStateFrom(c),e._hasImpl(!0),e.hasData(!0),e._resetTracker(),r||e._runMethodsFromOptions(),r?e._replaceMode(function(){return e._impl.initFrom(c)}):e._replaceMode(function(){return m(function(){return e._embedWithTransitionFrom(c,b,{time:v})})}),e.embedded(function(){return e._notReplacing(!0)}),r&&e._runMethodsFromOptions(),e._allowContainerMatch()&&e.width(e.containerWidth(),{constrain:!0}),s.timeout(e._impl.uuid+'.inject_json_ld',function(){return e._injectJsonLd()}),e.trigger('afterreplace'),s.timeout(e.uuid+'.prefetch_next_media',function(){return e.prefetchNextMedia()},2e3)):void e.notice('replaceWith(): impl changed from',a,'to',e._implVersion,'not completing replacement')}}(this)))},n.prototype._embedWithTransitionFrom=function(e,t,n){return null==t&&(t='none'),this.info('_embedWithTransitionFrom',e,t),'slide'===t||'slideleft'===t?(this.info('slideleft'),this._impl.embed(e),this._impl.embedded(function(t){return function(){return e.slideOutLeft(n,function(){return e.remove()}),t._impl.slideInLeft(n,t._impl.trigger('transitiondone'))}}(this))):'slideright'===t?(this.info('slideright'),this._impl.embed(e),this._impl.embedded(function(t){return function(){return e.slideOutRight(n,function(){return e.remove()}),t._impl.slideInRight(n,function(){return t._impl.trigger('transitiondone')})}}(this))):'fade'===t?(this.info('fade'),'transparent'!==e._opts.wmode&&(e.grid.center.style.backgroundColor='#000'),null!=n.time&&(n.time=d(n.time/2)),e.fadeOut(n,function(t){return function(){var i;return e.remove(),'transparent'!==t._impl._opts.wmode&&null!=(i=t._impl.grid)&&(i.center.style.backgroundColor='#000'),t._impl.embed(e),t._impl.embedded(function(){return t._impl.fadeIn(n,function(){var e;return null!=(e=t._impl)&&(e.grid.center.style.backgroundColor=''),t._impl.trigger('transitiondone')})})}}(this))):'crossfade'===t?(this.info('crossfade'),e.grid&&s.elem.style(e.grid.root,{position:'absolute',zIndex:0}),s.elem.style(this._impl.grid.root,{zIndex:1}),this._impl.embed(e),this._impl.embedded(function(t){return function(){return t._impl.fadeIn(n,function(){return e.remove(),s.elem.style(t._impl.grid.root,{zIndex:''}),t._impl.trigger('transitiondone')})}}(this))):(this.info('no transition'),this._impl.embed(e),e.remove())},n.prototype._clobberVideoBindings=function(){var e,t,n,i;for(e in t=this._bindings,n=[],t)i=t[e],'afterreplace'===e||'beforereplace'===e||'all'===e?n.push(void 0):n.push(this.unbind(e));return n},n.prototype._replaceMode=function(e){return this.info('_replaceMode',!0),this._impl._replacing=!0,e(),this._impl.embedded(function(e){return function(){return e._impl._replacing=!1,e.info('_replaceMode',!1)}}(this))},n.prototype.remove=function(){var e,t,n,i,a,r,l,d;return this.info('remove'),this.trigger('down'),this.trigger('beforeremove'),this._freeEmbedSlot(),null!=(e=this.elem())&&null!=(t=e.mux)&&'function'==typeof t.destroy&&t.destroy(),this._implExec('remove',{trigger:!1}),this._hasImpl(!1),this._removeJsonLd(),null!=(n=this.popover)&&n.remove(),null!=(i=this._impl)&&i.stopStreaming(),null!=(a=this._intersectionObserver)&&a.disconnect(),s.elem.unbindAll(this._foamDummyElem),s.elem.remove(this._foamDummyElem),null!=(r=s.eventLoop)&&r.remove(this.uuid),s.clearTimeouts(this.uuid),this._unbindListeners(),s.elem.remove(this.chrome),s.removeData(['video',this.uuid]),this.trigger('afterremove'),this._bindings={},this.container.wistiaApi='removed',this._impl=null,null!=(l=window.__wistiaStores)&&(l[this.uuid]=null),null==(d=window.__wistiaStores)?void 0:delete d[this.uuid]},n.prototype.fullRemove=function(){var e,t;return t=this._embedContainer,e=this.container,this.remove(),s.elem.remove(t),s.elem.remove(e),this.container=this._embedContainer=null,this},n.prototype.isRemoved=function(){return!s.data(['video',this.uuid])},n.prototype._unbindListeners=function(){if(s.elem.unbindAllInside(this.chrome),this._throttleTriggerViewport&&s.elem.unbind(window,'scroll',this._throttleTriggerViewport),this._doResize)return s.elem.unbind(window,'resize',this._doResize)},n.prototype._saveState=function(){var e;return this._savedState={state:this.state(),time:this.time(),volume:this.volume(),inFullscreen:this.inFullscreen(),uuid:null==(e=this._impl)?void 0:e.uuid}},n.prototype.suspend=function(){if(!this._suspended)return this._saveState(),this.info('suspend',s.obj.clone(this._savedState)),this.pause(),this.suppressPlay(!0),this.cancelFullscreen(),this._suspended=!0,this._suspendPlayBinding=function(){return this.pause()},this._suspendSeekBinding=function(){return this.pause(),this.time(this._savedState.time)},this.bind('play',this._suspendPlayBinding),this.bind('seek',this._suspendSeekBinding),this.trigger('suspendstatechange',!0),this},n.prototype.resume=function(e){var t,n;if(null==e&&(e={}),!!this._suspended)return(n=s.obj.merge({},this._savedState,e),this.info('resume',s.obj.clone(n)),this._suspended=!1,this.trigger('suspendstatechange',!1),this.unbind('play',this._suspendPlayBinding),this.unbind('seek',this._suspendSeekBinding),n.uuid!==(null==(t=this._impl)?void 0:t.uuid))?this:(this.suppressPlay(!1),this.volume(n.volume),0<n.time&&('ended'===n.state?'flash'===this.playerType&&1800<this.duration()?this.time(n.time-10):this.time(n.time-1):this.time(n.time)),'playing'===n.state&&this.play(),this)},n.prototype._setupBindings=function(){return this.bind('afterend',function(e){return function(){return e._suspended?e.bind('suspendstatechange',function(t){if(!1===t)return e._nextEmbedOrPlaylistLoop(),e.unbind}):e._nextEmbedOrPlaylistLoop()}}(this)),this.bind('widthchange',function(e){return function(){var t,n;return null!=(t=e._impl)&&(t._width=e._width=e.width()),null==(n=e._impl)?void 0:n._videoWidth=e._videoWidth=e.videoWidth()}}(this)),this.bind('heightchange',function(e){return function(){return e._impl._height=e._height=e.height(),e._impl._videoHeight=e._videoHeight=e.videoHeight()}}(this)),window.IntersectionObserver?(this.looksUp()&&(this.inViewport(this._isInViewportNow()),this.inViewport()?this.trigger('enterviewport'):this.trigger('leaveviewport')),this._intersectionObserver=new IntersectionObserver(function(e){return function(t){return t[0].isIntersecting?(e.trigger('enterviewport'),e.inViewport(!0)):(e.trigger('leaveviewport'),e.inViewport(!1))}}(this)),this._intersectionObserver.observe(this.container)):top===self?(null==this._throttleTriggerViewport&&(this._throttleTriggerViewport=s.util.throttle(300,function(e){return function(){var t;return(t=e._isInViewportNow(),t&&!e._inViewport)?(e._inViewport=!0,e.inViewport(!0),e.trigger('enterviewport')):!t&&e._inViewport?(e._inViewport=!1,e.inViewport(!1),e.trigger('leaveviewport')):void 0}}(this))),s.elem.rebind(window,'scroll',this._throttleTriggerViewport),this.bind('initembed',this._throttleTriggerViewport),this.bind('up',this._throttleTriggerViewport),this.looksUp()&&this._throttleTriggerViewport()):(this._inViewport=!0,this.inViewport(!0)),s.elem.rebind(window,'resize',this._doResize),this.bind('sphericaltap',function(e){return window.location=e})},n.prototype._nextEmbedOrPlaylistLoop=function(){return this.nextVideo()?this.embedNext():this._attrs.playlistLoop?(this.info('playlistLoop'),this.embedIndex(0,{autoPlay:!0})):void 0},n.prototype._isInViewportNow=function(){var e,t,n,i,a;return this.down()||this.looksDown()?!1:window.IntersectionObserver||top===self?(e=s.elem.offset(this.container),n=e.top,t=n+s.elem.height(this.container),a=s.util.scrollTop(),i=s.util.scrollTop()+s.elem.height(window),n>=a&&n<i||t>=a&&t<i||n<=a&&t>=i):!0},n.prototype._pauseEventLoop=function(){var e;if(s.eventLoop.pause(this.uuid),null==(e=this._impl)?void 0:e.uuid)return s.eventLoop.pause(this._impl.uuid)},n.prototype._unpauseEventLoop=function(){var e;if(s.eventLoop.unpause(this.uuid),null==(e=this._impl)?void 0:e.uuid)return s.eventLoop.unpause(this._impl.uuid)},n.prototype.playlistIndex=function(){return this._playlistIndexOf(this.hashedId())},n.prototype.nextVideo=function(){return 0<=this.playlistIndex()?this._playlist[this.playlistIndex()+1]||null:null},n.prototype.previousVideo=function(){return 0<this.playlistIndex()?this._playlist[this.playlistIndex()-1]||null:null},n.prototype._playlistIndexOf=function(e){var t,n,i,a;for(t=n=0,i=this._playlist.length;0<=i?n<=i:n>=i;t=0<=i?++n:--n)if((null==(a=this._playlist[t])?void 0:a.hashedId)===e)return t;return-1},n.prototype._inPlaylist=function(e){return 0<=this._playlistIndexOf(e)},n.prototype._setTransitionOptions=function(e){if(e.transition||(e.transition=this._opts.playlistTransition||'fade'),e.transitionTime||(e.transitionTime=this._opts.playlistTransitionTime),e.playlistIndex&&'slide'===e.transition)return e.playlistIndex>=this._playlistIndex?e.transition='slideleft':e.transition='slideright'},n.prototype.embedNext=function(e){var t,n;return n=this.nextVideo(),this.info('embedNext',n),t=s.obj.merge({autoPlay:!0},n.options,e),t.playlistIndex=this._playlistIndex+1,this._setTransitionOptions(t),this.replaceWith(n.hashedId,t)},n.prototype.embedPrevious=function(e){var t,n;return n=this.previousVideo(),this.info('embedPrevious',n),t=s.obj.merge({autoPlay:!0},n.options,e),t.playlistIndex=this._playlistIndex-1,this.replaceWith(n.hashedId,t)},n.prototype.embedIndex=function(e,t){var n,i;return i=this._playlist[e],this.info('embedIndex',e,i),n=s.obj.merge({autoPlay:!0},i.options,t),n.playlistIndex=e,this.replaceWith(i.hashedId,n)},n.prototype.addToPlaylist=function(e,t,n){var i,a,r,l,d,p,u;for(null==t&&(t={}),null==n&&(n={}),null==this._playlist&&(this._playlist=[]),d=s.util.toArray(e),(r=0,l=d.length);r<l;r++)a=d[r],i={hashedId:a,options:t},n=s.obj.clone(n),n.after?n.detect=function(e){return e.hashedId===n.after}:n.before&&(n.detect=function(e){return e.hashedId===n.before}),this.info('addToPlaylist',i,n),s.util.insertIntoArray(this._playlist,i,n),a===(null==(p=this.nextVideo())?void 0:p.hashedId)?this.prefetchMedia(a,t):a===(null==(u=this.previousVideo())?void 0:u.hashedId)&&this.prefetchMedia(a,t);return this.info('updated _playlist',s.obj.clone(this._playlist)),this._playlist},n.prototype.prefetchNextMedia=function(){var e;if(!this._opts._inLegacyPlaylist&&(e=this.nextVideo()))return this.prefetchMedia(e.hashedId,e.options)},n.prototype.prefetchMedia=function(e,n){return this.info('@prefetchMedia',e),s.remote.media(e,function(i){return function(a){var r;return i.info('prefetched',e),i._prefetchPluginScripts(a,n),r=t.bestUsableEngine(i.judyCtx(),a,n),s.asyncRequire(r)}}(this),n)},n.prototype._prefetchPluginScripts=function(e,t){var n,i,a,r,d;if(this.info('@_prefetchPluginScripts for',e,t),a=this._gatherOptions({givenOptions:t,mediaData:e,hashedId:e.hashedId,container:this.container}),r=s.plugin._scriptsFromOptions(a),r=function(){var e,t,n;for(n=[],e=0,t=r.length;e<t;e++)d=r[e],s.plugin._prefetched[d.src]||n.push(d);return n}(),0===r.length)return void this.info('@_prefetchPluginScripts: no need to fetch plugins');for(n=0,i=r.length;n<i;n++)d=r[n],s.plugin._prefetched[d.src]='fetching';return this.info('prefetching scripts',r),s.remote.scripts(r,function(e){return function(){var t,n;for(t=0,n=r.length;t<n;t++)d=r[t],s.plugin._prefetched[d.src]='fetched';return e.info('prefetched scripts',r)}}(this))},n.prototype.addPlugin=function(e,t){return null==t&&(t={}),this.info('addPlugin',e,t),new r(function(n){return function(i){return n._hasImpl(function(){return n.hasPlugin(e)||s.plugin._inject(n,e,t),n.plugin(e).then(function(e){return i(e)})})}}(this))},n.prototype.hasPlugin=function(e){return!!this.plugin[e]},n.prototype.turnOffPluginApis=function(){var e,t,n,i,a;for(n in this.info('turnOffPluginApis'),i=this.plugin,a=[],i)t=i[n],a.push('function'==typeof(e=this._pluginStopGos)[n]?e[n](!1):void 0);return a},n.prototype.removePlugin=function(t){var n,e,i;if(e=this.plugin[t],!!e){try{'function'==typeof e.remove&&e.remove()}catch(e){n=e,setTimeout(function(){return function(){throw n}}(this),0)}return delete this.plugin[t],(null==(i=this._impl.plugin)?void 0:i[t])&&delete this._impl.plugin[t],e.uuid&&this.plugins&&(delete this.plugins[this.uuid],s.removeData(['plugins',t,this.uuid,e.uuid])),this.fit(),this.trigger('pluginremoved',t)}},n.prototype.removePlugins=function(){var e,t,n,i;for(t in this.info('removePlugins'),n=this.plugin,i=[],n)e=n[t],i.push(this.removePlugin(t));return i},n.prototype.containerWidth=function(){return this._attrs.rawEmbed&&s.detect.browser.old?s.grid.wrapperWidth(this):this._attrs.rawEmbed?s.elem.width(this._embedContainer):s.util.winWidth()},n.prototype.containerHeight=function(){return this._attrs.rawEmbed&&s.detect.browser.old?s.grid.wrapperHeight(this):this._attrs.rawEmbed?s.elem.height(this._embedContainer):s.util.winHeight()},n.prototype._goToDownState=function(){return this.info('_goToDownState'),this._stateBeforeDown=this._lastState,this.up(!1),this.down(!0),'flash'!==this.embedType&&this.pause(),this.ready(!1),this.trigger('down')},n.prototype._goToUpState=function(){var e;return this.info('_goToUpState'),this.down(!1),this._ignoreUp=!0,this._doSizing(),this._ignoreUp=!1,this.up(!0),this.ready(!1),'flash'===this.embedType?this.rebuild():(this.fit(),null!=(e=this._impl)&&e.checkForReady(),'playing'===this._stateBeforeDown&&this.play()),this.trigger('up')},n.prototype._checkDownState=function(){var e;return(e=this.looksDown(),this.up()&&e)?(this.info('moving to down state'),this._goToDownState()):this.down()&&!e?(this.info('moving to up state'),this._goToUpState()):void 0},n.prototype._removeHandleIfGoneFromDOM=function(){return!!this.embedded()&&(this.elem()?this._embedContainer&&!this._embedContainer.parentNode&&(this.warn('container removed from DOM',this._embedContainer.id),this.remove(),!0):(this.warn('video element removed from DOM',this._embedContainer.id),this.remove(),!0))},n.prototype._doFoam=function(){var e,t,n,i,a,r,l,p,u,c,m;if(null==this._parentBoxSizing&&(this._parentBoxSizing=s.elem.style(this._embedContainer.parentNode,'box-sizing')),this.popover?(m=s.elem.width(window),c=s.elem.height(window),u=m/c,p=Math.min(m,c),t=500<p?160:0.2>Math.abs(u-this.aspect())?0.2*p:0.1*p,l=u>this.aspect()?d((c-t)*this.aspect()):m-t):'border-box'===this._parentBoxSizing||s.detect.browser.ltie8||s.detect.browser.msie&&8===s.detect.browser.version?(!this._foamDummyElem&&(this._foamDummyElem=s.elem.fromObject({class:'wistia_video_foam_dummy',"data-source-container-id":this._embedContainer.id,style:{border:0,display:'block',height:0,margin:0,padding:0,position:'static',visibility:'hidden',width:'auto'}}),s.elem.before(this._embedContainer,this._foamDummyElem)),l=s.elem.width(this._foamDummyElem)):l=s.elem.width(this._embedContainer.parentNode),!isNaN(l)&&(this._lastParentWidth!==l||!this._didFoam))return this._didFoam=!0,r=l,a=r-this.extraWidth(),i=this.heightForWidth(a),n=i+this.extraHeight(),e=this.videoFoam(),e.maxHeight&&n>e.maxHeight&&(n=e.maxHeight,i=n-this.extraHeight(),a=this.widthForHeight(i),r=a+this.extraWidth()),e.maxWidth&&r>e.maxWidth&&(r=e.maxWidth,a=r-this.extraWidth(),i=this.heightForWidth(a),n=i+this.extraHeight()),e.minHeight&&n<e.minHeight&&(n=e.minHeight,i=n-this.extraHeight(),a=this.widthForHeight(i),r=a+this.extraWidth()),e.minWidth&&r<e.minWidth&&(r=e.minWidth,a=r-this.extraWidth(),i=this.heightForWidth(a),n=i+this.extraHeight()),this.info('videoFoam set width',r),this.width(r,{constrain:!0}),this._lastParentWidth=l},n.prototype._allowFoam=function(){var e;return this._hasImpl()&&this.grid&&(this.up()||this._ignoreUp)&&this.looksUp()&&this._attrs.rawEmbed&&(this._attrs.videoFoam||(null==(e=this.popover)?void 0:e.isResponsive()))},n.prototype._allowContainerMatch=function(){return(this.up()||this._ignoreUp)&&!this._opts.dontMonitorSize&&!this.inFullscreen()},n.prototype._doContainerMatch=function(){var e,t;if(t=this.containerWidth(),e=this.containerHeight(),this._lastWidth!==t&&(this.notice('container width changed to '+t+', matching'),this.width(t,{dontChangeContainer:!0}),this.info('_doContainerMatch set width',t),this.trigger('widthchange',t,this._lastWidth),this._lastWidth=t),this._lastHeight!==e)return this.notice('container height changed to '+e+', matching'),this.height(e,{dontChangeContainer:!0}),this.trigger('heightchange',e,this._lastHeight),this._lastHeight=e},n.prototype.monitor=function(){return this.info('monitor'),this._lastWidth=this._attrs.startingWidth,this._lastHeight=this._attrs.startingHeight,this._lastParentWidth=this.width(),this._didFoam=!1,this._hasImpl(function(e){return function(){return s.eventLoop.add(e.uuid+'.monitor',500,e._doMonitor)}}(this))},n.prototype._doMonitor=function(){if(!this._removeHandleIfGoneFromDOM())return this._checkDownState(),this._doSizing()},n.prototype._doSizing=function(){return this.popover?this.popover.fixedSizeTooBigForWindow()?this._doFoam():this._opts.popoverSize?(this._lastWidth=this.width(),this._lastHeight=this.height(),this.width(this._popoverSize().width),this.height(this._popoverSize().height)):this._doFoam():this._allowFoam()?this._doFoam():this._allowContainerMatch()?this._doContainerMatch():void 0},n.prototype.looksDown=function(){return!this._embedContainer||!s.elem.inDom(this._embedContainer)||s.elem.isHidden(this._embedContainer)},n.prototype.looksUp=function(){return!this.looksDown()},n.prototype._doResize=function(){return'function'==typeof this._throttleTriggerViewport&&this._throttleTriggerViewport(),this._debounceDoMonitor||this.embedded(function(e){return function(){return s.util.requestAnimationFrame(function(){return e._doMonitor(),e._debounceDoMonitor=!1})}}(this)),this._debounceDoMonitor=!0},n.prototype._definePluginMethod=function(){return this.plugin?void 0:this.plugin=function(e){return function(t,n){var i;return(i=e._pluginStopGos[t])||(i=e._pluginStopGos[t]=new s.StopGo,i(!!e.plugin[t],e.plugin[t])),n?i(function(){return n(e.plugin[t])}):i}}(this)},n.prototype.videoFoam=function(e){return null==e?this._attrs.videoFoam||!1:(this.info('videoFoam',e),this._attrs.videoFoam=e,this.monitor(),e)},n.prototype._formattedDurationToSeconds=function(e){return s.TimeHelper.isValidHumanDuration(e)?s.TimeHelper.humanDurationToSeconds(e):s.TimeHelper.isValidIso8601(e)?s.TimeHelper.iso8601ToSeconds(e):e},n.prototype._transformAndUpdateMediaData=function(){var e;return this._mediaData=this._transformMediaData(this._originalMediaData),null==(e=this._impl)?void 0:e._mediaData=this._mediaData},n.prototype._mediaDataTransforms=function(){var e;return e=[],s.remote._isEmbedSslMedia(this._originalMediaData)||this._useEmbedSslHost&&e.push(function(e){var t,n,i,a,r;for(a=e.assets,n=0,i=a.length;n<i;n++)t=a[n],t.url&&(r=s.url.parse(t.url),r.host='embed-ssl.wistia.com',r.protocol='https:',t.url=r.absolute());return e}),e},n.prototype._transformMediaData=function(e,t){var n,i,a,r;for(null==t&&(t=this._mediaDataTransforms()),a=s.obj.clone(e),(n=0,i=t.length);n<i;n++)r=t[n],a=r(a);return a},n.prototype.specialBind=function(){var e,n,i,r,t,l;return n=arguments[0],e=2<=arguments.length?a.call(arguments,1):[],'crosstime'===n?(r=e[0],i=e[1],this.onCrossTime(r,i),function(e){return function(){return e.unbindOnCrossTime(r,i)}}(this)):'betweentimes'===n&&(t=e[0],l=e[1],i=e[2],this.betweenTimes(t,l,i),function(e){return function(){return e.unbindBetweenTimes(t,l,i)}}(this))},n.prototype.specialUnbind=function(){var e,n,i,r,t,l;return n=arguments[0],e=2<=arguments.length?a.call(arguments,1):[],'crosstime'===n?(r=e[0],i=e[1],this.unbindOnCrossTime(r,i),!0):'betweentimes'===n&&(t=e[0],l=e[1],i=e[2],this.unbindBetweenTimes(t,l,i),!0)},n.prototype.onCrossTime=function(e,t){var n,i,a,r,l,d,p;if(!/^(\d+\.)?\d+$/.test(e))throw'onCrossTime: Expected first argument to be a number';if('function'!=typeof t)throw'onCrossTime: Expected second argument to be a function';return null==this._onCrossTimeBindings&&(this._onCrossTimeBindings={}),null==(i=this._onCrossTimeBindings)[e]&&(i[e]=[]),p=this.uuid+'.'+s.uniqId('after_time_'),n=this.time()>e,a=function(i){return function(){var a;return i.time()<e?r():!n&&(n=!0,a=t.call(i),a===i.unbind)?i.unbindOnCrossTime(e,t):void 0}}(this),r=function(t){return function(){return t.time()>=e?(s.clearTimeouts(p),a()):n?void 0:s.timeout(p,a,1e3*(e-t.time()))}}(this),l=function(t){return function(){if(t.time()<e){if(n=!1,2>e-t.time())return r()}else if(!n)return a()}}(this),d=function(){return function(){return s.clearTimeouts(p)}}(this),this.bind('play',l),this.bind('timechange',l),this.bind('pause',d),this.bind('end',d),this.bind('waiting',d),'playing'!==this.state()||n||l(),this._onCrossTimeBindings[e].push({fn:t,setupTimeoutFromNowIfClose:l,suspendTimeoutIndefinitely:d}),this},n.prototype.unbindOnCrossTime=function(e,t){var n,i,a,r,l,s;if(!(this._onCrossTimeBindings&&this._onCrossTimeBindings[e]))return this;for(n=null,a=0,s=this._onCrossTimeBindings[e],(r=0,l=s.length);r<l;r++){if(i=s[r],i.fn===t){n=i;break}a+=1}return n?(this.unbind('play',n.setupTimeoutFromNowIfClose),this.unbind('timechange',n.setupTimeoutFromNowIfClose),this.unbind('pause',n.suspendTimeoutIndefinitely),this.unbind('end',n.suspendTimeoutIndefinitely),this.unbind('waiting',n.suspendTimeoutIndefinitely),this._onCrossTimeBindings[e].splice(a,1),0===this._onCrossTimeBindings[e].length&&delete this._onCrossTimeBindings[e],this):this},n.prototype.betweenTimes=function(e,n,i){var t,a,r,l;if(!(/^(\d+\.)?\d+$/.test(e)&&/^(\d+\.)?\d+$/.test(n)))throw'betweenTimes: Expected first two arguments to be numbers';if('function'!=typeof i)throw'betweenTimes: Expected second argument to be a function';return r=e+'-'+n,null==this._betweenTimeBindings&&(this._betweenTimeBindings={}),null==(t=this._betweenTimeBindings)[r]&&(t[r]=[]),l=!1,a=function(a){return function(){var r,s;if(s=a.time(),e<=s&&s<n&&!l?(l=!0,r=i.call(a,l)):!(e<=s&&s<n)&&l&&(l=!1,r=i.call(a,l)),r===a.unbind)return a.unbindBetweenTimes(e,n,i)}}(this),this.onCrossTime(e,a),this.onCrossTime(n,a),this.bind('timechange',a),a(),this._betweenTimeBindings[r].push({fn:i,onTimechange:a}),this},n.prototype.unbindBetweenTimes=function(e,t,n){var i,a,r,l,s,d,p;if(p=e+'-'+t,!this._betweenTimeBindings[p])return this;for(i=null,r=0,d=this._betweenTimeBindings[p],(l=0,s=d.length);l<s;l++){if(a=d[l],a.fn===n){i=a;break}r+=1}return i?(this.unbindOnCrossTime(e,i.onTimechange),this.unbindOnCrossTime(t,i.onTimechange),this.unbind('timechange',i.onTimechange),this._betweenTimeBindings[p].splice(r,1),0===this._betweenTimeBindings[p].length&&delete this._betweenTimeBindings[p],this):this},n.prototype.aspect=function(){return this._implGet('aspect',0)},n.prototype.asset=function(){return this._implGet.apply(this,['asset',null].concat(a.call(arguments)))},n.prototype.assets=function(){return this._implGet.apply(this,['assets',null].concat(a.call(arguments)))},n.prototype.bigPlayButtonEnabled=function(){return this._implSetOrGet.apply(this,['bigPlayButtonEnabled',!1].concat(a.call(arguments)))},n.prototype.bigPlayButtonTimeEnabled=function(){return this._implSetOrGet.apply(this,['bigPlayButtonTimeEnabled',!1].concat(a.call(arguments)))},n.prototype.cancelOverlay=function(){return this._implPromise.apply(this,['cancelOverlay'].concat(a.call(arguments)))},n.prototype.cancelFullscreen=function(){return this._implExec('cancelFullscreen')},n.prototype.captureCurrentFrame=function(){return this._implGet.apply(this,['captureCurrentFrame',null].concat(a.call(arguments)))},n.prototype.controlScaling=function(){return this._implSetOrGet.apply(this,['controlScaling','auto'].concat(a.call(arguments)))},n.prototype.createControl=function(){return this._implGet.apply(this,['createControl',null].concat(a.call(arguments)))},n.prototype.defineOverlay=function(){return this._implExec.apply(this,['defineOverlay'].concat(a.call(arguments)))},n.prototype.destroyControl=function(){return this._implExec.apply(this,['destroyControl'].concat(a.call(arguments)))},n.prototype.duration=function(){return this._implGet('duration',null)},n.prototype.embedded=function(){return this._implSetOrGet.apply(this,['embedded',!1].concat(a.call(arguments)))},n.prototype.embedOptions=function(){return this._hasImpl()?this._implGet.apply(this,['embedOptions',{}].concat(a.call(arguments))):this._embedOptions?this._embedOptions:this._embedOptions=this._gatherOptions()},n.prototype.enterInputContext=function(){return this._implExec.apply(this,['enterInputContext'].concat(a.call(arguments)))},n.prototype.eventKey=function(){return this._tracker.eventKey()||null},n.prototype.exitInputContext=function(){return this._implExec.apply(this,['exitInputContext'].concat(a.call(arguments)))},n.prototype.extraHeight=function(){return this._implGet('extraHeight',0)},n.prototype.extraWidth=function(){return this._implGet('extraWidth',0)},n.prototype.fit=function(){return this._implExec('fit')},n.prototype.fullscreenButtonEnabled=function(){return this._implSetOrGet.apply(this,['fullscreenButtonEnabled',!1].concat(a.call(arguments)))},n.prototype.getBuffered=function(){return this._implGet('getBuffered',[])},n.prototype.getFocusedChapter=function(){return this._implGet('getFocusedChapter',null)},n.prototype.getInputContext=function(){return this._implGet('getInputContext',[])},n.prototype.getOverlays=function(){return this._implGet('getOverlays',{})},n.prototype.getRegion=function(){return this._implGet.apply(this,['getRegion',null].concat(a.call(arguments)))},n.prototype.getVideoElement=function(){return this._implGet('getVideoElement',null)},n.prototype.hasData=function(){return this._implSetOrGet.apply(this,['hasData',!1].concat(a.call(arguments)))},n.prototype.height=function(){return this._implSetOrGet.apply(this,['height',null].concat(a.call(arguments)))},n.prototype.heightForWidth=function(){return this._implGet.apply(this,['heightForWidth',null].concat(a.call(arguments)))},n.prototype.hideControls=function(){return this._implExec.apply(this,['hideControls',null].concat(a.call(arguments)))},n.prototype.humanDuration=function(){return s.TimeHelper.secondsToHumanDuration(this.duration())},n.prototype.ieSizeHack=function(){return this._implExec('ieSizeHack')},n.prototype.inFullscreen=function(){return this._implGet('inFullscreen',!1)},n.prototype.inSilentPlaybackMode=function(){return this._implGet('inSilentPlaybackMode',!1)},n.prototype.isMuted=function(){return this._implGet('isMuted')},n.prototype.lastPauseInfo=function(){return this._implGet('lastPauseInfo',{})},n.prototype.lastPlayInfo=function(){return this._implGet('lastPlayInfo',{})},n.prototype.layout=function(){return this._implSetOrGet.apply(this,['layout','primary'].concat(a.call(arguments)))},n.prototype.look=function(){return this._implSetOrGet.apply(this,['look',{}].concat(a.call(arguments)))},n.prototype.mp4Asset=function(){return this._implGet.apply(this,['mp4Asset',null].concat(a.call(arguments)))},n.prototype.mute=function(){return this._implExec('mute')},n.prototype.playerLanguage=function(){return this._implSetOrGet.apply(this,['playerLanguage','en-US'].concat(a.call(arguments)))},n.prototype.name=function(){return this._implGet('name','')},n.prototype.originalAsset=function(){return this._implGet.apply(this,['originalAsset',null].concat(a.call(arguments)))},n.prototype.pause=function(){return this._implExec('pause')},n.prototype.percentWatched=function(){return this._implGet('percentWatched',0)},n.prototype.playbarControlEnabled=function(){return this._implSetOrGet.apply(this,['playbarControlEnabled',!1].concat(a.call(arguments)))},n.prototype.play=function(){return this._implExec('play')},n.prototype.playbackRate=function(){return this._implSetOrGet.apply(this,['playbackRate',1].concat(a.call(arguments)))},n.prototype.playbackRateControlEnabled=function(){return this._implSetOrGet.apply(this,['playbackRateControlEnabled',!1].concat(a.call(arguments)))},n.prototype.playerColor=function(){return this._implSetOrGet.apply(this,['playerColor','636155'].concat(a.call(arguments)))},n.prototype.playerBackgroundColor=function(){return this._implSetOrGet.apply(this,['playerBackgroundColor','000000'].concat(a.call(arguments)))},n.prototype.requestFullscreen=function(){return this._implExec('requestFullscreen')},n.prototype.requestOverlay=function(){return this._implPromise.apply(this,['requestOverlay'].concat(a.call(arguments)))},n.prototype.qualityControlEnabled=function(){return this._implSetOrGet.apply(this,['qualityControlEnabled',!1].concat(a.call(arguments)))},n.prototype.ready=function(){return this._implSetOrGet.apply(this,['ready',!1].concat(a.call(arguments)))},n.prototype.releaseChromeless=function(){return this._implExec.apply(this,['releaseChromeless'].concat(a.call(arguments)))},n.prototype.releaseControls=function(){return this._implExec.apply(this,['releaseControls'].concat(a.call(arguments)))},n.prototype.requestChromeless=function(){return this._implExec.apply(this,['requestChromeless'].concat(a.call(arguments)))},n.prototype.requestControls=function(){return this._implExec.apply(this,['requestControls'].concat(a.call(arguments)))},n.prototype.secondsWatched=function(){return this._implGet('secondsWatched',0)},n.prototype.secondsWatchedVector=function(){return this._implGet('secondsWatchedVector',[])},n.prototype.selectableQualities=function(){return this._implGet('selectableQualities',[])},n.prototype.selectedQuality=function(){return this._implGet('selectedQuality',[])},n.prototype.setFocusedChapter=function(){return this._implSetOrGet.apply(this,['setFocusedChapter',null].concat(a.call(arguments)))},n.prototype.settingsControlEnabled=function(){return this._implSetOrGet.apply(this,['settingsControlEnabled',!1].concat(a.call(arguments)))},n.prototype.showControls=function(){return this._implExec.apply(this,['showControls',null].concat(a.call(arguments)))},n.prototype.smallPlayButtonEnabled=function(){return this._implSetOrGet.apply(this,['smallPlayButtonEnabled',!1].concat(a.call(arguments)))},n.prototype.state=function(){return this._implGet('state','beforeplay')},n.prototype.stillUrl=function(){return this._implGet.apply(this,['stillUrl',null].concat(a.call(arguments)))},n.prototype.suppressPlay=function(){return this._implSetOrGet.apply(this,['suppressPlay',this].concat(a.call(arguments)))},n.prototype.thumbnailAssets=function(){return this._implGet('thumbnailAssets',[])},n.prototype.time=function(){var e,n;return n=arguments[0],e=2<=arguments.length?a.call(arguments,1):[],null==n?this._implSetOrGet('time',0):this._implSetOrGet.apply(this,['time',0,this._formattedDurationToSeconds(n)].concat(a.call(e)))},n.prototype.timeInHumanDuration=function(){return e.TimeHelper.secondsToHumanDuration(this._implGet.apply(this,['time',0].concat(a.call(arguments))))},n.prototype.timeInIso8601Duration=function(){return e.TimeHelper.secondsToIso8601(this._implGet.apply(this,['time',0].concat(a.call(arguments))))},n.prototype.trim=function(){return this._implSetOrGet.apply(this,['trim',{start:0,end:-1}].concat(a.call(arguments)))},n.prototype.unmute=function(){return this._implExec('unmute')},n.prototype.videoHeight=function(){return this._implSetOrGet.apply(this,['videoHeight',null].concat(a.call(arguments)))},n.prototype.videoQuality=function(){return this._implSetOrGet.apply(this,['videoQuality','auto'].concat(a.call(arguments)))},n.prototype.videoWidth=function(){return this._implSetOrGet.apply(this,['videoWidth',null].concat(a.call(arguments)))},n.prototype.visitorKey=function(){return this._tracker.visitorKey()||null},n.prototype.volume=function(){return this._implSetOrGet.apply(this,['volume',0].concat(a.call(arguments)))},n.prototype.volumeControlEnabled=function(){return this._implSetOrGet.apply(this,['volumeControlEnabled',!1].concat(a.call(arguments)))},n.prototype.whenVideoElementInDom=function(){return new r(function(e){return function(t){return e._hasImpl(function(){return t(e._implGet.apply(e,['whenVideoElementInDom',null].concat(a.call(arguments))))})}}(this))},n.prototype.width=function(){return this._implSetOrGet.apply(this,['width',null].concat(a.call(arguments)))},n.prototype.widthForHeight=function(){return this._implGet.apply(this,['widthForHeight',null].concat(a.call(arguments)))},n.prototype.chaptersEnabled=function(){return this._implSetOrGet.apply(this,['chaptersEnabled',null].concat(a.call(arguments)))},n.prototype.chaptersVisibleOnLoad=function(){return this._implSetOrGet.apply(this,['chaptersVisibleOnLoad',null].concat(a.call(arguments)))},n.prototype.addChapter=function(){return this._implExec.apply(this,['addChapter'].concat(a.call(arguments)))},n.prototype.getChapter=function(){return this._implGet.apply(this,['getChapter',null].concat(a.call(arguments)))},n.prototype.removeChapter=function(){return this._implExec.apply(this,['removeChapter'].concat(a.call(arguments)))},n.prototype.chapters=function(){return this._implSetOrGet.apply(this,['chapters',[]].concat(a.call(arguments)))},n.prototype.customerLogo=function(){return this._implExec.apply(this,['customerLogo'].concat(a.call(arguments)))},n.prototype.setControlEnabled=function(e,t){return this._implSetOrGet('setControlEnabled',null,e,t)},n.prototype.isControlDisabled=function(e){return this._implGet('isControlDisabled',!1,e)},n.prototype.isControlEnabled=function(e){return this._implGet('isControlEnabled',!1,e)},n.prototype.whenControlMounted=function(e){return this._implPromise('whenControlMounted',e)},n.prototype.getEmail=function(){return this.email()},n.prototype.getEventKey=function(){return this.eventKey()},n.prototype.getVisitorKey=function(){return this.visitorKey()},n.prototype.setEmail=function(e){return this.email(e)},n.prototype.setPlayerColor=function(){return this._implExec.apply(this,['playerColor'].concat(a.call(arguments)))},n.prototype.removeReadyFn=function(){var e;return e=1<=arguments.length?a.call(arguments,0):[],this._hasImpl(function(t){return function(){var n;return(n=t._impl.ready).remove.apply(n,e)}}(this))},n.prototype.email=function(e){var t,n;return null==e?this._attrs.email||null:(this.info('email',e),t=this._attrs.email,this._attrs.email=e,s.localStorage([this._attrs.pageUrl,'trackEmail'],e),(null==(n=this._opts)?void 0:n.noDeprecatedProperties)||(this.params.trackEmail=e),this._implExec('email',e),e!==t&&this.trigger('emailchange',e),this)},n.prototype.foreignData=function(e){var t;if(void 0===e)return this._attrs.foreignData||this._foreignData||null;if(null===e)return this._attrs.foreignData=null,this.trigger('foreigndatachange',e);if(this.info('foreignData',e),!s.obj.isObject(e))throw new Error('foreignData can only be an Object');return e=s.obj.clone(e),this._attrs.foreignData=e,null!=(t=this.tracker)&&t.transmit({force:!0}),this.trigger('foreigndatachange',e)},n.prototype._shouldAsyncChain=function(){var e;return this._notReplacing()&&(this.popover||!this._isInViewportNow()||3<=function(){var t,n,i,a;for(i=s.api.all(),a=[],(t=0,n=i.length);t<n;t++)e=i[t],e.embedded()&&a.push(e);return a}().length)},n.prototype._maybeAsyncChain=function(e,t){return this._shouldAsyncChain()?s.asyncChain(e,t):s.chain(t)},n.classFor=function(e){var t,n;return e instanceof s.Player?e=e.embedType:e instanceof s.PublicApi&&(e=null==(t=e._impl)?void 0:t.embedType),n=function(){return'vulcan'===e?s.VulcanPlayer:'vulcan-v2'===e?s.VulcanV2Player:'html5'===e?s.Html5Player:'flash'===e?s.FlashPlayer:'external'===e?s.ExternalPlayer:'notplayable'===e?s.NotPlayablePlayer:'passwordprotected'===e?s.PasswordProtectedPlayer:s.Player}(),n?n:(s.Metrics.count('player/'+e+'-class-not-defined',1,{ua:navigator.userAgent,detect:s.detect}),s.error('PublicApi.classFor: embedType is '+e+' but its class is not defined. Using \'vulcan-v2\' instead.'),s.VulcanV2Player)},n}(),s.mixin(s.PublicApi.prototype,s.bindable),d=s.PublicApi.prototype.trigger,s.PublicApi.prototype._triggerNoImpl=function(){var e,t,n;return t=arguments[0],e=2<=arguments.length?a.call(arguments,1):[],d.call.apply(d,[this,t].concat(a.call(e))),null==(n=window.wistiaEmbeds)?void 0:n.trigger.apply(n,[t,this].concat(a.call(e)))},s.PublicApi.prototype.trigger=function(){var e,t;return e=1<=arguments.length?a.call(arguments,0):[],this._impl?(t=this._impl).trigger.apply(t,e):this._triggerNoImpl.apply(this,e)},s.mixin(s.PublicApi.prototype,s.logHelpers),s.PublicApi.prototype._logPrefix=function(){var e;return[this.constructor.name,this.hashedId()||'no hashedId',null==(e=this.container)?void 0:e.id,this.uuid]}})(Wistia);
},function(){(function(e){if(!e.generate)return e.generate={},e.generate.html=function(t){var n,a,r,l,s,i,d,p,u,c,m,h,g,y;if(/string|number|boolean/.test(typeof t))return t.toString();if(t instanceof Array){for(m='',s=0,p=t.length;s<p;s++)l=t[s],m+=e.generate.html(l);return m}if('object'!=typeof t)return t.toString();for(d in a=[],t)g=t[d],'tagName'===d?h=g:'childNodes'===d?r=g:a.push({key:d,val:g});for(h||(h='div'),m='<'+h,(i=0,u=a.length);i<u;i++)n=a[i],'style'===n.key&&e.obj.isObject(n.val)&&(n.val=function(){var e,t;for(c in e=n.val,t=[],e)y=e[c],t.push(c.replace(/([a-z])([A-Z])/g,'$1-$2').toLowerCase()+':'+y);return t}().join(';')+';'),m+=' '+n.key+'="'+n.val+'"';return /^(br|hr|img|link|meta|input)$/i.test(h)?m+=' />':(m+='>',r&&('string'==typeof r?m+=r:'object'==typeof r&&(m+=e.generate.html(r))),m+='</'+h+'>'),m},e.generate.stillWidth=function(e){var t,n,i,a,r,l,s,d;for(l=[640,960,1280,1920,3840],3840>e.masterStillWidth&&l.push(e.masterStillWidth),t=[],(n=0,a=l.length);n<a;n++)d=l[n],d<=e.masterStillWidth&&t.push(d);for(s=t.sort(function(e,t){return e-t}),i=0,r=s.length;i<r;i++)if(d=s[i],e.videoWidth<=d)return d;return Math.max.apply(Math,t)},e.generate.relativeBlockCss=function(e,t){return null==e&&(e='100%'),null==t&&(t='100%'),'display:inline-block;*display:inline;height:'+t+';margin:0;padding:0;position:relative;vertical-align:top;width:'+e+';zoom:1;'},e.generate.video=function(t,n,i){return i=e.obj.merge({},n.params,i,{uuid:n.uuid,videoWidth:n.videoWidth(),videoHeight:n.videoHeight()}),'flash'===t?e.generate.flashEmbedCode(n._mediaData,i):'html5'===t?e.generate.html5EmbedElem(n._mediaData,i):'romulus'===t?e.generate.romulusEmbedElem(n._mediaData,i):'external'===t?e.generate.externalEmbedCode(n._mediaData,i):'flashUrl'===t?e.generate.flashUrl(n._mediaData,i):void 0}})(Wistia);
},function(e,t,n){var i=function(e,t){return function(){return e.apply(t,arguments)}},a=[].slice;(function(e){var t,r,l,s,d,p,u,c,m,h,g;if(d=e,!d.Player){for(l=n(2),r=n(25),t=n(18),s=n(14),d.Player=function(){function p(e){var t,n,a;for(t in this.publicApi=e,this.finishWaitingLoop=i(this.finishWaitingLoop,this),this.masterM3u8Asset=i(this.masterM3u8Asset,this),this._percentWatchedThreshold=i(this._percentWatchedThreshold,this),this.uuid=d.seqId(),this.info('constructor'),this.transferFacadeProperties(),this._impl=this,a=this.publicApi,a)n=a[t],n instanceof d.StopGo&&!this.hasOwnProperty(t)&&(this[t]=n);this.plugin=this.publicApi.plugin,this.ready=new d.StopGo,this.hasData=new d.StopGo,this.embedded=new d.StopGo,this.commandQueueOpen=new d.StopGo,this.hasData(!0),this.commandQueueOpen(!0),this.playing=new d.StopGo,this.notFullscreen=new d.StopGo,this.resetStateVariables(),this.setupPercentTracking(),this._recordFirstEmbedIfEligible(),this}var u=Math.max,c=Math.round,m=Math.floor;return p.FAILED=-1,p.QUEUED=0,p.PROCESSING=1,p.READY=2,p.prototype.init=function(){return this.setupPipedreamTracking(),this},p.prototype.transferFacadeProperties=function(){var e,t,n,i,a;for(i='_attrs\n_embedContainer\n_givenOptions\n_hashedId\n_hasImpl\n_mediaData\n_opts\n_originalMediaData\n_tracker\nchrome\ncontainer\ncontrols\ndata\ndown\nfullscreenContainer\noptions\nparams\nplugin\nplugins\nup'.split(/[\n\s]+/),a=[],(e=0,t=i.length);e<t;e++)n=i[e],a.push(this[n]=this.publicApi[n]);return a},p.prototype.elem=function(){return null},p.prototype.embed=function(){throw new Error('Define in subclass!')},p.prototype.checkForReady=function(){throw new Error('Define in subclass!')},p.prototype.setupGrid=function(e){return this.grid||(this.grid=d.createGrid(this,e),d.elem.append(this.chrome,this.grid.root)),this.grid},p.prototype.implContainer=function(){return this._opts.subContainer?this._embedContainer:this.grid.center},p.prototype.placeEmbed=function(e){var t;return t=this.implContainer(),this.info('placeEmbed',t,e),this.wrapperElem=d.elem.fromObject({id:d.seqId('wistia_video_wrapper_'),style:d.generate.relativeBlockCss(),class:'wistia_video_wrapper'}),d.elem.style(this.wrapperElem,{overflow:'hidden'}),d.elem.append(t,this.wrapperElem),'string'==typeof e?this.wrapperElem.innerHTML+=e:d.elem.append(this.wrapperElem,e),this.embedded(function(e){return function(){return e.correctForIntegers()}}(this)),this.ieSizeHack()},p.prototype.stopStreaming=function(){},p.prototype.wipeOutstandingAsyncFunctions=function(){var e;if(this.info('wipeOutstandingAsyncFunctions'),null!=(e=d.eventLoop)&&e.remove(this.uuid),d.clearTimeouts(this.uuid),this._remoteMediaKey)return d.clearTimeouts(this._remoteMediaKey)},p.prototype.resetStateVariables=function(){return this.info('resetStateVariables'),this._lastTimePosition=-1,this._lastState='beforeplay',this._streamSet=!1,this._issuedPlay=!1,this._issuedPause=!1,this._beforePlay=!0,this._hasPlayed=!1,this._waiting=0,this._ended=!1,this.playing(!1)},p.prototype.rebuild=function(e){return null==e&&(e={}),this.info('rebuild'),this.embedded(function(e){return function(){return e.ready(!1),e._oldVideoElem=e.elem(),e.stopStreaming(),d.elem.remove(e.wrapperElem),e.wipeOutstandingAsyncFunctions(),e.embed()}}(this)),this},p.prototype.cdnProtocolAndHost=function(){var e,t,n;return t=d.url.parse((this.mp4Asset()||this.hlsAsset()||this.flashAsset()).url),e=t.host||'embed-ssl.wistia.com',n=t.protocol||d.proto(),n+'//'+e},p.prototype.cancelFullscreen=function(){return this.info('cancelFullscreen'),this.rebuild()},p.prototype.requestFullscreen=function(){},p.prototype.fit=function(){return this.info('fit'),d.detect.browser.old&&(this._embedContainer.style.width=this._opts.videoWidth+'px',this._embedContainer.style.height=this._opts.videoHeight+'px'),this._opts.dontFit||(this.grid.root.style.height=d.elem.height(this.chrome)+'px',this.grid.root.style.width=d.elem.width(this.chrome)+'px'),d.grid.fitVertical(this),d.grid.fitHorizontal(this),this.correctForIntegers(),this.ieSizeHack()},p.prototype.setupPercentTracking=function(){var e,t,n;if(!this._trackPercent){if('playing'===this.state())for(n=e=0,t=m(this.time());0<=t?e<t:e>t;n=0<=t?++e:--e)this._logSecondWatched(n);return null==this._trackPercent&&(this._trackPercent=function(e){return function(t){var n;if(n=e.percentWatched(),e._logSecondWatched(t),e.percentWatched()!==n)return e.trigger('percentwatchedchanged',e.percentWatched(),n),e._percentWatchedThreshold(e.percentWatched())}}(this)),this.rebind('secondchange',this._trackPercent)}},p.prototype._percentWatchedThreshold=function(e){var t,n,i,a,r,l;for(null==this._thresholds&&(this._thresholds=[0.25,0.5,0.75,1]),l=[],i=c(100*e)/100,a=this._thresholds,(t=0,n=a.length);t<n;t++)r=a[t],i>=r?this.trigger('percentWatchedThreshold',r):l.push(r);return this._thresholds=l},p.prototype._logSecondWatched=function(e){var t;if(null==this._secondsWatched&&(this._secondsWatched=function(){var e,n,i;for(i=[],t=e=0,n=m(this.duration());0<=n?e<n:e>n;t=0<=n?++e:--e)i.push(0);return i}.call(this)),null==this._totalWatched&&(this._totalWatched=0),null==this._totalRewatched&&(this._totalRewatched=0),!(e>=this._secondsWatched.length))return this._secondsWatched[e]+=1,1===this._secondsWatched[e]?this._totalWatched+=1:this._totalRewatched+=1},p.prototype.percentWatched=function(){return this.secondsWatched()/m(this.duration())},p.prototype.secondsWatched=function(){return this._totalWatched||0},p.prototype.secondsWatchedVector=function(){return this._secondsWatched},p.prototype._isOnWistia=function(){return this._opts._inIframe?!!document.referrer.match(/wistia\.(dev|st|com)/):!!window.location.href.match(/wistia\.(dev|st|com)/)},p.prototype._isLoggedIn=function(){var e;return null==(e=document.getElementsByTagName('body')[0])?void 0:e.classList.contains('logged_in')},p.prototype._isShared=function(){return this._isOnWistia()&&!this._isLoggedIn()},p.prototype._isExternallyEmbedded=function(){return!this._isOnWistia()},p.prototype._recordFirstEmbedIfEligible=function(){var t,i,a;if(this._mediaData.firstEmbedForAccount||this._mediaData.firstShareForAccount)return(t=n(5).appHost,a=d.url.proto()+'//'+t()+'/account/activities',i={account_key:this._mediaData.accountKey,media_hashed_id:this._mediaData.hashedId},this._mediaData.firstEmbedForAccount&&this._isExternallyEmbedded())?(i.first_embed=this._isExternallyEmbedded(),e.remote.post(a,{data:JSON.stringify(i),dataType:'json'})):this._mediaData.firstShareForAccount&&this._isShared()?(i.first_share=this._isShared(),e.remote.post(a,{data:JSON.stringify(i),dataType:'json'})):void 0},p.prototype.setupPipedreamTracking=function(){if(!this._opts.flashShim)return this.whenVideoElementInDom().then(function(e){return function(){if(!e._opts.flashShim)return d.timeout(e.uuid+'.track-initembed',function(){var t,n,i,a,l;for(d.Metrics.videoCount(e,'player/initembed'),l=d.Metrics.assetBuckets(e),(i=0,a=l.length);i<a;i++)n=l[i],d.Metrics.videoCount(e,'player/initembed.'+n);return t=r.usablePlayers(e.publicApi.judyCtx(),e.publicApi._mediaData),d.Metrics.videoCount(e,'player/available-players',1,{available_players:t})},100),e.bind('switched-asset-without-load',function(){return this._determineAssetCacheStatus(function(e){return function(){return d.Metrics.videoCount(e,'player/asset/'+e._cacheStatus)}}(this))})}}(this)),this.bind('play',function(e){return function(){var t,n,i,a;for(d.Metrics.videoCount(e,'player/play'),a=d.Metrics.assetBuckets(e),(n=0,i=a.length);n<i;n++)t=a[n],d.Metrics.videoCount(e,'player/play.'+t);return e.unbind}}(this)),d.Metrics.countEventOnce(this,'enter-fullscreen'),d.Metrics.countEventOnce(this,'end'),d.Metrics.countShowLoadingOnce(this),d.Metrics.countShowLoadingAll(this),d.Metrics.countShowLoadingLongTimeOnce(this),d.Metrics.countShowLoadingLongTimeAll(this),this.bind('secondchange',function(e){return function(){if(10<=e.secondsWatched())return d.Metrics.videoCount(e,'player/played-10-seconds'),e.unbind}}(this)),this.bind('secondchange',function(e){return function(){if(30<=e.secondsWatched())return d.Metrics.videoCount(e,'player/played-30-seconds'),e.unbind}}(this))},p.prototype.animate=function(e,t){var n;return null==e&&(e={}),null==t&&(t={}),this.info('animate',e,t),n=t.callback,t.callback=function(e){return function(){return d.elem.style(e.grid.root,{position:'relative'}),'function'==typeof n?n():void 0}}(this),d.elem.style(this.grid.root,{position:'absolute'}),d.elem.animate(this.grid.root,e,t),this},p.prototype.slide=function(){var e,t,n;return e=arguments[0],n=arguments[1],t=3<=arguments.length?a.call(arguments,2):[],this.animate.apply(this,[{transform:'translate('+e+'px,'+n+'px)'}].concat(a.call(t)))},p.prototype._shortAnimArgs=function(e){var t;return'function'==typeof e[0]?t={callback:e[0]}:t=d.obj.merge({},e[0],{callback:e[1]})},p.prototype.slideOutLeft=function(){var e;return e=this._shortAnimArgs(arguments),d.elem.style(this.grid.root,{transform:'translate(0px, 0px)'}),setTimeout(function(t){return function(){return t.slide(-t.videoWidth(),0,e)}}(this),1),this},p.prototype.slideInLeft=function(){var e;return e=this._shortAnimArgs(arguments),d.elem.style(this.grid.root,{transform:'translate('+this.videoWidth()+'px, 0px)'}),setTimeout(function(t){return function(){return t.slide(0,0,e)}}(this),1),this},p.prototype.slideOutRight=function(){var e;return e=this._shortAnimArgs(arguments),d.elem.style(this.grid.root,{transform:'translate(0px, 0px)'}),setTimeout(function(t){return function(){return t.slide(t.videoWidth(),0,e)}}(this),1),this},p.prototype.slideInRight=function(){var e;return e=this._shortAnimArgs(arguments),d.elem.style(this.grid.root,{transform:'translate('+-this.videoWidth()+'px, 0px)'}),setTimeout(function(t){return function(){return t.slide(0,0,e)}}(this),1),this},p.prototype.fade=function(){var e,t,n;return t=arguments[0],e=2<=arguments.length?a.call(arguments,1):[],null==t&&(t=0),(n=d.elem).animate.apply(n,[this.gridChildren(),{opacity:t}].concat(a.call(e)))},p.prototype.fadeIn=function(){var e,t;return t=this._shortAnimArgs(arguments),e=t.callback,t.callback=function(t){return function(){return d.elem.style(t.gridChildren(),{opacity:''}),'function'==typeof e?e():void 0}}(this),d.elem.style(this.gridChildren(),{opacity:0}),setTimeout(function(e){return function(){return e.fade(1,t)}}(this),1)},p.prototype.fadeOut=function(){var e;return e=this._shortAnimArgs(arguments),d.elem.style(this.gridChildren(),{opacity:1}),setTimeout(function(t){return function(){return t.fade(0,e)}}(this),1)},p.prototype.gridChildren=function(){var e,t,n,i,a,r,l,s;for(s in l=[],a=this.grid,a)for(i=a[s],r=i.childNodes,(t=0,n=r.length);t<n;t++)e=r[t],d.isGridElem(this.grid,e)||l.push(e);return l},p.prototype.correctForIntegers=function(){var e,t,n,i,a,r,l,s,p=Math.ceil;if(!(d.detect.iphone||d.detect.ipad))return(n=this.elem(),null!=n&&n.style)?/video/i.test(null==n?void 0:n.tagName)?(e=this.videoHeight(),t=this.videoWidth(),a=e*this.originalAspect(),i=2*m(t/this.originalAspect()/2),l=i-e,s=a-t,r=d.detect.firefox&&d.detect.browser.mozilla&&36<=d.detect.browser.version,d.detect.browser.webkit||r?void 0:0<l&&6>=l?(this.info('correctForIntegers heightDiff',l),n.style.height='calc(100% + '+p(l)+'px)',n.style.width='100%',n.style.left='',n.style.top=1<l?-p(l/2)+'px':''):0<s&&6>=s?(this.info('correctForIntegers widthDiff',s),n.style.width='calc(100% + '+p(s)+'px)',n.style.height='100%',n.style.top='',n.style.left=1<s?-p(s/2)+'px':''):(this.info('correctForIntegers perfect'),n.style.height='100%',n.style.width='100%',n.style.top='',n.style.left='')):void 0:void 0},p.prototype.remove=function(e){var t,n;return null==e&&(e={}),this.info('remove'),!1!==e.trigger&&this.trigger('beforeremove'),this.hasData(!1),this.ready(!1),this.embedded(!1),null!=(t=this.engine)&&t.destroy(),this.stopStreaming(),!1!==e.trigger&&this.trigger('down'),!1!==e.trigger&&this.trigger('afterremove'),this.wipeOutstandingAsyncFunctions(),this._bindings={},this.cleanupRefs(),(null==(n=this.grid)?void 0:n.root)&&(d.elem.unbindAllInside(this.grid.root),d.elem.remove(this.grid.root)),this.grid=null},p.prototype.isRemoved=function(){return null===this.grid},p.prototype.freezeLastFrame=function(){},p.prototype.cleanupRefs=function(){var e,t,n,i,a;for(e in'function'==typeof this.cleanup&&this.cleanup(),t=this,i=[],t)a=t[e],a!==this&&i.push(null==(n=this[e])?void 0:'function'==typeof n.cleanup?n.cleanup():void 0);return i},p.prototype._baseEventLoopDuration=300,p.prototype._eventLoopDuration=300,p.prototype.play=function(){return this.info('play'),this.ready(function(e){return function(){return e.play()}}(this)),this},p.prototype.canAutoPlay=function(){return!0},p.prototype.suppressPlay=function(e){return null==e?this._suppressPlay:(this.info('suppressPlay',e),this._suppressPlay=!!e)},p.prototype.pause=function(){return this.info('pause'),this.ready(function(e){return function(){return e.pause()}}(this)),this},p.prototype.time=function(e){return null==e?0:(this.info('time',e),this.ready(function(t){return function(){return t.time(e)}}(this)),this)},p.prototype.state=function(){return'beforeplay'},p.prototype.duration=function(){return this._mediaData.duration||null},p.prototype.mute=function(){return this._muted=!0,this.trigger('volumechange',this.volume())},p.prototype.unmute=function(){return this._muted=!1,this._isPlayingSilently=!1,this.trigger('volumechange',this.volume())},p.prototype.isMuted=function(){return!!this._opts.muted},p.prototype.volume=function(e){return null==e?0:(this.info('volume',e),this.ready(function(t){return function(){return t.volume(e)}}(this)))},p.prototype.playerLanguage=function(e){return null==e?d.getLanguage(this._attrs.playerLanguage)||d.getLanguage('en-US'):this.embedded(function(t){return function(){if(!d.getLanguage(e))throw new Error('Language '+e+' isn\'t defined.');return e===t._attrs.playerLanguage?void 0:(t._attrs.playerLanguage=e,t.trigger('playerlanguagechange',d.getLanguage(e)))}}(this))},p.prototype.name=function(){return this._mediaData.name||null},p.prototype.hashedId=function(){return this._hashedId},p.prototype.bigPlayButtonEnabled=function(){return this},p.prototype.smallPlayButtonEnabled=function(){return this},p.prototype.playbarControlEnabled=function(){return this},p.prototype.volumeControlEnabled=function(){return this},p.prototype.fullscreenButtonEnabled=function(){return this},p.prototype.setPlayerColor=function(e){return this.playerColor(e),this},p.prototype.playerColor=function(e){var t;return null==e?this._attrs.playerColor:(this.info('playerColor',e),t=this._attrs.playerColor,this._attrs.playerColor=d.Player._sanePlayerColor(e),t!==this._attrs.playerColor&&this.trigger('playercolorchange',this._attrs.playerColor,t),this)},p._sanePlayerColor=function(e){var t,n,i,a;if(e){if(e=(''+e).replace(/^#/g,''),6>e.length){for(i='',t=n=0,a=6-e.length;0<=a?n<a:n>a;t=0<=a?++n:--n)i+='0';e=''+i+e}return /^[\da-f]{6}$/i.test(e)||(e='636155'),e}return'636155'},p.prototype.playbackRate=function(e){return null==e?1:this},p.prototype.videoQuality=function(e){return null==e?'auto':this},p.prototype.width=function(e,t){var n,i,a,r,l;return null==t&&(t={}),null==e?(d.detect.browser.old&&null!=(a=this.elem())&&(a.style.position='absolute'),l=d.elem.width(this.grid.left)+d.elem.width(this.grid.center)+d.elem.width(this.grid.right),d.detect.browser.old&&null!=(r=this.elem())&&(r.style.position='static'),l):(this.info('width',e,t),e=parseInt(e,10),n=this.width(),this.grid.wrapper.style.width=this.chrome.style.width=e+'px',t.dontChangeContainer||(this._embedContainer.style.width=e+'px'),this.grid.center.style.width='100%','flash'===this.embedType&&null!=(i=this.elem())&&(i.style.width='100%'),this._opts.dontFit?(this.grid.main.style.width=e-d.elem.width(this.grid.left)-d.elem.width(this.grid.right)+'px',this.grid.main.style.marginLeft=d.elem.width(this.grid.left)+'px'):(d.grid.fitHorizontal(this),d.grid.fitVertical(this)),(e!==n||t.trigger)&&this.trigger('widthchange',e,n),t.constrain&&this.constrainToWidth({trigger:t.trigger}),this._width=e,this.correctForIntegers(),this.ieSizeHack(),this)},p.prototype.height=function(e,t){var n,i,a,r,l;return null==t&&(t={}),null==e?(d.detect.browser.old&&null!=(a=this.elem())&&(a.style.position='absolute'),l=d.elem.height(this.grid.center)+u(d.elem.height(this.grid.above),d.elem.height(this.grid.top))+u(d.elem.height(this.grid.below),d.elem.height(this.grid.bottom)),d.detect.browser.old&&null!=(r=this.elem())&&(r.style.position='static'),l):(this.info('height',e,t),e=parseInt(e,10),n=this.height(),this.grid.wrapper.style.height=this.chrome.style.height=e+'px',t.dontChangeContainer||(this._embedContainer.style.height=e+'px'),this.grid.center.style.height='100%','flash'===this.embedType&&null!=(i=this.elem())&&(i.style.height='100%'),this._opts.dontFit?(this.grid.main.style.height=e-d.elem.height(this.grid.above)-d.elem.height(this.grid.below)+'px',this.grid.main.style.marginTop=d.elem.height(this.grid.top)+'px'):(d.grid.fitHorizontal(this),d.grid.fitVertical(this)),(e!==n||t.trigger)&&this.trigger('heightchange',e,n),t.constrain&&this.constrainToHeight({trigger:t.trigger}),this.correctForIntegers(),this.ieSizeHack(),this)},p.prototype.videoWidth=function(e,t){var n,i,a,r,l;return null==t&&(t={}),null==e?(d.detect.browser.old&&null!=(a=this.elem())&&(a.style.position='absolute'),l=d.elem.width(this.grid.center),d.detect.browser.old&&null!=(r=this.elem())&&(r.style.position='static'),l):(this.info('videoWidth',e,t),e=parseInt(e,10),i=this.width(),this.grid.center.style.width='100%',this.grid.main.style.width=e+'px',n=d.elem.width(this.grid.left)+d.elem.width(this.grid.right),this.grid.wrapper.style.width=this.chrome.style.width=e+n+'px',t.dontChangeContainer||(this._embedContainer.style.width=e+n+'px'),d.grid.fitHorizontal(this),d.grid.fitVertical(this),(e!==i||t.trigger)&&this.trigger('widthchange',e,i),t.constrain&&this.constrainToWidth({trigger:t.trigger}),this.correctForIntegers(),this.ieSizeHack(),this)},p.prototype.videoHeight=function(e,t){var n,i,a,r,l,s,p;return null==t&&(t={}),null==e?(d.detect.browser.old&&this.elem&&null!=(r=this.elem())&&(r.style.position='absolute'),s=d.elem.height(this.grid.center),d.detect.browser.old&&this.elem&&null!=(l=this.elem())&&(l.style.position='static'),s):(this.info('videoHeight',e,t),e=parseInt(e,10),a=this.height(),this.grid.main.style.height=e+'px',this.grid.center.style.height='100%',this.grid.main.style.height=e+'px',d.detect.browser.ltie8&&d.grid.zeroEmptySections(this),p=u(d.elem.height(this.grid.above),d.elem.height(this.grid.top)),n=u(d.elem.height(this.grid.below),d.elem.height(this.grid.bottom)),i=p+n,this.grid.wrapper.style.height=this.chrome.style.height=e+i+'px',t.dontChangeContainer||(this._embedContainer.style.height=e+i+'px'),d.grid.fitHorizontal(this),d.grid.fitVertical(this),(e!==a||t.trigger)&&this.trigger('heightchange',e,a),t.constrain&&this.constrainToHeight({trigger:t.trigger}),this.correctForIntegers(),this.ieSizeHack(),this)},p.prototype.constrainToHeight=function(e){return this.videoWidth(this.widthForHeight(this.videoHeight()),e)},p.prototype.constrainToWidth=function(e){return this.videoHeight(this.heightForWidth(this.videoWidth()),e)},p.prototype.extraHeight=function(){var e,t;return t=u(d.elem.height(this.grid.above),d.elem.height(this.grid.top)),e=u(d.elem.height(this.grid.below),d.elem.height(this.grid.bottom)),t+e},p.prototype.extraWidth=function(){return d.elem.width(this.grid.left)+d.elem.width(this.grid.right)},p.prototype.heightForWidth=function(e){return c(e/this.aspect())},p.prototype.widthForHeight=function(e){return c(e*this.aspect())},p.prototype.aspect=function(){var e;return this._opts.aspect?this._opts.aspect:this._currentAsset?'variable'===this._currentAsset.width?this.mp4Aspect()||this.originalAspect():this._currentAsset.width/this._currentAsset.height:(e=this.asset({container:/mp4|flv/}))?e.width/e.height:640/360},p.prototype.mp4Aspect=function(){var e;return(e=this.mp4Asset({width:640})||this.mp4Asset({width:960})||this.mp4Asset())?e.width/e.height:null},p.prototype.originalAspect=function(){return this.originalAsset()?this.originalAsset().width/this.originalAsset().height:this.bestAsset().width/this.bestAsset().height},p.prototype.ieSizeHack=function(){d.detect.browser.msie&&('function'==typeof this.elem?this.elem():void 0)&&(this.info('ieSizeHack'),this.elem().style.width=0==this.elem().offsetLeft%2?this.videoWidth()+1+'px':'100%')},p.prototype.inFullscreen=function(){return!1},p.prototype.savePlatformPreference=function(e){return this.info('savePlatformPreference',e),d.localStorage('platformPreference',e)},p.prototype.visitorKey=function(){return this._tracker.visitorKey()},p.prototype.eventKey=function(){return this._tracker.eventKey()},p.prototype.getVisitorKey=function(){return this.visitorKey()},p.prototype.getEventKey=function(){return this.eventKey()},p.prototype.disableTextTracks=function(){return this.info('disableTextTracks'),null==this._disableTextTracks&&(this._disableTextTracks=function(e){return function(){var t,n,i,a,r,l;if(null!=(i=e.elem())&&i.textTracks){for(a=e.elem().textTracks,r=[],(t=0,n=a.length);t<n;t++)l=a[t],r.push(l.mode='disabled');return r}}}(this)),this.rebind('play',this._disableTextTracks)},p.prototype.sdAsset=function(){throw new Error('Implement in subclass!')},p.prototype.mdAsset=function(){throw new Error('Implement in subclass!')},p.prototype.hdAsset=function(){throw new Error('Implement in subclass!')},p.assets=t.filter,p.asset=t.one,p.assetsWithinQualityRange=t.withinQualityRange,p.stillUrl=t.stillUrl,p.bakeryHosts=function(){return t.BAKERY_HOSTS},p.isBakeryUrl=t.isBakeryUrl,p.stillAsset=t.still,p.prototype.stillUrl=function(e){var n,i;return e=d.obj.merge({videoWidth:this.grid?this.videoWidth():null,videoHeight:this.grid?this.videoHeight():null},this._opts,e),e.playerColor||(e.playerColor=null==(n=this._mediaData)||null==(i=n.embed_options)?void 0:i.playerColor),t.stillUrl(this._mediaData.assets,e)},p.prototype.stillAsset=function(){return t.still(this._mediaData.assets)},p.prototype.thumbnailAssets=function(){var e,t,n,i,a,r,l,s,d;if(this._opts.stillUrl)return[{height:null,url:this._opts.stillUrl,width:null}];for(r=this.stillAsset(),l=r.width/r.height,i=[320,640,960,1280,1920,3840],a=[],(t=0,n=i.length);t<n;t++)d=i[t],e=c(d/l),s=this.stillUrl({videoWidth:d,videoHeight:e,playButton:!1}),a.push({height:e,url:s,width:d});return a},p.prototype.changeStill=function(e,t){var n;return null==t&&(t={}),n=new Image,n.src=e,n.style.visibility='hidden',n.style.position='absolute',d.elem.append(document.body,n),n.onload=function(t){return function(){var i,a;return a=d.elem.width(n),i=d.elem.height(n),d.elem.remove(n),t._newStill={type:'still_image',url:e,width:a,height:i,bitrate:0,status:d.Player.READY,created_at:new Date().getTime()},t._replaceStillAsset(t._newStill),t.rebuild()}}(this)},p.prototype._replaceStillAsset=function(e){var t,n;return n=function(){var e,n,i,a;for(i=this.assets(),a=[],(e=0,n=i.length);e<n;e++)t=i[e],'still_image'!==t.type&&a.push(t);return a}.call(this),this._mediaData.assets=n,this._mediaData.assets.push(e)},p.prototype._refreshDataFromServer=function(e,t){return d.remote.ajax('//'+d.remote.embedHost()+'/embed/medias/'+this.hashedId()+'.json',{dataType:'json',fallbackToJsonp:!0,jsonpCallback:'wistia_jsonp_refresh_'+this.hashedId(),success:function(t){return function(n){return t._originalMediaData=n.media,t._mediaData=t.publicApi._transformMediaData(n.media),t._newStill&&t._replaceStillAsset(t._newStill),t.publicApi._mediaData=t._mediaData,d.cacheMedia(t.hashedId(),t._mediaData),'function'==typeof e&&e(),t.trigger('refreshed-from-server')}}(this),error:t})},p.prototype.assets=function(e){return t.filter(this._mediaData.assets,e)},p.prototype.asset=function(e){var t;return'string'==typeof arguments[0]?(t=arguments[0]+'Asset',e=arguments[1],this[t](e)):(e=arguments[0],this.assets(e)[0]||null)},p.prototype.mp4Asset=function(e){return t.mp4(this._mediaData.assets,e)},p.prototype.qualityOptions=function(){return{qualityMin:this._attrs.qualityMin,qualityMax:this._attrs.qualityMax}},p.prototype.mp4AssetInRange=function(e){return null==e&&(e={}),t.mp4(this._mediaData.assets,d.obj.merge(this.qualityOptions(),e))},p.prototype.webmAsset=function(e){return t.webm(this._mediaData.assets,e)},p.prototype.webmAssetInRange=function(e){return null==e&&(e={}),t.webm(this._mediaData.assets,d.obj.merge(this.qualityOptions(),e))},p.prototype.playableAsset=function(e){return t.playable(this._mediaData.assets,e)},p.prototype.playableAssetInRange=function(e){return null==e&&(e={}),t.playable(this._mediaData.assets,d.obj.merge(this.qualityOptions(),e))},p.prototype.flashAsset=function(e){return t.flv(this._mediaData.assets,e)},p.prototype.flashAssetInRange=function(e){return null==e&&(e={}),t.flv(this._mediaData.assets,d.obj.merge(this.qualityOptions(),e))},p.prototype.hlsAsset=function(e){return t.m3u8(this._mediaData.assets,e)},p.prototype.hlsAssetInRange=function(e){return null==e&&(e={}),t.m3u8(this._mediaData.assets,d.obj.merge(this.qualityOptions(),e))},p.prototype.isScreencast=function(){return t.isScreencast(this._mediaData.assets)},p.prototype.originalAsset=function(){return this._original||(this._original=t.original(this._mediaData.assets))},p.prototype.iphoneAsset=function(e){return null==e&&(e={}),this._iphoneAsset||(this._iphoneAsset=t.iphone(this._mediaData.assets,e))},p.prototype.iphoneAssetInRange=function(e){return null==e&&(e={}),t.iphone(this._mediaData.assets,d.obj.merge(this.qualityOptions(),e))},p.prototype.masterM3u8Asset=function(){var e;return null==(null==(e=this.hlsAssetsBySegmentDuration())?void 0:e[3])?null:{bitrate:'variable',ext:'m3u8',height:'variable',public:!0,size:'variable',type:'hls_video',url:d.detect.browser.msie?this.masterM3u8Url():this.masterM3u8DataURI(),width:'variable',slug:'hls_master_m3u8_seg3s'}},p.prototype.orderedM3u8Assets=function(){var e;return e=this.assets({container:'m3u8',segment_duration:3,type:'hls_video',status:d.Player.READY,metadata:function(e){return e.max_bitrate}}).sort(function(e,t){return(e.metadata.max_bitrate||0)-(t.metadata.max_bitrate||0)}),0!==this._opts.qualityMin&&(e=l.filter(e,function(){return function(e){return'Audio'!==e.display_name}}(this))),e},p.prototype.masterM3u8ContentFromAssets=function(){var e,t,n,i,a,r,l;for(l=this.orderedM3u8Assets(),n='#EXTM3U',i=[],(a=0,r=l.length);a<r;a++)e=l[a],t=8*e.metadata.max_bitrate,i.push('#EXT-X-STREAM-INF:PROGRAM-ID=1,CLOSED-CAPTIONS=NONE,BANDWIDTH='+t+',NAME='+e.display_name+'\n'+e.url);return n+'\n'+i.join('\n')},p.prototype.masterM3u8DataURI=function(){return'data:application/x-mpegURL;base64,'+d.base64.encode(this.masterM3u8ContentFromAssets())},p.prototype.masterM3u8Url=function(){var e;return e=0===this._opts.qualityMin,d.proto()+'//'+d.remote.embedHost()+'/embed/medias/'+this.hashedId()+'.m3u8?segment_duration=3&exclude_audio='+!e},p.prototype.chooseHlsAsset=function(){var e,t,n,i,a;return n=this.hlsAssetsBySegmentDuration(),t=function(){var t,r,l,s;for(l=function(){var e;for(i in e=[],n)a=n[i],e.push(parseInt(i,10));return e}(),s=[],(t=0,r=l.length);t<r;t++)e=l[t],isNaN(e)||s.push(e);return s}().sort(function(e,t){return e-t}),0===t.length?{useHls:!1}:{useHls:!0,segmentDuration:t[0]}},p.prototype.hlsAssetsBySegmentDuration=function(){var e,t,n,i,a,r,l,s;for(i={},n=this.assets({container:'m3u8',qualityMin:this._attrs.qualityMin,qualityMax:this._attrs.qualityMax,status:d.Player.READY}),0!==this._attrs.qualityMin&&(n=function(){var t,i,a;for(a=[],t=0,i=n.length;t<i;t++)e=n[t],'Audio'!==e.display_name&&a.push(e);return a}()),0===n.length&&(n=this.assets({container:'m3u8',status:d.Player.READY}),0!==this._attrs.qualityMin&&(n=function(){var t,i,a;for(a=[],t=0,i=n.length;t<i;t++)e=n[t],'Audio'!==e.display_name&&a.push(e);return a}()),n=this.nearestAssetsOutsideRange(n,this._attrs.qualityMin,this._attrs.qualityMax)),(a=0,r=n.length);a<r;a++)t=n[a],null!=(null==(s=t.metadata)?void 0:s.max_bitrate)&&null!=t.segment_duration&&(null==i[l=t.segment_duration]?i[l]=[]:i[l]).push(t);return i},p.prototype.nearestAssetsOutsideRange=function(e,t,n){var i,a,r,l,s,p,u,c,m,h;if(0===e.length)return[];for(m=function(){var t,n,a;for(a=[],t=0,n=e.length;t<n;t++)i=e[t],a.push(i);return a}().sort(function(e,t){return d.util.numericAssetSizeSnapped(e.width,e.height)-d.util.numericAssetSizeSnapped(t.width,t.height)}),r=m[0],s=m[m.length-1],(l=0,p=m.length);l<p;l++)if(i=m[l],a=d.util.numericAssetSizeSnapped(i.width,i.height),a>=t||(u=i),a>=n){h=i;break}return c=function(){var e,t,n,a;for(n=[u,h],a=[],(t=0,e=n.length);t<e;t++)i=n[t],i&&a.push(i);return a}(),0===c.length&&(this.error('nearestAssetsOutsideRange: no nearby assets found, using first in list',m[0]),c=[m[0]]),c},p.prototype.smallestNormalMp4Asset=function(e){return e=d.obj.merge({sortBy:'width asc',width:[640,1920]},e),this._smallestNormalMp4||(this._smallestNormalMp4=this.mp4Asset(e))},p.prototype.properAssetUrl=function(e,t){return null==t&&(t='mp4'),/\.bin$/.test(e)?e.replace(/\.bin$/,'')+('/file.'+t):e},p.prototype._determineAssetCacheStatus=function(t){var n;return void this.info('_determineAssetCacheStatus')},p.prototype.trim=function(e){return null==e?this._trimSettings||{start:0,end:-1}:this._trimSettings=e},p.prototype.setupWaitingDetection=function(){var e,t;if(null==this._waiting&&(this._waiting=-1),t=this.elem(),'html5'!==this.playerType||t._wistiaSetupWaitingDetection||(e=!1,t._wistiaSetupWaitingDetection=!0,d.elem.bind(t,'waiting',function(t){return function(){return!0!==t._hailMaryPlay&&(e=!0),d.elem.unbind}}(this))),'vulcan'!==this.playerType)return d.eventLoop.add(this.uuid+'.detect_waiting',this._eventLoopDuration,function(t){return function(){var n,i,a;return i=e&&'beforeplay'===t.state()||'playing'===t.state(),n='playing'===t._lastState||'beforeplay'===t._lastState,i&&n?-1===t._lastTimePosition||t.time()===t._lastTimePosition?(a=t._waiting,t._startedWaitingAt?(t._waiting=(new Date().getTime()-t._startedWaitingAt)/1e3,t.trigger('waiting',t._waiting)):(t._startedWaitingAt=new Date().getTime(),t._waiting=0,t.trigger('waiting',t._waiting),t.rebind('timechange',t.finishWaitingLoop))):t.finishWaitingLoop():t.finishWaitingLoop()}}(this))},p.prototype.finishWaitingLoop=function(){var e;return e=this._waiting,this._waiting=-1,this._startedWaitingAt=null,null!=e&&0<=e&&this.trigger('done-waiting',e),this.unbind},p.prototype.getVideoElement=function(){return null},p.prototype.whenVideoElementInDom=function(){return new s(function(){})},p.prototype.embedOptions=function(){return this._embedOptions?this._embedOptions:this._embedOptions=d.obj.clone(this._opts)},p.prototype.inSilentPlaybackMode=function(){return!1},p}(),d.mixin(d.Player.prototype,d.bindable),d.mixin(d.Player.prototype,d.logHelpers),d.Player.prototype._logPrefix=function(){var e;return[this.constructor.name,this.hashedId()||'no hashedId',null==(e=this._embedContainer)?void 0:e.id,this.uuid]},c=d.Player.prototype.trigger,d.Player.prototype.trigger=function(){var e,t;return e=1<=arguments.length?a.call(arguments,0):[],c.apply(this,e),(t=this.publicApi)._triggerNoImpl.apply(t,e)},g=Object.getOwnPropertyNames(d.PublicApi.prototype),(p=0,u=g.length);p<u;p++)m=g[p],h=d.PublicApi.prototype[m],'function'!=typeof h||d.Player.prototype.hasOwnProperty(m)||function(e,t){return d.Player.prototype[e]=function(){var t,n;return t=1<=arguments.length?a.call(arguments,0):[],(n=this.publicApi)[e].apply(n,t)},d.Player.prototype[e]._originalMethod=t}(m,h);return d.Video=d.Player}})(Wistia);
},function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};(function(t){return t.BigPlayButton?void 0:t.BigPlayButton=function(){function n(n,i){this.container=n,null==i&&(i={}),this.touchend=e(this.touchend,this),this.touchmove=e(this.touchmove,this),this.touchstart=e(this.touchstart,this),this.click=e(this.click,this),this.mouseup=e(this.mouseup,this),this.mousedown=e(this.mousedown,this),this.mouseout=e(this.mouseout,this),this.mouseover=e(this.mouseover,this),this.blur=e(this.blur,this),this.keyup=e(this.keyup,this),this.focus=e(this.focus,this),this.getBottomTextElemProps=e(this.getBottomTextElemProps,this),this.options=this.getDefaultOptions(i),this.uuid=this.options.uuid+'.big_play_button',this.color(this.options.color),this.backgroundElem=this.createBackgroundElem(),this.resetBackground(),this.elem=this.playElem=this.createPlayElem(),this.addTopText(),this.addBottomText(),t.elem.append(this.container,this.backgroundElem),t.elem.append(this.container,this.playElem),this.setupBindings()}var i=Math.round;return n.prototype.destroy=function(){return this.destroyBindings(),t.elem.remove(this.playElem),t.elem.remove(this.backgroundElem),this._bottomTextElem&&t.elem.remove(this._bottomTextElem),this._topTextElem&&t.elem.remove(this._topTextElem),this.elem=null,this.backgroundElem=null,this.playElem=null,this._bottomTextElem=null,this._topTextElem=null},n.prototype.getDefaultOptions=function(e){var n;return n={tabbable:!0,uuid:t.seqId(),color:'636155',bottomTextColor:'#fff',bottomTextFontFamily:'Courier New, Courier, Sans-Serif',bottomTextBackground:'none',bottomTextInsideButton:!1,topTextColor:'#fff',topTextFontFamily:'Courier New, Courier, Sans-Serif',topTextBackground:'none',widthCorrection:0,heightCorrection:0},t.obj.merge(n,e)},n.prototype.createBackgroundElem=function(){return t.elem.fromObject({id:this.uuid+'_background',style:{height:this.height()+'px',position:'absolute',width:this.width()+'px',zIndex:1}})},n.prototype.createPlayElem=function(){return t.elem.fromObject({id:this.uuid+'_graphic',tabindex:this.options.tabbable?'0':'-1',"aria-role":'Button',"aria-label":'Play',style:{background:'transparent url('+this.iconBase64()+') no-repeat 0 0',cursor:'pointer',display:'block',height:this.graphicHeight()+'px',outline:'none',position:'absolute',width:this.graphicWidth()+'px',zIndex:1}})},n.prototype.createBottomTextElem=function(){return t.elem.fromObject({id:this.uuid+'_bottom_text',style:this.getBottomTextElemProps(),childNodes:this.options.bottomText})},n.prototype.getBottomTextElemProps=function(){var e,t;return t={color:this.options.bottomTextColor,fontFamily:this.options.bottomTextFontFamily,fontSize:this.textFontSize(),background:this.options.bottomTextBackground,left:0,position:'absolute',textAlign:'center',width:'100%',zIndex:1},this.options.bottomTextInsideButton&&(e='30px',t.lineHeight=e,t.bottom='-'+e),t},n.prototype.createTopTextElem=function(){return t.elem.fromObject({id:this.uuid+'_top_text',style:{color:this.options.topTextColor,fontFamily:this.options.topTextFontFamily,background:this.options.topTextBackground,fontSize:this.textFontSize(),left:0,position:'absolute',textAlign:'center',width:'100%',zIndex:1},childNodes:this.options.topText})},n.prototype.textFontSize=function(){return this.options.bottomTextInsideButton?'18px':100>this.height()?'11px':this.shouldShrink()?'16px':'22px'},n.prototype.oldIe=function(){return t.detect.browser.msie&&9>t.detect.browser.version},n.prototype.setupBindings=function(){return t.elem.bind(this.playElem,'mouseover',this.mouseover),t.elem.bind(this.playElem,'mouseout',this.mouseout),t.elem.bind(this.playElem,'focus',this.focus),t.elem.bind(this.playElem,'blur',this.blur),t.elem.bind(this.playElem,'mousedown',this.mousedown),t.elem.bind(this.playElem,'mouseup',this.mouseup),t.elem.bind(this.playElem,'click',this.click),t.elem.bind(this.playElem,'touchstart',this.touchstart)},n.prototype.destroyBindings=function(){return t.elem.unbind(this.playElem,'mouseover',this.mouseover),t.elem.unbind(this.playElem,'mouseout',this.mouseout),t.elem.unbind(this.playElem,'focus',this.focus),t.elem.unbind(this.playElem,'blur',this.blur),t.elem.unbind(this.playElem,'mousedown',this.mousedown),t.elem.unbind(this.playElem,'mouseup',this.mouseup),t.elem.unbind(this.playElem,'click',this.click),t.elem.unbind(this.playElem,'touchstart',this.touchstart),t.elem.unbind(document,'touchmove',this.touchmove),t.elem.unbind(document,'touchend',this.touchend),t.elem.unbind(document,'keyup',this.keyup)},n.prototype.focus=function(){var e;return t.elem.addClass(this.playElem,'wistia_focus'),this.onMobile()||!1===this.options.autoHighlight||this.highlightBackground(),t.elem.rebind(document,'keyup',this.keyup),this._focus=!0,'function'==typeof(e=this.options).onFocus&&e.onFocus.apply(e,arguments),!0},n.prototype.keyup=function(e){var t,n;return'function'==typeof(t=this.options).onKeyup&&t.onKeyup.apply(t,arguments),(32===e.keyCode||13===e.keyCode)&&'function'==typeof(n=this.options).onActivate&&n.onActivate.apply(n,arguments),!0},n.prototype.blur=function(){var e;return t.elem.unbind(this.playElem,'keyup',this.keyup),t.elem.removeClass(this.playElem,'wistia_focus'),this.onMobile()||!1===this.options.autoHighlight||this.resetBackground(),this._focus=!1,'function'==typeof(e=this.options).onBlur&&e.onBlur.apply(e,arguments),!0},n.prototype.mouseover=function(){var e;return t.elem.addClass(this.playElem,'wistia_mouseover'),this.onMobile()||!1===this.options.autoHighlight||this.highlightBackground(),'function'==typeof(e=this.options).onMouseover&&e.onMouseover.apply(e,arguments),!0},n.prototype.mouseout=function(){var e;return t.elem.removeClass(this.playElem,'wistia_mouseover'),this.onMobile()||!1===this.options.autoHighlight||this.resetBackground(),'function'==typeof(e=this.options).onMouseout&&e.onMouseout.apply(e,arguments),!0},n.prototype.mousedown=function(){var e;return t.elem.addClass(this.playElem,'wistia_mousedown'),'function'==typeof(e=this.options).onMousedown&&e.onMousedown.apply(e,arguments),!0},n.prototype.mouseup=function(){var e;return t.elem.removeClass(this.playElem,'wistia_mousedown'),'function'==typeof(e=this.options).onMouseup&&e.onMouseup.apply(e,arguments),!0},n.prototype.click=function(){var e,t;return'function'==typeof(e=this.options).onClick&&e.onClick.apply(e,arguments),this._blockClickActivate||'function'!=typeof(t=this.options).onActivate||t.onActivate.apply(t,arguments),!0},n.prototype.touchstart=function(){var e;return(this.onMobile()||!1===this.options.autoHighlight)&&this.highlightBackground(),'function'==typeof(e=this.options).onTouchstart&&e.onTouchstart.apply(e,arguments),this._swiped=!1,t.elem.bind(document,'touchmove',this.touchmove),t.elem.bind(document,'touchend',this.touchend),!0},n.prototype.touchmove=function(){var e;return this._highlighted&&this.onMobile()&&!1!==this.options.autoHighlight&&this.resetBackground(),this._swiped=!0,'function'==typeof(e=this.options).onTouchmove&&e.onTouchmove.apply(e,arguments),!0},n.prototype.touchend=function(){var e,n;return t.elem.unbind(document,'touchmove',this.touchmove),t.elem.unbind(document,'touchend',this.touchend),this.onMobile()&&!1!==this.options.autoHighlight&&this.resetBackground(),'function'==typeof(e=this.options).onTouchend&&e.onTouchend.apply(e,arguments),this._swiped||('function'==typeof(n=this.options).onActivate&&n.onActivate.apply(n,arguments),this.blockClickActivateTemporarily()),this._swiped=!1,!0},n.prototype.onMobile=function(){return t.detect.iphone||t.detect.ipad||t.detect.android},n.prototype.blockClickActivateTemporarily=function(){return this._blockClickActivate=!0,t.timeout(this.uuid+'.block_click_activate',function(e){return function(){return e._blockClickActivate=!1}}(this),350)},n.prototype.highlightBackground=function(){return this._highlighted=!0,this.oldIe()?this.backgroundElem.style.filter=this.highlightColor().alpha(.8).toIeGradient():this.backgroundElem.style.backgroundColor=this.highlightColor().alpha(.8).toRgbaOrHex()},n.prototype.resetBackground=function(){return this._highlighted=!1,this.oldIe()?this.backgroundElem.style.filter=this.color().alpha(.8).toIeGradient():this.backgroundElem.style.backgroundColor=this.color().alpha(.8).toRgbaOrHex()},n.prototype.fit=function(){return t.elem.style(this.backgroundElem,{height:this.height()+'px',width:this.width()+'px'}),t.elem.style(this.playElem,{backgroundImage:'url('+this.iconBase64()+')',backgroundSize:this.graphicWidth()+'px '+this.graphicHeight()+'px',height:this.graphicHeight()+'px',width:this.graphicWidth()+'px'}),this._bottomTextElem&&t.elem.style(this._bottomTextElem,{fontSize:this.textFontSize()}),this._topTextElem&&t.elem.style(this._topTextElem,{fontSize:this.textFontSize()}),this.center()},n.prototype.show=function(){return this.fit(),t.elem.style([this.backgroundElem,this.playElem],{display:'block'})},n.prototype.hide=function(){return t.elem.style([this.backgroundElem,this.playElem],{display:'none'})},n.prototype.correctedWidth=function(){var e;return e=this.containerWidth(),e+=this.options.widthCorrection,e},n.prototype.correctedHeight=function(){var e;return e=this.containerHeight(),e+=this.options.heightCorrection,e},n.prototype.mouseEventTargetIsInside=function(e){return t.elem.isInside(e.target,this.playElem)||this._bottomTextElem&&t.elem.isInside(e.target,this._bottomTextElem)||this._topTextElem&&t.elem.isInside(e.target,this._topTextElem)},n.prototype.center=function(){if(t.elem.style(this.backgroundElem,{left:this.leftBackgroundOffset()+'px',top:this.topBackgroundOffset()+'px'}),t.elem.style(this.playElem,{left:this.leftGraphicOffset()+'px',top:this.topGraphicOffset()+'px'}),this._bottomTextElem&&!this.options.bottomTextInsideButton&&t.elem.style(this._bottomTextElem,{left:0,top:this.bottomGraphicOffset()+3+'px'}),this._topTextElem)return t.elem.style(this._topTextElem,{bottom:this.bottomGraphicOffset()+3+'px',left:0})},n.prototype.leftBackgroundOffset=function(){return i((this.correctedWidth()-this.width())/2)},n.prototype.topBackgroundOffset=function(){return i((this.correctedHeight()-this.height())/2)},n.prototype.topGraphicOffset=function(){return i((this.correctedHeight()-this.graphicHeight())/2)},n.prototype.leftGraphicOffset=function(){return i((this.correctedWidth()-this.graphicWidth())/2)},n.prototype.rightGraphicOffset=function(){return this.leftGraphicOffset()+this.graphicWidth()},n.prototype.bottomGraphicOffset=function(){return this.topGraphicOffset()+this.graphicHeight()},n.prototype.containerWidth=function(){return t.elem.width(this.container)},n.prototype.containerHeight=function(){return t.elem.height(this.container)},n.prototype.shouldShrink=function(){return 320>=this.containerWidth()||200>=this.containerHeight()},n.prototype.graphicWidth=function(){return this.shouldShrink()?60:127},n.prototype.graphicHeight=function(){return this.shouldShrink()?38:81},n.prototype.width=function(){return this._cover?this.containerWidth():this.graphicWidth()},n.prototype.height=function(){return this._cover?this.containerHeight():this.graphicHeight()},n.prototype.cover=function(){return this._cover=!0,this.supportsMultiply()?(t.elem.style(this.backgroundElem,{mixBlendMode:'multiply'}),this.color(this.color(),0.5)):this.color(this.color(),0.3),this.addBottomText(),this.addTopText(),this.fit()},n.prototype.uncover=function(){return this._cover=!1,this.supportsMultiply()&&t.elem.style(this.backgroundElem,{mixBlendMode:'normal'}),this.color(this.color(),0.76),this.removeBottomText(),this.removeTopText(),this.fit()},n.prototype.addBottomText=function(){var e;if(this.options.bottomText)return this._bottomTextElem?void 0:(e=this.options.bottomTextInsideButton?this.playElem:this.container,this.removeBottomText(),this._bottomTextElem=this.createBottomTextElem(),t.elem.append(e,this._bottomTextElem))},n.prototype.addBottomTextFromNewOptions=function(e){return this.options=t.obj.merge(this.options,e),this.removeBottomText(),this.addBottomText()},n.prototype.removeBottomText=function(){if(this._bottomTextElem)return t.elem.remove(this._bottomTextElem),this._bottomTextElem=null},n.prototype.addTopText=function(){if(this.options.topText)return this._topTextElem?void 0:(this.removeTopText(),this._topTextElem=this.createTopTextElem(),t.elem.append(this.container,this._topTextElem))},n.prototype.removeTopText=function(){if(this._topTextElem)return t.elem.remove(this._topTextElem),this._topTextElem=null},n.prototype.uncoverImmediately=function(){return t.elem.style(this.backgroundElem,{transition:'none'}),t.util.requestAnimationFrame(function(e){return function(){return e.uncover(),t.util.requestAnimationFrame(function(){return t.elem.style(e.backgroundElem,{transition:'all 80ms ease-out'})})}}(this))},n.prototype.supportsMultiply=function(){return t.detect.chrome||t.detect.safari},n.prototype.color=function(e,n){var i,a;return null==n&&(n=0.8),null==e?this._color.clone():(this._color=new t.Color(e).alpha(n),t.detect.browser.msie&&9>t.detect.browser.version?null!=(i=this.backgroundElem)&&(i.style.filter=this._color.toIeGradient()):null!=(a=this.backgroundElem)&&(a.style.backgroundColor=this._color.toRgbaOrHex()),this._color)},n.prototype.highlightColor=function(){return this.color().clone().lighten(40)},n.prototype.iconBase64=function(){return 1<window.devicePixelRatio?this.retinaBase64():this.shouldShrink()?this.smallNonRetinaBase64():this.bigNonRetinaBase64()},n.prototype.retinaBase64=function(){return'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAP4AAACiCAYAAABh2nDdAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAulJREFUeNrs3d1tGlEQBtAlSgEpgXSAO8AdxB2QDuwONhWQDpxUAB14OyAdmA5IB+SOvDdCSHnLn/WdI91XP4z1aYY77DIMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAvnc/nQzsrlYCs4JdTOxvVgKzgd7t23qkKZAW/PLezVhnICn43qg7kBb88tbNUJcgKfr/4+6BSkBX8buviD/KCf7bzh8zgd/cqB3nBt/OH0OD3i7+1KkJW8O38ITj4/eJvqaKQFXw7fwgNfvfo4i/PQgleV/D/0J8+tnO3WCy+qXKGN0pAU5/3D3b+Oj5ZHf/SNHf/7yqu45Nj3Y7n/AWfQHXZV4/5bpXCqE/GqH+tLvw+uvjT8cmymrv/Ril0fHI6/qX93P1d/Ak+QcEvx8HO36hPnOXwsvMflULHJ6fjX5oGO38dnzjr4WXn72EfwSdM7fx3XvBp1Cdn1L9m56/jE6jv/D3so+MT1PEv2fnr+ASqC7+Dh30EnzzLefQflcKoT8aof60u/Grnf/Sf1PHJsZpHfzt/wSfMz52/Ugg+WWrk/6oMgk+OL+3c+oLPv/dWCfgLapdfO/29Uuj4ZJjauRF6wSfHpxb4Wys8oz4ZjvNoPymFjk+G/TzaC73gE6Au8B5a4L2Rx6hPCM/h6/iE+dwCfyP0Oj45o73dvOATZBq8XdeoT5S+mxd6HZ8Ax8Ev6Oj4ROm7eaEXfAL0Czyf5436hPCqLB2fMH03L/Q6PiGj/Z3v2ev45Kiwvxd6wSfHg908/KfOv1+97nqlspAT/Ec/aw05wT/5UQvICn6N9kuVhJzgjyoIOcE/+alqyAr+zgUe5AS/uvy9ikFO8O3mISz4W6M95ATfbh7Cgv9kNw9ZwR9VBXKC/+wCD7KCbzcPYcHfqAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAvE4/BBgAB9Vp0xXzB8AAAAAASUVORK5CYII='},n.prototype.bigNonRetinaBase64=function(){return'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH8AAABRCAYAAAD7G3lVAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAATFJREFUeNrs22FtwkAYx+F2QcAkMAfgYBKQwBxMQh1MwiRQB+CgEoaDzkG5S1a+E5IF+n+e5D4ve3+7N0s4mgYAAAAAAAAAAAAA7jFN06cp5MavjuWsTSMzfjWWszORzPizQzmvJpMZ3xYIj28LiG8LpMeffdsCufGrn3LeTS0z/uzLFsiNbwuEx7cFxL9ugY1pZsafdSaaG78abIHc+LaA+MvbAi/+XG5Sww9L2QLtEm/+P/2oUzkfbduexc+LX51L/DdrP09fzvaZf4GVhjf7/Vv3vVFk/bfvMUhg/PoAZG+6efE9Aw+MP/oCSGZ8tz0wvtseGn9w2zPjdyaXF99n9aHx3fbA+G57aHy3PTC+N/mh8b3DD4zvtofGd9tD47vtAAAAAAAAAAAAADymiwADAOSj1JBfF8xMAAAAAElFTkSuQmCC'},n.prototype.smallNonRetinaBase64=function(){return'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAmCAYAAACYsfiPAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJNJREFUeNrs1ksNhEAURNGWgAQkjAQkIAUJ7QApIwEJSEACEh6PBatJhmZJ1T1JCahU+lMKAACAioj4Zjqnwqc9MzoVvszya8evLTM4FdZeO/7TWzva6Kwd7dbMx6nwpboV3l99rh+WXV5/lh+sOrlcWueqvcOzpLNqQ2GtVW8KT0WZ3MeisXAtLixWBQAAQDoEGACTzSwy3SX7YgAAAABJRU5ErkJggg=='},n}()})(Wistia);
},function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};(function(t){return t.Thumbnail?void 0:t.Thumbnail=function(){function n(n,i){var a,r,l,s;this.container=n,this.options=i,this.hideOverlay=e(this.hideOverlay,this),this.showOverlay=e(this.showOverlay,this),this.touchend=e(this.touchend,this),this.touchmove=e(this.touchmove,this),this.touchstart=e(this.touchstart,this),this.click=e(this.click,this),this.mouseup=e(this.mouseup,this),this.mousedown=e(this.mousedown,this),this.mouseout=e(this.mouseout,this),this.mouseover=e(this.mouseover,this),this.blur=e(this.blur,this),this.keyup=e(this.keyup,this),this.focus=e(this.focus,this),this.loaded=new t.StopGo,this.uuid=(this.options.uuid||t.seqId())+'.thumbnail',null==this.options.tabbable&&(this.options.tabbable=!0),0<(null==(l=this.options.images)?void 0:l.length)||(s='http:'===t.proto()?'http://embed.wistia.com/deliveries/c0612aa8586d19f8471478c66c73ef7ab3f8e334/default-thumb.jpg':'https://embed-ssl.wistia.com/deliveries/c0612aa8586d19f8471478c66c73ef7ab3f8e334/default-thumb.jpg',this.options.images=[{url:s,height:360,width:640}]),this.elem=this.createElem(),this.options.prepend?t.elem.prepend(this.container,this.elem):t.elem.append(this.container,this.elem),this.img=this.createImg(),this.overlay=this.createOverlay(),this.fit(),this.setupBindings(),this.options.delayInit?(a=this.bestImage(),this.quickPreload(a.url)):this.initialize(),null!=this.options.bigPlayButton&&!1!==this.options.bigPlayButton&&(r=t.obj.isObject(this.options.bigPlayButton)?t.obj.clone(this.options.bigPlayButton):{},this.bigPlayButton=new t.BigPlayButton(this.elem,r))}var i=Math.round,a=Math.max;return n.prototype.initialize=function(){return this.isBakeryThumbnail()?this.loadImageFirstTime():this.loadImageFirstTimeAndGetDimensions()},n.prototype.destroy=function(){var e;return null!=(e=this.bigPlayButton)&&e.destroy(),this.destroyBindings(),t.elem.remove(this.elem),this.elem=this.img=this.overlay=null},n.prototype.preventDefault=function(e){return e.preventDefault()},n.prototype.setupBindings=function(){return t.elem.bind(this.elem,'mouseover',this.mouseover),t.elem.bind(this.elem,'mouseout',this.mouseout),t.elem.bind(this.elem,'focus',this.focus),t.elem.bind(this.elem,'blur',this.blur),t.elem.bind(this.elem,'mousedown',this.mousedown),t.elem.bind(this.elem,'mouseup',this.mouseup),t.elem.bind(this.elem,'click',this.click),t.elem.bind(this.elem,'touchstart',this.touchstart),t.elem.bind(this.img,'mousedown',this.preventDefault)},n.prototype.destroyBindings=function(){return t.elem.unbind(this.elem,'mouseover',this.mouseover),t.elem.unbind(this.elem,'mouseout',this.mouseout),t.elem.unbind(this.elem,'focus',this.focus),t.elem.unbind(this.elem,'blur',this.blur),t.elem.unbind(this.elem,'mousedown',this.mousedown),t.elem.unbind(this.elem,'mouseup',this.mouseup),t.elem.unbind(this.elem,'click',this.click),t.elem.unbind(this.elem,'touchstart',this.touchstart),t.elem.unbind(this.img,'mousedown',this.preventDefault),t.elem.unbind(document,'touchmove',this.touchmove),t.elem.unbind(document,'touchend',this.touchend),t.elem.unbind(document,'keyup',this.keyup)},n.prototype.focus=function(){var e;return t.elem.addClass(this.elem,'wistia_focus'),t.elem.rebind(document,'keyup',this.keyup),this._focus=!0,'function'==typeof(e=this.options).onFocus&&e.onFocus.apply(e,arguments),!0},n.prototype.keyup=function(e){var t,n;return'function'==typeof(t=this.options).onKeyup&&t.onKeyup.apply(t,arguments),(32===e.keyCode||13===e.keyCode)&&'function'==typeof(n=this.options).onActivate&&n.onActivate.apply(n,arguments),!0},n.prototype.blur=function(){var e;return t.elem.unbind(document,'keyup',this.keyup),t.elem.removeClass(this.elem,'wistia_focus'),this._focus=!1,'function'==typeof(e=this.options).onBlur&&e.onBlur.apply(e,arguments),!0},n.prototype.mouseover=function(){var e;return t.elem.addClass(this.elem,'wistia_mouseover'),'function'==typeof(e=this.options).onMouseover&&e.onMouseover.apply(e,arguments),!0},n.prototype.mouseout=function(){var e;return t.elem.removeClass(this.elem,'wistia_mouseover'),'function'==typeof(e=this.options).onMouseout?e.onMouseout.apply(e,arguments):void 0},n.prototype.mousedown=function(){var e;return t.elem.addClass(this.elem,'wistia_mousedown'),'function'==typeof(e=this.options).onMousedown&&e.onMousedown.apply(e,arguments),!0},n.prototype.mouseup=function(){var e;return t.elem.removeClass(this.elem,'wistia_mousedown'),'function'==typeof(e=this.options).onMouseup&&e.onMouseup.apply(e,arguments),!0},n.prototype.click=function(){var e,t;return'function'==typeof(e=this.options).onClick&&e.onClick.apply(e,arguments),this._blockClickActivate||this._swiped||'function'!=typeof(t=this.options).onActivate||t.onActivate.apply(t,arguments),!0},n.prototype.touchstart=function(){var e;return'function'==typeof(e=this.options).onTouchstart&&e.onTouchstart.apply(e,arguments),this._swiped=!1,t.elem.bind(document,'touchmove',this.touchmove),t.elem.bind(document,'touchend',this.touchend),!0},n.prototype.touchmove=function(){var e;return t.timeout(this.uuid+'.hide_overlay_later',this.hideOverlay,300),this._swiped=!0,'function'==typeof(e=this.options).onTouchmove&&e.onTouchmove.apply(e,arguments),!0},n.prototype.touchend=function(){var e,n;return t.elem.unbind(document,'touchmove',this.touchmove),t.elem.unbind(document,'touchend',this.touchend),'function'==typeof(e=this.options).onTouchend&&e.onTouchend.apply(e,arguments),this._swiped||('function'==typeof(n=this.options).onActivate&&n.onActivate.apply(n,arguments),this.blockClickActivateTemporarily()),this._swiped=!1,!0},n.prototype.blockClickActivateTemporarily=function(){return this._blockClickActivate=!0,t.timeout(this.uuid+'.block_click_activate',function(e){return function(){return e._blockClickActivate=!1}}(this),350)},n.prototype.hide=function(){return this.elem.style.display='none'},n.prototype.show=function(){return this.elem.style.display='block'},n.prototype.isBakeryThumbnail=function(){return!this.isNonBakeryThumbnail()},n.prototype.isNonBakeryThumbnail=function(){return 1===this.options.images.length&&!t.Player.isBakeryUrl(this.options.images[0].url)},n.prototype.bestImage=function(e){var n,r,l,i,s,d;if(null==e&&(e=!1),d=this.sortedImages(),n=a(t.elem.width(this.img),t.elem.width(this.container)),r=(window.devicePixelRatio||1)*n,!e){if(r<=d[0].width)return d[0];for(l=0,s=d.length;l<s;l++)if(i=d[l],i.width>=r)return i}return d[d.length-1]},n.prototype.sortedImages=function(){var e,n;return null==this._sortedImages?this._sortedImages=function(){var a,i,r,l;for(r=this.options.images.sort(function(e,t){return e.width-t.width}),l=[],(a=0,i=r.length);a<i;a++)n=r[a],e=t.obj.clone(n),e.aspect=e.width/e.height,l.push(e);return l}.call(this):this._sortedImages},n.prototype.quickPreload=function(e){var n,i,a;return(null==this._quickPreloads&&(this._quickPreloads={}),this._quickPreloads[e])?this._quickPreloads[e]:(this._quickPreloads[e]=a=new t.StopGo,i=new Image,n=function(e){return function(){if(t.elem.unbind(i,'load',n),t.elem.unbind(i,'error',n),!!t.elem.inDom(e.container))return t.clearTimeouts(e.uuid+'.long_still_load'),a.go(i)}}(this),t.elem.bind(i,'load',n),t.elem.bind(i,'error',n),t.timeout(this.uuid+'.long_still_load',n,1e3),i.src=e,a)},n.prototype.surePreload=function(e,n){var i,a;return a=new Image,i=function(e){return function(){return t.elem.unbind(a,'load',i),t.clearTimeouts(e.uuid+'.long_still_load'),t.elem.inDom(e.container)?'function'==typeof n?n(a):void 0:void 0}}(this),t.elem.bind(a,'load',i),a.src=e},n.prototype.loadImageFirstTimeAndGetDimensions=function(){var e;return e=this.bestImage(),this.quickPreload(e.url).then(function(n){return function(i){if(t.elem.style(i,{visibility:'hidden',position:'absolute'}),t.elem.append(document.body,i),n._customHeight=t.elem.height(i),n._customWidth=t.elem.width(i),n._customAspect=n._customWidth/n._customHeight,t.elem.remove(i),n._sortedImages=null,!!(n.elem&&n.img))return t.elem.append(n.elem,n.img),n.img.src=e.url,n.fitWithoutReload(),n.loaded(!0)}}(this))},n.prototype.loadImageFirstTime=function(){var e;return e=this.bestImage(),this.quickPreload(e.url).then(function(n){return function(){if(n.elem&&n.img)return t.elem.append(n.elem,n.img),n.img.src=e.url,n.fitWithoutReload(),n.loaded(!0)}}(this))},n.prototype.loadImageAtProperSize=function(){var e;return e=this.bestImage(),this.surePreload(e.url,function(t){return function(){if(t.elem&&t.img)return t.img.src=e.url,t.fitWithoutReload()}}(this))},n.prototype.createElem=function(){return t.elem.fromObject({id:this.uuid,tabindex:this.options.tabbable?'0':'-1',style:{cursor:'default',display:'block',height:'100%',overflow:'hidden',outline:'none',position:'relative',width:'100%'}})},n.prototype.createImg=function(){return t.elem.fromObject({tagName:'img',id:this.uuid+'_img',alt:this.getAltTextValue(),style:{border:0,display:'block',float:'none',height:'100%',margin:0,maxHeight:'none',maxWidth:'none',padding:0,position:'absolute',width:'100%'}})},n.prototype.getAltTextValue=function(){var e,t;return e='Wistia video thumbnail',t=null==this.options.name?'':' - '+this.options.name,e+t},n.prototype.createOverlay=function(){var e,n;return e=t.elem.fromObject({id:this.uuid+'_overlay',style:{border:0,display:'block',float:'none',height:'100%',margin:0,maxWidth:'none',padding:0,pointerEvents:'none',position:'absolute',width:'100%'}}),t.detect.browser.msie&&(9>t.detect.browser.version||t.detect.browser.quirks)?(n=new t.Color(0,0,0).alpha(0.5).toIeGradient(),t.elem.style(e,{filter:n})):t.elem.style(e,{backgroundColor:'rgba(0,0,0,.5)'}),e},n.prototype.showOverlay=function(){return t.elem.append(this.elem,this.overlay)},n.prototype.hideOverlay=function(){return t.elem.remove(this.overlay)},n.prototype.containerWidth=function(){return t.elem.width(this.container)},n.prototype.containerHeight=function(){return t.elem.height(this.container)},n.prototype.containerAspect=function(){return this.containerWidth()/this.containerHeight()},n.prototype.fitStrategy=function(e){return null==e?/^cropfill|letterbox$/.test(this.options.fitStrategy)?this.options.fitStrategy:'letterbox':(this.options.fitStrategy=e,this.fit())},n.prototype.fit=function(){return this.fitWithoutReload(),this.loadImageAtProperSize()},n.prototype.fitWithoutReload=function(){var e;return t.elem.style(this.elem,{height:this.containerHeight()+'px',width:this.containerWidth()+'px'}),'cropfill'===this.fitStrategy()?this.cropFillFit():this.letterboxFit(),null==(e=this.bigPlayButton)?void 0:e.fit()},n.prototype.stretchLimit=function(){return null==this.options.stretchLimit?10:this.options.stretchLimit},n.prototype.cropFillFit=function(){var e,n,a,r,l,s,d,p,u,c,m=Math.abs;return e=this._customAspect||this.bestImage().aspect,r=this.containerWidth(),a=this.containerHeight(),n=this.containerAspect(),!1===this.options.stillSnap?(s=r,l=a):n>e?(s=r,l=i(s/e)):n<=e&&(l=a,s=i(l*e)),c=a-l,p=r-s,u=i(c/2),d=i(p/2),m(2*u)<=this.stretchLimit()&&(u=0,l=a),m(2*d)<=this.stretchLimit()&&(d=0,s=r),t.elem.isHidden(this.elem)||!t.elem.inDom(this.elem)?(t.elem.style(this.img,{height:'100%',width:'100%'}),d=u=0):t.elem.style(this.img,{height:l+'px',width:s+'px'}),t.elem.style(this.img,{border:0,left:d+'px',top:u+'px'})},n.prototype.letterboxFit=function(){var e,n,r,l,s,d,p,u,c,m,h,g,y,f,_,b;return e=this._customAspect||this.bestImage().aspect,d=this.containerWidth(),s=this.containerHeight(),l=this.containerAspect(),!1===this.options.stillSnap?(m=d,c=s):l>e?(c=s,m=i(c*e)):l<=e&&(m=d,c=i(m/e)),b=a(0,s-c),f=a(0,d-m),_=i(b/2),y=i(f/2),g=r=_,u=h=y,2*r<=this.stretchLimit()&&(r=0,g=0,c=s),2*u<=this.stretchLimit()&&(u=0,h=0,m=d),n=this.options.backgroundColor||'#000','transparent'===n?n:new t.Color(n).alpha(0.8).toRgbaOrHex(),t.elem.isHidden(this.elem)||!t.elem.inDom(this.elem)?(t.elem.style(this.img,{height:'100%',width:'100%'}),g=r=p=h=0):t.elem.style(this.img,{height:c+'px',width:m+'px'}),t.elem.style(this.img,{borderTop:g+'px solid '+n,borderBottom:r+'px solid '+n,borderLeft:u+'px solid '+n,borderRight:h+'px solid '+n,left:0,top:0})},n}()})(Wistia);
},function(){(function(e){return null==e._onFullscreenChange&&(e._onFullscreenChange=function(){return e.elem.fullscreenElement()?e.trigger('enter-fullscreen',e.elem.fullscreenElement()):e.trigger('cancel-fullscreen')}),e._initializers.initFullscreenTriggers=function(){return e.elem.rebind(document,'mozfullscreenchange',e._onFullscreenChange),e.elem.rebind(document,'webkitfullscreenchange',e._onFullscreenChange),e.elem.rebind(document,'MSFullscreenChange',e._onFullscreenChange),e.elem.rebind(document,'fullscreenchange',e._onFullscreenChange)},e._destructors.destroyFullscreenTriggers=function(){return e.elem.unbind(document,'mozfullscreenchange',e._onFullscreenChange),e.elem.unbind(document,'webkitfullscreenchange',e._onFullscreenChange),e.elem.unbind(document,'MSFullscreenChange',e._onFullscreenChange),e.elem.unbind(document,'fullscreenchange',e._onFullscreenChange)}})(Wistia);
},function(){(function(t){return t.BandwidthTest=function(){function e(e){this.opt=e,this.opt=t.obj.merge({minKbps:2500,timeoutLength:4e3,freshFor:3.6e6},this.opt),this.opt.uuid||(this.opt.uuid=t.seqId('bandwidth_test_'))}return e.prototype.start=function(){var e,n,i,a;return null!=(i=this._testXhr)&&i.abort(),this._testStart=new Date().getTime(),this._testXhr=new XMLHttpRequest,this._testXhr.open('GET',this.testFileUrl(),!0),n=Math.floor(100*Math.random()),a=1e6*n,e=a+999999,this._testXhr.setRequestHeader('Range','bytes='+a+'-'+e),t.timeout(this.uuid+'.cancel_bandwidth_test',function(e){return function(){return e.trigger('timeout'),e.fail()}}(this),this.opt.timeoutLength),this._testDataLoaded=0,this._onTestXhrProgress=function(e){return function(t){return e._testDataLoaded=t.loaded,e.trigger('progress',t)}}(this),this._testXhr.addEventListener('progress',this._onTestXhrProgress),this._onTestXhrLoaded=function(e){return function(){return e.succeed()}}(this),this._testXhr.addEventListener('load',this._onTestXhrLoaded),this._testXhr.send(null),this.trigger('started')},e.prototype.fail=function(){return this._sampleKbps(),this._supportsHd=!1,this.saveResult(),this.trigger('failed'),this.end()},e.prototype.succeed=function(){if(this._sampleKbps(),this._supportsHd=!0,this.saveResult(),this.trigger('succeeded'),this.end(),this._suspiciouslyFast())return this._reportSuspiciousBandwidthTest()},e.prototype._reportSuspiciousBandwidthTest=function(){var n,e,i;try{if(this._suspiciouslyFast())return t.Metrics.count('player/suspicious-bandwidth-test',1,{bw_test_time:this._testTime,visitor_key:t.visitorKey.value(),location:('undefined'!=typeof location&&null!==location?null==(e=location.protocol)?void 0:e.length:void 0)&&('undefined'!=typeof location&&null!==location?null==(i=location.hostname)?void 0:i.length:void 0)?location.protocol+'//'+location.hostname:null,connection_type:t.Metrics.connectionType(),agent:navigator.userAgent})}catch(e){return n=e,t.error(n)}},e.prototype._suspiciouslyFast=function(){return 0.05>this._testTime},e.prototype._sampleKbps=function(){return this._testEnd=new Date().getTime(),this._testTime=(this._testEnd-this._testStart)/1e3,this._kbps=8*this._testDataLoaded/1e3/this._testTime},e.prototype.endEarly=function(){return null==this._supportsHd&&null!=this._testDataLoaded?(this._sampleKbps(),this._supportsHd=!(1<this._testTime)||this._kbps>=this.opt.minKbps,this.trigger('ended-early'),this.end()):(this.end(),this.trigger('ended-early'))},e.prototype.end=function(){var e,n,i;return this._onTestXhrLoaded&&null!=(e=this._testXhr)&&e.removeEventListener('load',this._onTestXhrLoaded),this._onTestXhrProgress&&null!=(n=this._testXhr)&&n.removeEventListener('progress',this._onTestXhrProgress),null!=(i=this._testXhr)&&i.abort(),this._testXhr=null,t.clearTimeouts(this.uuid+'.cancel_bandwidth_test'),this.trigger('ended')},e.prototype.testFileUrl=function(){return this.opt.testFileUrl||('https:'===t.proto()?'https://embed-ssl.wistia.com/deliveries/6992339c876a95a37250fbe5b0a0eaecca3018a5/file.jpg?bust=2015-12-29a':'http://embed-e.wistia.com/deliveries/6992339c876a95a37250fbe5b0a0eaecca3018a5/file.jpg?bust=2015-12-29a')},e.prototype.saveKey=function(){return this.opt.saveKey||'bandwidth_test'},e.prototype.saveResult=function(){return t.localStorage(this.saveKey(),{updatedAt:new Date().getTime(),supportsHd:this._supportsHd,clientKbps:this._kbps})},e.prototype.savedResult=function(){return t.localStorage(this.saveKey())},e.prototype.isFresh=function(){var e,t;return e=new Date().getTime()-((null==(t=this.savedResult())?void 0:t.updatedAt)||0),e<this.opt.freshFor},e.prototype.supportsHd=function(){return this._supportsHd||!1},e}(),t.mixin(t.BandwidthTest.prototype,t.bindable)})(Wistia);
},function(){var e=function(e,n){function i(){this.constructor=e}for(var a in n)t.call(n,a)&&(e[a]=n[a]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;(function(t){return t.ExternalPlayer?void 0:t.ExternalPlayer=function(n){function i(){return i.__super__.constructor.apply(this,arguments)}return e(i,n),i.prototype.playerType='external',i.prototype.elem=function(){return document.getElementById(this.uuid)},i.prototype.chromeElem=function(){return document.getElementById(this.uuid+'_external_player')},i.prototype.createEmbedElem=function(){var e,n;return n={id:this.uuid+'_external_player',style:{background:'transparent',display:'block',height:'100%',position:'relative',width:'100%'}},e={tagName:'a',href:this.sdAsset().url,id:this.uuid,target:'_parent',style:t.generate.relativeBlockCss(),alt:'Click to play video'},n.childNodes=[e],t.elem.fromObject(n)},i.prototype.stillUrl=function(e){return e=t.obj.merge({playButton:!1},e),i.__super__.stillUrl.call(this,e)},i.prototype.embed=function(){var e,n;return this._currentAsset=this.sdAsset(),this.data.asset=this._currentAsset,this.placeEmbed(this.createEmbedElem()),this.elem().wistiaApi=this,this.bigPlayButton=new t.Html5BigPlayButton(this).initialize(),this.bigPlayButton.bpb.elem.style.pointerEvents='none',this.bigPlayButton.bpb.backgroundElem.style.pointerEvents='none',this.still=new t.Html5Still(this).initialize(),this._opts.stillUrl=null==(e=this.still.thumbnail)||null==(n=e.img)?void 0:n.getAttribute('src'),'transparent'!==this._opts.wmode&&this.still.loaded(function(e){return function(){var n;return e.elem()&&t.elem.prepend(e.elem(),e.still.elem),null==(n=e.chromeElem())?void 0:n.style.backgroundColor='#000'}}(this)),t.elem.bind(this.elem(),'click',function(e){return function(){return e.trigger('play'),t.timeout(e.uuid+'.fake_video_end',function(){return e.trigger('end'),e.trigger('afterend')},500),!0}}(this)),this.embedded(!0),this.checkForReady()},i.prototype.checkForReady=function(){var e;return this._checkDownState(),e=function(e){return function(){return t.timeout(e.uuid+'.async_ready',function(){return e._hasBeenReady=!0,e.ready(!0)})}}(this),this._hasBeenReady?e():this.publicApi.up(e)},i.prototype.fit=function(){return i.__super__.fit.apply(this,arguments),this.embedded(function(e){return function(){var t,n;return null!=(t=e.still)&&t.fitStill(),null==(n=e.bigPlayButton)?void 0:n.reorient()}}(this))},i.prototype.play=function(){return this},i.prototype.time=function(e){return null==e?0:this},i.prototype.pause=function(){return this},i.prototype.volume=function(e){return null==e?1:this},i.prototype.bestAsset=function(){return this.sdAsset()},i.prototype.sdAsset=function(){return this.iphoneAsset()||this.mp4Asset()},i.prototype.mdAsset=function(){return this.iphoneAsset()||this.mp4Asset()},i.prototype.hdAsset=function(){return this.iphoneAsset()||this.mp4Asset()},i.prototype.initFrom=function(e){return t.elem.remove(e.wrapperElem),this.embed()},i}(t.Player)})(Wistia);
},function(e,t,n){var i=function(e,t){return function(){return e.apply(t,arguments)}};(function(e){var t;if(!e.Popover)return t=n(5).cdnFastWistiaComHost,e.Popover=function(){function n(t){var n;this.video=t,this.fitVideo=i(this.fitVideo,this),this.show=i(this.show,this),this.showAndPlay=i(this.showAndPlay,this),this.hide=i(this.hide,this),this.fitCloseButton=i(this.fitCloseButton,this),this.fitOverlay=i(this.fitOverlay,this),this.fit=i(this.fit,this),this._onLeaveVideoOrCloseButton=i(this._onLeaveVideoOrCloseButton,this),this._onEnterVideoOrCloseButton=i(this._onEnterVideoOrCloseButton,this),this.unexpandPlayButtonOnMouseOut=i(this.unexpandPlayButtonOnMouseOut,this),this.unexpandPlayButtonImmediately=i(this.unexpandPlayButtonImmediately,this),this.unexpandPlayButton=i(this.unexpandPlayButton,this),this.expandPlayButton=i(this.expandPlayButton,this),this.setupThumbnailAfterMediaData=i(this.setupThumbnailAfterMediaData,this),this.click=i(this.click,this),this.info('init'),this.uuid=e.seqId(),this._embedContainer=this.video._embedContainer,e.elem.addClass(this._embedContainer,'wistia_popover_embed'),this._thumbContainer=e.elem.fromObject({id:e.seqId()+'.thumb_container',class:'wistia_click_to_play',style:{position:'relative'}}),'inline'===this.video.container.style.display&&e.elem.style(this._thumbContainer,{display:'inline'}),e.elem.append(this.video.container,this._thumbContainer),n=this.video._gatherOptions(),this.info('opts',n),'thumbnail'===n.popoverContent||null==n.popoverContent?this.video.hasData(this.setupThumbnailAfterMediaData):(this.info('init with bare html',this.video._startingHtml),this._thumbContainer.innerHTML=this.video._startingHtml,e.elem.bind(this._thumbContainer,'click',this.click)),this.resizeToContainer(),this.createCloseButton(),this.hide(!0),this.setupBindings(),this.video.embedded(function(e){return function(){if(e.video._opts.popoverShowOnLoad)return!1===e.video._opts.autoPlay?e.show():e.showAndPlay()}}(this))}var a=Math.round,r=Math.max;return n.prototype.click=function(e){return e.preventDefault(),this.showAndPlay()},n.prototype.isMobile=function(){return e.detect.ipad||e.detect.iphone||e.detect.android},n.prototype.setupThumbnailAfterMediaData=function(){return this.info('setupThumbnailAfterMediaData'),e.asyncChain(this.video.uuid+'.popover.setup_thumbnail',[function(t){return function(){return t.initThumbnail(),e.elem.style(t.thumbnail.elem,{cursor:'pointer'})}}(this),function(e){return function(){return e.resizeToContainer()}}(this),function(e){return function(){return e.monitor()}}(this)])},n.prototype.initThumbnail=function(){var t,n;return this.thumbnail=new e.Thumbnail(this._thumbContainer,{tabbable:!0,fitStrategy:'cropfill',onActivate:this.showAndPlay,images:this.video._impl.thumbnailAssets(),bigPlayButton:!!e.util.notSetOrTrue(this.video._opts.playButton)&&(t={color:this.video.playerColor(),tabbable:!0},this.shouldAnimate()?(t.autoHighlight=!1,e.util.notSetOrTrue(this.video._opts.popoverHoverDuration)?t.bottomText=this.shortHumanDuration(this.video.duration()):void 0,this.video._opts.popoverHoverName?t.topText=this.video.name():void 0):void 0,t),onMouseover:this.shouldAnimate()?this.expandPlayButton:null,onMouseout:this.shouldAnimate()?this.unexpandPlayButtonOnMouseOut:null}),null!=(n=this.thumbnail.bigPlayButton)&&'function'==typeof n.removeBottomText&&n.removeBottomText(),this.thumbnail},n.prototype.shortHumanDuration=function(t){var n,i,a,r,l;return r=e.TimeHelper.secondsToIso8601(t),a=r.split(':'),n=a[0],i=a[1],l=a[2],0===parseInt(n)&&0===parseInt(i)?'0:'+l:0===parseInt(n)?parseInt(i)+':'+l:parseInt(n)+':'+i+':'+l},n.prototype.shouldAnimate=function(){return!0===this.video._opts.popoverAnimateThumbnail},n.prototype.expandPlayButton=function(){var e,t;return null==(e=this.thumbnail)||null==(t=e.bigPlayButton)?void 0:t.cover()},n.prototype.unexpandPlayButton=function(){var e,t;return null==(e=this.thumbnail)||null==(t=e.bigPlayButton)?void 0:t.uncover()},n.prototype.unexpandPlayButtonImmediately=function(){var e,t;return null==(e=this.thumbnail)||null==(t=e.bigPlayButton)?void 0:t.uncoverImmediately()},n.prototype.unexpandPlayButtonOnMouseOut=function(t){var n;if(n=e.elem.containsOffset(this.thumbnail.elem,t.pageX,t.pageY),!n)return this.unexpandPlayButton()},n.prototype.fixedSizeTooBigForWindow=function(){return this.video._popoverSize().width+160>e.elem.width(window)||this.video._popoverSize().height+160>e.elem.height(window)},n.prototype.isResponsive=function(){return!this.isFixedSize()},n.prototype.isFixedSize=function(){return!!this.video._opts.popoverSize},n.prototype.monitor=function(){return this.info('monitor container size'),this._lastWidth=this.containerWidth(),this._lastHeight=this.containerHeight(),e.eventLoop.add(this.video.uuid+'_popover.watch_popover_thumb_elem',300,function(e){return function(){if(e._lastWidth!==e.containerWidth()||e._lastHeight!==e.containerHeight())return e.preventAnimation(),e.resizeToContainer(),e.allowAnimation(),e._lastWidth=e.containerWidth(),e._lastHeight=e.containerHeight()}}(this))},n.prototype.resizeToContainer=function(){var t;return e.elem.style(this._thumbContainer,{height:this.containerHeight()+'px',width:this.containerWidth()+'px'}),null==(t=this.thumbnail)?void 0:t.fit()},n.prototype.containerWidth=function(){return e.elem.width(this.video.container)},n.prototype.containerHeight=function(){return e.elem.height(this.video.container)},n.prototype.setupBindings=function(){return this.video.videoFoam()||e.elem.bind(window,'resize',this.fit),this.video.bind('widthchange',this.fit),this.video.bind('heightchange',this.fit),null==this._showIfHidden&&(this._showIfHidden=function(e){return function(){if(!e._visible)return e.show()}}(this)),this.video.bind('play',this._showIfHidden),e.elem.bind(this._embedContainer,'mouseover',this._onEnterVideoOrCloseButton),e.elem.bind(this._embedContainer,'mouseout',this._onLeaveVideoOrCloseButton),e.elem.bind(this._closeButton,'mouseover',this._onEnterVideoOrCloseButton),e.elem.bind(this._closeButton,'mouseout',this._onLeaveVideoOrCloseButton)},n.prototype._onEnterVideoOrCloseButton=function(t){var n;if(this._visible&&(n=t.target||t.srcElement,n&&(e.elem.isInside(n,this._embedContainer)||e.elem.isInside(n,this._closeButton))))return e.elem.style(this._closeButton,{opacity:0.8})},n.prototype._onLeaveVideoOrCloseButton=function(t){var n;if(n=t.relatedTarget||t.toElement,n&&e.elem.isInside(n,this._overlay))return e.elem.style(this._closeButton,{opacity:0})},n.prototype.unbindAll=function(){return e.elem.unbind(window,'resize',this.fit),this._overlay&&this._hideOnClick&&e.elem.unbind(this._overlay,'click',this._hideOnClick),this._hideOnEscape&&e.elem.unbind(document,'keyup',this._hideOnEscape),this.video.unbind('widthchange',this.fit),this.video.unbind('heightchange',this.fit),this._showIfHidden&&this.video.unbind('play',this._showIfHidden),e.elem.unbindAllInside(this._thumbContainer),e.elem.unbind(this._thumbContainer,'click',this.showAndPlay)},n.prototype.remove=function(){var t;return null!=(t=this.thumbnail)&&t.destroy(),this.unbindAll(),e.eventLoop.remove(this.video.uuid+'_popover'),e.clearTimeouts(this.video.uuid+'_popover'),e.elem.remove(this._thumbContainer),e.elem.remove(this._overlay),e.elem.remove(this._closeButton),e.elem.remove(this._captionElem),this._thumbContainer=this._overlay=this._captionElem=this.thumbnail=null},n.prototype.fit=function(){return this.fitOverlay(),this.fitCloseButton(),this.fitVideo()},n.prototype.bestOverlayHeight=function(){return r(e.elem.height(document),e.elem.height(window))},n.prototype.bestOverlayWidth=function(){return r(e.elem.width(document),e.elem.width(window))},n.prototype.createCloseButton=function(){return this._closeButton=e.elem.fromObject({id:this._embedContainer.id+'_popover_close_button',class:'wistia_placebo_close_button',alt:'Close',role:'button',tabindex:-1,"aria-label":'Close',style:{cursor:'pointer',height:'34px',left:0,opacity:0,position:'absolute',top:0,width:'34px',zIndex:10002},childNodes:[{tagName:'img',style:{height:'34px',verticalAlign:'top',width:'34px'}}]}),null==this._hideOnClickClose&&(this._hideOnClickClose=function(e){return function(){return e.hide()}}(this)),e.elem.rebind(this._closeButton,'click',this._hideOnClickClose),e.elem.append(document.body,this._closeButton)},n.prototype._closeButtonBase64=function(){return'data:image/gif;base64,R0lGODlhRABEAIABAP///////yH5BAEAAAEALAAAAABEAEQAAAKVjI+py+0Po5y02oszBPxyoGFfR41gWJlnpKJWu5muJzvw/NbLjefjruvRfgiecPg5GI/IzpLZfEKjyelMtbKisFoXltQVfcHhkkxaZtzQ6WIwwG4/42E03Rq/M+/6Xr9/RTTxVkc2aNiWqLjI2Oj4CBkpOUlZaXmJmam5ydnp+QkaKjpKWmp6ipqqusra6voKGyvbUwAAOw=='},n.prototype.createOverlay=function(){return this.destroyOverlay(),this.info('createOverlay'),this._overlay=e.elem.fromObject({id:this._embedContainer.id+'_overlay',class:'wistia_popover_overlay',style:{backgroundImage:'url('+e.proto()+'//'+t()+'/assets/images/blank.gif)',height:this.bestOverlayHeight()+'px',left:0,opacity:0,position:'absolute',top:0,width:this.bestOverlayWidth()+'px',zIndex:1e4}}),e.detect.browser.msie&&9>e.detect.browser.version?e.elem.style(this._overlay,{filter:this._overlayColor().toIeGradient()}):e.elem.style(this._overlay,{backgroundColor:this._overlayColor().toRgba()}),e.elem.append(document.body,this._overlay),this._blockClick=!0,null==this._hideOnClick&&(this._hideOnClick=function(e){return function(){if(e.info('hideOnClick',e._blockClick),!e._blockClick)return e.hide()}}(this)),e.elem.rebind(this._overlay,'click',this._hideOnClick),e.timeout(this.video.uuid+'.popover.allow_click',function(e){return function(){return e._blockClick=!1}}(this),600)},n.prototype._overlayColor=function(){var t,n;return t=e.Player._sanePlayerColor(this.video._opts.popoverOverlayColor||'000000'),n=null==this.video._opts.popoverOverlayOpacity?0.5:this.video._opts.popoverOverlayOpacity,new e.Color(t).alpha(n)},n.prototype._playerColor=function(){return new e.Color(this.video.playerColor()).alpha(0.9)},n.prototype.destroyOverlay=function(){return this.info('destroyOverlay'),e.elem.remove(this._overlay),this._overlay=null},n.prototype.fitOverlay=function(){return this._visible?this._overlay?e.elem.style(this._overlay,{height:this.bestOverlayHeight()+'px',width:this.bestOverlayWidth()+'px'}):void 0:void 0},n.prototype.fitCloseButton=function(){var t,n;return t=Math.min(34,this.bestVideoBoundingBox().left),n=t+'px',e.elem.style(this._closeButton,{width:n,height:n}),e.elem.style(this._closeButton.childNodes[0],{width:n,height:n})},n.prototype.hide=function(t){var n,i,a,r;return null==t&&(t=!1),this.info('hide'),r=this._visible,this._visible=!1,e.elem.removeClass(document.body,'wistia_popover_mode'),e.detect.browser.msie&&(9>e.detect.browser.version||e.detect.browser.quirks)&&(t=!0),(null==(a=this.video._opts)?void 0:a.popoverResume)&&0<this.video.time()&&this.video._saveState(),i=function(t){return function(){var n,i,a;return e.elem.style([t._embedContainer,t._closeButton],{boxShadow:'',position:'absolute',top:0}),t._closeButton.setAttribute('tabindex',-1),n=(null==(i=document.getElementsByTagName('html'))||null==(a=i[0])?void 0:a.dir)||'','rtl'===n?e.elem.style([t._embedContainer,t._closeButton],{right:'-99999px'}):e.elem.style([t._embedContainer,t._closeButton],{left:'-99999px'}),t.destroyOverlay(),t.destroyCaption(),!t.video._opts||t.video._opts.popoverPreventScroll?t.allowScroll():t.allowHorizontalScroll()}}(this),this.video.pause(),r&&e.timeout(this.uuid+'.delayed_rebuild',function(e){return function(){return e.video.rebuild()}}(this),600),this.video.embedded(function(e){return function(){if(e.video._pauseEventLoop(),e.shouldAnimate())return e.unexpandPlayButtonImmediately()}}(this)),this.video.trigger('popoverhide'),!0===t?i():(n=this.animateArgs(),n.push(i),this.animateClose.apply(this,n))},n.prototype.animateClose=function(t,n,i){if(null==t&&(t=!0),this.info('animateClose',t,n),this._overlay&&(!t&&e.elem.style(this._overlay,{opacity:0}),setTimeout(function(t){return function(){return e.elem.animate(t._overlay,{opacity:0})}}(this),1)),t||e.elem.style([this._embedContainer,this._closeButton],{opacity:0}),setTimeout(function(t){return function(){return e.elem.animate([t._embedContainer,t._closeButton],{opacity:0,transform:t.transformProp(n)},{callback:i})}}(this),1),this._captionElem)return t||e.elem.style(this._captionElem,{opacity:0}),setTimeout(function(t){return function(){return e.elem.animate(t._captionElem,{opacity:0,transform:t.transformProp(n)})}}(this),1)},n.prototype.showAndPlay=function(){return this.info('showAndPlay'),this.show(),this.video.play()},n.prototype.transformProp=function(e){return'up'===e?'translate(0, '+a(this.fullHeight()/6)+'px)':'down'===e?'translate(0, '+-a(this.fullHeight()/6)+'px)':'left'===e?'translate('+a(this.fullWidth()/6)+'px, 0)':'right'===e?'translate('+-a(this.fullWidth()/6)+'px, 0)':''},n.prototype.animateOpen=function(t,n){if(null==t&&(t=!0),this.info('animateOpen',t,n),t||e.elem.style(this._overlay,{opacity:1}),t||e.elem.style([this._embedContainer],{opacity:1}),e.elem.style([this._embedContainer],{transform:this.transformProp(n)}),setTimeout(function(t){return function(){return e.elem.animate([t._embedContainer],{opacity:1,transform:'translate(0px, 0px)'}),e.elem.animate(t._overlay,{opacity:1})}}(this),1),this._captionElem)return t||e.elem.style(this._captionElem,{opacity:1}),e.elem.style(this._captionElem,{transform:this.transformProp(n)}),setTimeout(function(t){return function(){return e.elem.animate(t._captionElem,{opacity:1,transform:'translate(0px, 0px)'})}}(this),1)},n.prototype.animateArgs=function(){return e.detect.browser.msie&&(9>e.detect.browser.version||e.detect.browser.quirks)?[!1,'none']:'fade'===this.video._opts.popoverAnimation?[!0,'none']:'slide'===this.video._opts.popoverAnimation?this.slideOrFadeBasedOnPlayerType():'none'===this.video._opts.popoverAnimation?[!1,'none']:this.slideOrFadeBasedOnPlayerType()},n.prototype.slideOrFadeBasedOnPlayerType=function(){return'flash'===this.video.playerType?[!0,'none']:[!0,'none']},n.prototype.show=function(){var t;return this.info('show'),this._visible=!0,e.elem.addClass(document.body,'wistia_popover_mode'),e.clearTimeouts(this.uuid+'.delayed_rebuild'),this.video._opts.popoverPreventScroll?this.preventScroll():this.preventHorizontalScroll(),this._closeButton.childNodes[0].setAttribute('src',this._closeButtonBase64()),this._closeButton.setAttribute('tabindex',0),this.createOverlay(),this.applyVisibleStyles(),this.addCaption(),this.fitVideo(),this.animateOpen.apply(this,this.animateArgs()),this.setupVisibleBindings(),(null==(t=this.video._opts)?void 0:t.popoverResume)&&this.video.resume(),this.video.embedded(function(e){return function(){return e.video._unpauseEventLoop()}}(this)),this.video.trigger('popovershow')},n.prototype.preventScroll=function(){if(!this._savedCss)return this._savedCss={height:document.body.style.height||'',overflow:document.body.style.overflow||''},e.elem.style(document.body,{height:'100%',overflow:'hidden'})},n.prototype.allowScroll=function(){if(this._savedCss)return e.elem.style(document.body,{height:this._savedCss.height,overflow:this._savedCss.overflow}),this._savedCss=null},n.prototype.preventHorizontalScroll=function(){if(!this._savedCss)return this._savedCss={width:document.body.style.width||'',"overflow-x":document.body.style['overflow-x']||''},e.elem.style(document.body,{width:'100%',"overflow-x":'hidden'})},n.prototype.allowHorizontalScroll=function(){if(this._savedCss)return e.elem.style(document.body,{width:this._savedCss.width,"overflow-x":this._savedCss['overflow-x']}),this._savedCss=null},n.prototype.setupVisibleBindings=function(){return null==this._hideOnEscape&&(this._hideOnEscape=function(t){return function(n){if(27===n.keyCode)return t.info('hide on escape'),t.hide(),e.elem.unbind(document,'keyup',t._hideOnEscape)}}(this)),e.elem.rebind(document,'keyup',this._hideOnEscape)},n.prototype.applyVisibleStyles=function(){var t,n,i,a,r,l,s;return i=this.video._opts.popoverBorderWidth||0,t=new e.Color(this.video._opts.popoverBorderColor||'#ffffff').toHex(),n=this.video._opts.popoverBorderRadius||0,r=null==this.video._opts.popoverBoxShadowBlur?50:this.video._opts.popoverBoxShadowBlur,s=null==this.video._opts.popoverBoxShadowSpread?20:this.video._opts.popoverBoxShadowSpread,l=null==this.video._opts.popoverBoxShadow||this.video._opts.popoverBoxShadow,a=l?'0 0 '+r+'px '+s+'px rgba(0,0,0,.2)':'',e.elem.style(this._embedContainer,{border:i+'px solid #'+t,borderRadius:n+'px',boxShadow:a,boxSizing:'content-box',left:0,opacity:0,position:'absolute',top:0,zIndex:10001})},n.prototype.addCaption=function(){if(this.video._opts.popoverCaption||this.video._opts.popoverCaptionContainer)return(this.destroyCaption(),this.info('addCaption'),this._captionElem=e.elem.fromObject({id:this.video.uuid+'_popover_caption',style:{color:'#ffffff',fontFamily:'Verdana, Geneva, sans-serif',fontSize:'14px',left:0,opacity:0,position:'absolute',top:0,width:0,zIndex:10001}}),e.elem.append(document.body,this._captionElem),this.video._opts.popoverCaption)?(this.info('build new caption with content',this.video._opts.popoverCaption),this._captionContainer?this._captionContainer.style.display='block':this._captionContainer=e.elem.fromObject({innerHTML:this.video._opts.popoverCaption,style:{padding:'10px 0 0 0'}}),e.elem.append(this._captionElem,this._captionContainer)):this.video._opts.popoverCaptionContainer?(this.info('use caption container',this.video._opts.popoverCaptionContainer),this._captionContainer?this._captionContainer.style.display='block':this._captionContainer=document.getElementById(this.video._opts.popoverCaptionContainer),e.elem.style(this._captionContainer,{display:'block'}),e.elem.append(this._captionElem,this._captionContainer)):void 0},n.prototype.destroyCaption=function(){return this.info('destroyCaption'),this._captionContainer&&(e.elem.style(this._captionContainer,{display:'none'}),e.elem.append(document.body,this._captionContainer)),e.elem.remove(this._captionElem),this._captionElem=null},n.prototype.fitCaption=function(){return this._captionElem?e.elem.style(this._captionElem,{left:parseInt(e.elem.style(this._embedContainer,'left'),10)+'px',top:parseInt(e.elem.style(this._embedContainer,'top'),10)+this.fullHeight()+'px',width:this.fullWidth()+'px'}):void 0},n.prototype.height=function(t,n){return null==n&&(n={}),null==t?e.elem.height(this.video.container):(this.preventAnimation(),e.elem.style(this.video.container,{height:t+'px'}),n.constrain&&e.elem.style(this.video.container,{width:this.video.widthForHeight(t)+'px'}),this.resizeToContainer(),this.allowAnimation(),this)},n.prototype.width=function(t,n){return null==n&&(n={}),null==t?e.elem.width(this.video.container):(this.preventAnimation(),e.elem.style(this.video.container,{width:t+'px'}),n.constrain&&e.elem.style(this.video.container,{height:this.video.heightForWidth(t)+'px'}),this.resizeToContainer(),this.allowAnimation(),this)},n.prototype.preventAnimation=function(){return null==this._wistiaNoAnimateStyle&&(this._wistiaNoAnimateStyle=e.css(this._thumbContainer,'.wistia_no_animate * {\ntransition: none !important;\n-mozilla-transition: none !important;\n-ms-transition: none !important;\n-o-transition: none !important;\n-webkit-transition: none !important;\n}')),e.elem.addClass(this._thumbContainer,'wistia_no_animate')},n.prototype.allowAnimation=function(){return this._thumbContainer.offsetTop,e.elem.removeClass(this._thumbContainer,'wistia_no_animate')},n.prototype.fullWidth=function(){var e;return this.video.width()+2*((null==(e=this.video._opts)?void 0:e.popoverBorderWidth)||0)},n.prototype.fullHeight=function(){var e;return this.video.height()+2*((null==(e=this.video._opts)?void 0:e.popoverBorderWidth)||0)},n.prototype.fitVideo=function(){return this._visible?this.video.embedded(function(t){return function(){var n,i,a,r;return t.video._doMonitor(),n=t.bestVideoBoundingBox(),i=(null==(a=document.getElementsByTagName('html'))||null==(r=a[0])?void 0:r.dir)||'','rtl'===i?(e.elem.style(t._embedContainer,{right:n.left+'px',top:n.top+'px'}),e.elem.style(t._closeButton,{right:n.right+17+'px',top:n.top+'px'})):(e.elem.style(t._embedContainer,{left:n.left+'px',top:n.top+'px'}),e.elem.style(t._closeButton,{left:n.right+'px',top:n.top+'px'})),t.fitCaption()}}(this)):void 0},n.prototype.bestVideoBoundingBox=function(){var t,n,i,r,l,s,d,p;return s=e.elem.width(window),l=e.elem.height(window),p=this.fullWidth(),n=this.fullHeight(),i=e.util.scrollLeft()+a((s-p)/2),d=e.util.scrollTop()+a((l-n)/2),r=i+p,t=d+n,{top:d,left:i,right:r,bottom:t,width:p,height:n}},n}(),e.mixin(e.Popover.prototype,e.logHelpers),e.Popover.prototype._logPrefix=function(){var e,t;return['popover',(null==(e=this.video)?void 0:e.hashedId())||'no hashedId',null==(t=this._thumbContainer)?void 0:t.id]}})(Wistia);
},function(e,t,n){var i,a,r=function(e,t){return function(){return e.apply(t,arguments)}};i=n(0)['default'],a=i.lib('utilities/obj').assign,function(e){return e.VideoTracker2?void 0:e.VideoTracker2=function(){function t(t){this.publicApi=t,this.onLookChange=r(this.onLookChange,this),this.resendAllFailedEvents=r(this.resendAllFailedEvents,this),this.retrySendingFailedEvent=r(this.retrySendingFailedEvent,this),this.eventQueue=[],this.clockStart=new Date().getTime(),this.isIE=navigator.userAgent.match(/Trident/)||navigator.userAgent.match(/MSIE/),this.initializedOnce=!1,this.monitoring=!1,this.publicApi.hasData(function(t){return function(){t.params=e.extend({transmitInterval:1e3*(t.publicApi._mediaData.trackingTransmitInterval||10)},t.publicApi._opts),!t.publicApi._attrs.shouldTrack}}(this)),this}var n=Math.abs;return t.prototype.conversions={"missing-conversion":0,"pre-roll-email":1,"post-roll-email":2,"mid-roll-email":3,"post-roll-click":4,"mid-roll-click":5,"non-video":6},t.prototype._getAccountKey=function(){return this.publicApi._opts.accountKey||this.publicApi._mediaData.accountKey},t.prototype._data=function(){var e;return e={account_key:this._getAccountKey(),session_id:this.visitorKey(),media_id:this.publicApi._mediaData.mediaKey,event_key:this.eventKey(),media_duration:parseFloat(this.publicApi._mediaData.duration),visitor_version:this._getVisitorVersion(),referrer:this.publicApi._attrs.pageUrl,event_details:this.eventQueue,foreign_data:this.publicApi.foreignData()},this.publicApi.email()&&(e.email=this.publicApi.email()),this.publicApi._opts.anonymizeIp&&(e.anonymizeIp=!0),this.params.conversionType&&(e.conversion_type=this.conversions[this.params.conversionType]),this.params.conversionData&&(e.conversion_data=this.params.conversionData),JSON.stringify(e)},t.prototype._secondsSinceTime=function(e){return e?Math.round((new Date().getTime()-e)/1e3):null},t.prototype.nullToNone=function(e){return null===e?'none':e},t.prototype.lastLoadForAccount=function(){return this.nullToNone(this._secondsSinceTime(Wistia.localStorage('accounts_loaded.'+this._getAccountKey())))},t.prototype.lastLoadForMedia=function(){return this.nullToNone(this._secondsSinceTime(Wistia.localStorage('medias_loaded.'+this.publicApi.hashedId())))},t.prototype.lastPlayForAccount=function(){return this.nullToNone(this._secondsSinceTime(Wistia.localStorage('accounts_played.'+this._getAccountKey())))},t.prototype.lastPlayForMedia=function(){return this.nullToNone(this._secondsSinceTime(Wistia.localStorage('medias_played.'+this.publicApi.hashedId())))},t.prototype.lastRecordingOfActionForMedia=function(e){return this.nullToNone(this._secondsSinceTime(Wistia.localStorage('action_recorded.'+this.publicApi.hashedId()+'.'+e)))},t.prototype.recordLastActionForMedia=function(e){return Wistia.localStorage('action_recorded.'+this.publicApi.hashedId()+'.'+e,new Date().getTime())},t.prototype.recordLoad=function(){return this.publicApi.info('recordLoad'),Wistia.localStorage('accounts_loaded.'+this._getAccountKey(),new Date().getTime()),Wistia.localStorage('medias_loaded.'+this.publicApi.hashedId(),new Date().getTime())},t.prototype.recordPlay=function(){return this.publicApi.info('recordPlay'),Wistia.localStorage('accounts_played.'+this._getAccountKey(),new Date().getTime()),Wistia.localStorage('medias_played.'+this.publicApi.hashedId(),new Date().getTime())},t.prototype.isValidKey=function(e){return 25<(null==e?void 0:e.length)&&/^[a-z0-9_\-\.]+$/i.test(e)},t.prototype._saveVisitorVersion=function(e){if(null==e&&(e=1),null==Wistia.localStorage('visitor_version'))return Wistia.localStorage('visitor_version',e)},t.prototype._getVisitorVersion=function(){var e;return e=Wistia.localStorage('visitor_version'),e?e:(this._saveVisitorVersion(0),0)},t.prototype.reset=function(){return this.stopMonitoring(),this.initializedOnce=!1,this._eventKey=null},t.prototype.initialize=function(){return this.initializedOnce||(this.publicApi.info('video tracker initialize'),this._lastLoadForAccount=this.lastLoadForAccount(),this._lastLoadForMedia=this.lastLoadForMedia(),this._lastPlayForAccount=this.lastPlayForAccount(),this._lastPlayForMedia=this.lastPlayForMedia(),this._failedEventsQueue=[],this._retryTimer=null,this._retryInterval=1e3,this.initializedOnce=!0,this.log('initialized'),this.recordLoad(),this.debounceTransmit()),this},t.prototype.monitor=function(){return this.publicApi.embedded(function(i){return function(){return i.stopMonitoring(),i.publicApi.info('_tracker.monitor'),i.initialize(),null==i.onPlaybackRateChange&&(i.onPlaybackRateChange=function(e){return i.log('playbackRateChange',null,e)}),null==i.onPlay&&(i.onPlay=function(){if(i.log('play'),i._logCurrentCameraPosition(),i.recordPlay(),!i._played)return i._played=!0,i.debounceTransmit()}),null==i.onPause&&(i.onPause=function(){if(.3<n(i.publicApi.duration()-i.publicApi.time()))return i.log('pause')}),null==i.onEnd&&(i.onEnd=function(){return i.log('end'),i._logCurrentCameraPosition(),i.transmit()}),null==i.onSeek&&(i.onSeek=function(e,t){if(5<=n(t-e))return i.log('seek')}),null==i.onPercentWatchedThreshold&&(i.onPercentWatchedThreshold=function(e){return i.log('percentWatchedThreshold',null,e),i.transmit()}),i.monitoring=!0,i.publicApi.rebind('play',i.onPlay),i.publicApi.rebind('pause',i.onPause),i.publicApi.rebind('end',i.onEnd),i.publicApi.rebind('seek',i.onSeek),i.publicApi.rebind('playbackratechange',i.onPlaybackRateChange),i.publicApi.rebind('percentWatchedThreshold',i.onPercentWatchedThreshold),i.monitorCameraPosition(),'playing'===i.publicApi.state()&&i.onPlay(),e.timeout(i.publicApi.uuid+'.start_tracking_timeout',function(){return i.publicApi.info('_tracker start tracking_loop'),e.eventLoop.add(i.publicApi.uuid+'.tracking_loop',i.params.transmitInterval,function(){return'playing'===i.publicApi.state()&&i.log('update'),i.transmit()})},Math.random()*i.params.transmitInterval+1e3)}}(this))},t.prototype.stopMonitoring=function(){return this.publicApi.info('_tracker.stopMonitoring'),this.monitoring=!1,this.onPlay&&this.publicApi.unbind('play',this.onPlay),this.onPause&&this.publicApi.unbind('pause',this.onPause),this.onEnd&&this.publicApi.unbind('end',this.onEnd),this.onSeek&&this.publicApi.unbind('seek',this.onSeek),this.onPercentWatchedChanged&&this.publicApi.unbind('percentwatchedchanged',this.onPercentWatchedChanged),this.unmonitorCameraPosition()},t.prototype.distilleryUrl=function(){return this.publicApi._opts.statsUrl||this.publicApi._mediaData.distilleryUrl},t.prototype.sendToDistillery=function(t){return e.detect.browser.msie&&11>e.detect.browser.version?this.sendDataUsingJsonp(t):this.sendDataUsingXhr(t)},t.prototype.sendDataUsingXhr=function(t){var n;return n=3e4,e.remote.post(this.distilleryUrl(),{contentType:'text/plain',data:encodeURIComponent(t),timeout:n})},t.prototype.sendDataUsingJsonp=function(t){var n,i;return n=3e4,i=this.distilleryUrl()+'?data='+encodeURIComponent(t),this.isIE&&(i+='&ie=1'),e.remote.script(i,null,n)},t.prototype.retrySendingFailedEvent=function(){return this.sendToDistillery(this._failedEventsQueue.shift())},t.prototype.resendAllFailedEvents=function(){var e,t,n,i,a,r,l,s;if(i=this._failedEventsQueue.length,clearTimeout(this._retryTimer),!!(0<i)){for(s=350,l=this._failedEventsQueue,t=function(e){return function(t,n){return setTimeout(function(){return e.sendToDistillery(t)},s*n)}}(this),(n=a=0,r=l.length);a<r;n=++a)e=l[n],t(e,n);return this._failedEventsQueue=[]}},t.prototype.transmit=function(t){return null==t&&(t={}),this.publicApi._attrs.shouldTrack?e.util.pageLoaded(function(n){return function(){return e.visitorKey.ready(function(){var i,a;if((0<n.eventQueue.length||t.force)&&(i=n._data(),n.publicApi.info('_tracker.transmit',i),n.publicApi.trigger('transmit-stats',i),n.sendToDistillery(e.base64.encode(i)),n.eventQueue=[]),!e.visitorKey._reported&&(e.visitorKey._reported=!0,a=e.visitorKey.origin(),('new'===a||'timeout'===a)&&e.Metrics.videoCount(n.publicApi,'player/visitor_key/new',1,{visitor_key:e.visitorKey.value(),visitor_key_origin:a}),'timeout'===a&&e.Metrics.videoCount(n.publicApi,'player/visitor_key/shim_timeout',1,{visitor_key:e.visitorKey.value()}),'suggested'===a&&e.Metrics.videoCount(n.publicApi,'player/visitor_key/suggested',1,{visitor_key:e.visitorKey.value()}),/-conflict$/.test(a)))return e.Metrics.videoCount(n.publicApi,'player/visitor_key/conflict',1,{visitor_key:e.visitorKey.value()})})}}(this)):void 0},t.prototype.debounceTransmit=function(){return e.timeout(this.publicApi.uuid+'.transmit_play_data',function(e){return function(){return e.transmit()}}(this),350)},t.prototype.log=function(e,t,n){var i;if(this.publicApi._attrs.shouldTrack)return this.publicApi.info('_tracker.log',e,t,n),'conversion'===e?(this.params.conversionType=t,this.params.conversionData=n,this.transmit({force:!0})):(i={key:e,value:this.timeInVideo(),timeDelta:this.timeDelta()},'initialized'===e?(i.lastAccountInstance=this._lastLoadForAccount,i.lastMediaInstance=this._lastLoadForMedia):'play'===e?(i.lastAccountInstance=this._lastPlayForAccount,i.lastMediaInstance=this._lastPlayForMedia):'playbackRateChange'===e?i.value=n:'percentWatchedThreshold'===e?i.value=n:'cameraPosition'===e&&(i.value=n),this.publicApi.debug('_tracker.log',i),this.eventQueue.push(i))},t.prototype.logConversionOpportunity=function(t){var n;return this.publicApi._attrs.shouldTrack?null==t.co_key?e.Metrics.videoCount(this.publicApi,'player/no-co-key',1):(n={key:'conversion',value:t,timeDelta:this.timeDelta()},this.publicApi.info('_tracker.logConversionOpportunity',t),this.eventQueue.push(n)):void 0},t.prototype.logAction=function(e,t){var n,i,r;return null==t&&(t={}),n={time:this.publicApi.time(),key:e,type:'default',category:'default',text:'test',uniqueToVisitor:!1},i=a({},n,t),r={value:i,key:'action',timeDelta:this.timeDelta()},this.eventQueue.push(r)},t.prototype.clearActionRecordings=function(){return['chapterImpression','chapterConversion','shareImpression','shareConversion'].forEach(function(e){return function(t){return Wistia.localStorage('action_recorded.'+e.publicApi.hashedId()+'.'+t,'',!0)}}(this))},t.prototype.logCaptionSelection=function(e){var t;if(this.publicApi._attrs.shouldTrack)return e.caption_key?(t={key:'caption',value:e,timeDelta:this.timeDelta()},this.publicApi.info('_tracker.logCaptionSelection',e),this.eventQueue.push(t)):void 0},t.prototype.logChapterClick=function(e,t){return this.logAction('chapterConversion',{text:e.title,type:'conversion',category:'chapter',uniqueToVisitor:!0,time:t}),this.logAction('chapterSelection-'+e.id,{text:e.title,type:'interaction',category:'chapter',time:t})},t.prototype.logShareClick=function(e){return this.logAction('shareConversion',{text:e,type:'conversion',category:'share',uniqueToVisitor:!0}),this.logAction('shareClick-'+e,{text:e,type:'interaction',category:'share'})},t.prototype.timeInVideo=function(){var e;return e=this.publicApi.time(),null==e&&('beforeplay'===this.publicApi.state()?e=0:e=this.publicApi.duration()),e.toFixed(1)},t.prototype.timeDelta=function(){return new Date().getTime()-this.clockStart},t.prototype.visitorKey=function(){return e.visitorKey.ready()?e.visitorKey.value():null},t.prototype.eventKey=function(){return this.isValidKey(this._eventKey)?this._eventKey:(this._eventKey=e.uniqId('6888d3755d07808572992ec8a0cc4b33896ec0ac'.substring(0,7)+'_'),this._eventKey)},t.prototype.monitorCameraPosition=function(){return this._lastPitch=0,this._lastHeading=0,this.publicApi.rebind('lookchange',this.onLookChange)},t.prototype.unmonitorCameraPosition=function(){return this.publicApi.unbind('lookchange',this.onLookChange)},t.prototype.onLookChange=function(e){var t;if('playing'===this.publicApi.state())return this._heading=e.heading,this._pitch=e.pitch,t=this._getIsInsidePauseBoundary(),this._cameraPauseTimeoutSet?!t&&(clearTimeout(this._cameraPauseTimeout),this._cameraPauseTimeoutSet=!1):!t&&(this._setPauseTimeout(),this._prevIsInsidePauseBoundary&&this._logCurrentCameraPosition()),this._prevIsInsidePauseBoundary=t},t.prototype._logCurrentCameraPosition=function(){var e,t,n,i;if(null!=(i=this.publicApi._mediaData)&&i.spherical)return(n='function'==typeof(e=this.publicApi).look?e.look():void 0,!!n)?(this._heading||(this._heading=n.heading),this._pitch||(this._pitch=n.pitch),t=this.publicApi.time()+','+this._heading.toFixed()+','+this._pitch.toFixed(),this.log('cameraPosition',null,t)):void 0},t.prototype._setPauseTimeout=function(){return this._startHeading=this._heading,this._startPitch=this._pitch,this._cameraPauseTimeoutSet=!0,this._cameraPauseTimeout=setTimeout(function(e){return function(){return e._cameraPauseTimeoutSet=!1,e._logCurrentCameraPosition()}}(this),250)},t.prototype._getIsInsidePauseBoundary=function(){var e,t;return null==this._startHeading&&(this._startHeading=0),null==this._startPitch&&(this._startPitch=0),e=this._angularDistance(this._heading,this._startHeading),t=this._angularDistance(this._pitch,this._startPitch),5>e&&5>t},t.prototype._angularDistance=function(e,t){return Math.min(360-n(e-t),n(e-t))},t}()}(Wistia);
},function(e,t,n){var i;i=n(13),Wistia.base64||(Wistia.base64={}),Wistia.base64.decode||(Wistia.base64._keyStr='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=',Wistia.base64.encode=i.base64Encode);
},function(e,t,n){var i;i=n(13),Wistia.base64||(Wistia.base64={}),Wistia.base64.decode||(Wistia.base64._keyStr='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=',Wistia.base64.decode=i.base64Decode);
},function(e,t,n){(function(e){var t,i,a,r,l,s,d,p,u,c;if(!e.remote)return d=n(19),s=n(15),i=n(18),a=e.Hosts=n(5),t=e.Ajax=n(24),r=e.MediaData=n(30),l=e.PlaylistData=n(31),c=n(17),p=c.jsonp,u=c.jsonpPlus,e.remote={},e.remote.appHostname=d,e.remote.embedHost=a.cdnFastWistiaComHost,e.remote.externalEmbedHost=a.cdnFastWistiaNetHost,e.remote.appHost=a.appHost,e.remote.assetHost=a.deliveryHost,e.remote.assetUrlWithCorrectHost=function(e,t,n){return i.assetUrlWithCorrectHost(t,n)},e.remote.findScriptInDomBySrc=s.findScriptInDomBySrc,e.remote.script=s.runScript,e.remote.scripts=s.runScripts,e.remote.scriptInputsToHash=s.scriptInputsToHash,e.remote.ajaxDefaults=t.AJAX_DEFAULTS,e.remote.get=t.ajaxGet,e.remote.head=t.ajaxHead,e.remote.post=t.ajaxPost,e.remote.ajax=t.ajax,e.remote.canEditMedia=r.canEditMedia,e.remote.media=r.fetchMedia,e.remote._isEmbedSslMedia=r.isEmbedSslMedia,e.remote._convertEmbedSslToAkamai=r.convertEmbedSslToAkamai,e.cacheMedia=r.cacheMedia,e.uncacheMedia=r.uncacheMedia,e.mediaFromCache=r.mediaFromCache,e.remote.playlist=l.fetchPlaylist,e.remote.fetch=u,e.jsonp={get:p}})(Wistia);
},function(e,t,n){(function(e){var t,i,a,r,l,s;if(!e.Metrics)return i=n(5).metricsHost,r=n(32),a=r.msend,s=r.send,t=r.count,l=r.sample,e.Metrics={count:t,sample:l,send:s,msend:a,videoCount:function(e,t,n,i){return null==n&&(n=1),this.videoSend(e,'count',t,n,i)},videoSample:function(e,t,n,i){return this.videoSend(e,'sample',t,n,i)},videoSend:function(t,n,i,a,r){return null==r&&(r={}),'function'==typeof t.hasData?t.hasData(function(l){return function(){var s,d,p,u,c,m,h,g,y,f,_,b,v,A,w;if(s=('function'==typeof t.bandwidthTest?t.bandwidthTest().savedResult():void 0)||{},r=e.obj.merge({location:('undefined'!=typeof location&&null!==location?null==(p=location.protocol)?void 0:p.length:void 0)&&('undefined'!=typeof location&&null!==location?null==(g=location.hostname)?void 0:g.length:void 0)?location.protocol+'//'+location.hostname:null,agent:navigator.userAgent,account_key:null==(y=t._mediaData)?void 0:y.accountKey,at:t.time(),video_id:t.hashedId(),embed_type:t.playerType,duration:t.duration(),client_kbps:s.clientKbps,supports_hd:s.supportsHd,autoplay:null!=(f=t._opts)&&f.autoPlay,in_iframe:top!==self,device_pixel_ratio:window.devicePixelRatio,window_width:e.elem.width(window),window_height:e.elem.height(window),video_width:t.videoWidth(),video_height:t.videoHeight(),visitor_key:null==(_=t._tracker)?void 0:_.visitorKey(),event_key:null==(b=t._tracker)?void 0:b.eventKey(),event_time_delta:null==(v=t._tracker)?void 0:v.timeDelta(),connection_type:l.connectionType(),version:9,channel:e.channelName},r),/romulus|html5|vulcan/.test(t.playerType)&&(e.detect.trident?r.errorState=null==(A=t.elem())||null==(w=A.error)?void 0:w.code:r.errorState=null==(u=t.elem())?void 0:u.error),null!=t._cacheStatus&&(r.cache_status=t._cacheStatus),null!=t._assetServer&&(r.asset_server=t._assetServer),null!=t._cacheHit&&(r.cache_hit=t._cacheHit),t.inFullscreen&&(r.in_fullscreen=t.inFullscreen()),null==t._substream?(r.substream=null,r.adaptive=null,d=null==(c=t.data)?void 0:c.asset):(r.substream=t._substream.index,r.adaptive=t._substream.adaptive,r.current_level=t._substream.currentLevel,r.all_level_names=t._substream.allLevelNames,d=t._substream.asset,r.hls_error_counts=t._substream.hlsErrorCounts()),null!=d&&(r.asset_type=d.type,r.asset_slug=d.slug,r.bitrate=d.bitrate,r.asset_height=d.height,r.asset_width=d.width),0<(null==(m=t.videoElem)||null==(h=m.buffered)?void 0:h.length)&&(r.bufferedFrom0=t.videoElem.buffered.end(0)),null!=t._timeToFirstByte&&(r.time_to_first_byte=t._timeToFirstByte),r.buffered=null==t.totalBuffered?void 0:t.totalBuffered(),r.played=null==t.totalPlayed?void 0:t.totalPlayed(),l.send(n,i,a,r),t._mediaData&&t._mediaData.accountKey&&t._mediaData.accountSpecificMetrics)return l.send(n,t._mediaData.accountKey+'/'+i,a,r)}}(this)):void 0},countEvent:function(e,t,n){var i;return n||(n=t),null==(i=this._private.countEventCallbacks)[n]&&(i[n]=this._private.mkCountEventCallback(t,n)),e.rebind(t,this._private.countEventCallbacks[n])},countEventOnce:function(e,t,n){var i;return n||(n=t),null==(i=this._private.countEventOnceCallbacks)[n]&&(i[n]=this._private.mkCountEventOnceCallback(t,n)),e.rebind(t,this._private.countEventOnceCallbacks[n])},sampleEvent:function(e,t,n){var i;return n||(n=t),null==(i=this._private.sampleEventCallbacks)[n]&&(i[n]=this._private.mkSampleEventCallback(t,n)),e.rebind(t,this._private.sampleEventCallbacks[n])},countShowLoadingOnce:function(e){var t;return t=-1,e.bind('waiting',function(n){return function(i){return 2>t&&2<=i?(n.videoCount(e,'player/show-loading/first',1),t=i,e.unbind):t=i}}(this))},countShowLoadingAll:function(e){var t;return t=-1,e.bind('waiting',function(n){return function(i){return 2>t&&2<=i&&n.videoCount(e,'player/show-loading/all',1),t=i}}(this)),e.bind('done-waiting',function(){return t=-1})},countShowLoadingLongTimeOnce:function(e){var t;return t=-1,e.bind('waiting',function(n){return function(i){return 5>t&&5<=i?(n.videoCount(e,'player/show-loading-long-time/first',1),t=i,e.unbind):t=i}}(this))},countShowLoadingLongTimeAll:function(e){var t;return t=-1,e.bind('waiting',function(n){return function(i){return 5>t&&5<=i&&n.videoCount(e,'player/show-loading-long-time/all',1),t=i}}(this)),e.bind('done-waiting',function(){return t=-1})},assetBuckets:function(t){var n,i;return n=t.engine?t.engine.currentAsset():t._currentAsset,i=e.detect.iphone||e.detect.android||e.detect.blackberry||/mobile/i.test(navigator.userAgent),n?i?e.detect.iphone?['mobile','iphone']:e.detect.android?['mobile','android']:['mobile']:/hls/.test(n.type)?['hls']:/md/.test(n.type)?['md']:/hd/.test(n.type)?['hd']:['sd']:[]},connectionType:function(){var e;return e=window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection,null==e?void 0:e.type},sumTimeRanges:function(e){var t,n,i,a;if(null==e)return null;for(a=0,t=n=0,i=e.length;0<=i?n<i:n>i;t=0<=i?++n:--n)a+=e.end(t)-e.start(t);return a},millisecondsSince:function(e){return new Date().getTime()-e},_private:{countEventCallbacks:{},mkCountEventCallback:function(t,n){return function(i){return n||(n=t),e.Metrics.videoCount(this,'player/'+n,i)}},countEventOnceCallbacks:{},mkCountEventOnceCallback:function(t,n){return function(i){return n||(n=t),e.Metrics.videoCount(this,'player/'+n,i),this.unbind}},sampleEventCallbacks:{},mkSampleEventCallback:function(t,n){return function(i){return n||(n=t),e.Metrics.videoSample(this,'player/'+n,i)}}}}})(Wistia);
},function(){(function(e){if(e.Plugin||(e.Plugin={}),!e.Plugin.Base)return(e.Plugin.Base=function(){function t(){this.pluginName='plugin',this}return t.prototype.instances=function(){return e.data(['plugins',this.pluginName,this.video.uuid])},t.prototype.register=function(t){var n;return n=this.playlist||this.video,n.plugins[this.uuid]=t,e.data(['plugins',this.pluginName,n.uuid,this.uuid],t)},t.prototype.remove=function(t){var n;if(null==t&&(t={}),n=this.playlist||this.video,n.plugins[this.uuid]=null,e.removeData(['plugins',this.pluginName,n.uuid,this.uuid]),n.plugins[this.uuid]===this&&delete n.plugins[this.uuid],n.plugin[this.pluginName]===this&&delete n.plugin[this.pluginName],!t.dontFit)return e.grid.fitHorizontal(n),e.grid.fitVertical(n)},t.prototype.fit=function(){},t.prototype.init=function(t,n){return null==t.plugins&&(t.plugins={}),(null==t?void 0:t.playlist)?this.playlist=t:this.video=t,this.target=this.playlist||this.video,this.options=n||{},this.params=e.extend({},n||{}),this.uuid=this.params.uuid||e.seqId('wistia_','_plugin')},t}(),!e.plugin)?(e.plugin=function(t,n){var i,a,r,l,s,d;if((i=null==(l=e.pluginQueue)||null==(s=l[t])?void 0:s.shift())&&(r=function(){var e,a;return i.video.info('initializing plugin',t,i.options),e=n(i.video._impl||i.video,i.options)||!0,i.video.plugin[t]=e,i.video._impl&&(i.video._impl.plugin[t]=e),i.video.trigger('plugininitialized',t),null==(a=i.video._pluginStopGos)?void 0:'function'==typeof a[t]?a[t](!0,e):void 0},a=function(){return i.options.initBeforeHasData?r():i.video.hasData(r)},!0!==i.options.initBeforeHasData&&(null==(d=i.video)?void 0:d.looksDown())?(i.video.notice('W.plugin: delaying initialization of plugin until "up"',t,i.options),i.video.bind('up',function(){return a(),this.unbind})):i.video._implVersion===i.implVersion?a():i.video.notice('W.plugin impl changed, ignoring initialization',t,i.options)),!e.plugin[t])return e.plugin[t]=n},e.plugin._scriptsFromVideo=function(t){var n,a,i,r,l,d,p,u,c,m,h,g,y,f,_,b;if(u=e.plugin._scriptsFromOptions(t._opts),u=u.concat(e.plugin._scriptsFromOptions({plugin:t._playerPlugins||[]})),(e.detect.safari||e.detect.iphone||e.detect.ipad)&&'vulcan-v2'===t._opts.playerPreference&&(n={name:'airplay',options:(null==(c=t._opts.plugin)?void 0:c.airplay)||{},async:!0,src:e.proto()+'//'+e.remote.embedHost()+'/assets/external/airplay.js'},u.push(n)),'vulcan-v2'===t._opts.playerPreference&&t._opts.chaptersOn&&(null==(m=t._opts.plugin)||!m.chapters)&&(u=u.concat(e.plugin._scriptsFromOptions({plugin:{chapters:{async:!1}}}))),'vulcan-v2'===t._opts.playerPreference&&(null==(h=t._opts.plugin)?void 0:h['captions-v1']))for(a=0,l=u.length;a<l;a++)b=u[a],'captions-v1'===b.name&&(b.name='captions',b.src=b.src.replace(/captions-v1/,'captions'));if('vulcan-v2'===t._opts.playerPreference&&(null==(g=t._opts.plugin)?void 0:g.share))for(i=0,d=u.length;i<d;i++)b=u[i],'share'===b.name&&(b.name='share-v2',b.src=b.src.replace(/share/,'share-v2'));if('vulcan-v2'===t._opts.playerPreference&&(null==(y=t._opts.plugin)?void 0:y['postRoll-v1']))for(r=0,p=u.length;r<p;r++)b=u[r],'postRoll-v1'===b.name&&(b.name='postRoll-v2',b.src=b.src.replace(/postRoll-v1/,'postRoll-v2'));return'vulcan-v2'===t._opts.playerPreference&&t._opts.showCustomerLogo&&t._opts.customerLogoImageUrl&&t._mediaData.enableCustomerLogo&&u.push({name:'customerLogo',options:(null==(f=t._opts.plugin)?void 0:f.customerLogo)||{},async:!0,src:e.proto()+'//'+e.remote.embedHost()+'/assets/external/customerLogo.js'}),'vulcan-v2'===t._opts.playerPreference&&(!0===t._opts.branding||!0===t._mediaData.branding)&&u.push({name:'wistiaLogo',options:(null==(_=t._opts.plugin)?void 0:_.wistiaLogo)||{},async:!0,src:e.proto()+'//'+e.remote.embedHost()+'/assets/external/wistiaLogo.js'}),e.plugin._setFnForDefinedPlugins(t,u),u},e.plugin._prefetched={},e.plugin._scriptsFromOptions=function(t){var n,i,a,r,l,s,d;for(i in r=[],l=t.plugin,l)(a=l[i],!!t.plugin.hasOwnProperty(i))&&!1!==(null==a?void 0:a.on)&&(s=e.plugin._getSourceName(i),n={name:s,options:a,src:e.proto()+'//'+e.remote.embedHost()+'/assets/external/'+s+'.js',async:null==a.async?!/^(requireEmail|captions|socialbar|transcript|midrollLink|share)/.test(i):a.async},a.src&&e.plugin._allow3rdParty(t)&&(n.src=a.src),/transcript/.test(i)&&(d='https:'===e.proto()?'https://s3.amazonaws.com/origin-p3.3playmedia.com/javascripts/vendor/jquery-1.6.2.min.js':'http://p3.3playmedia.com/javascripts/vendor/jquery-1.6.2.min.js',r.push({src:d,async:!1})),r.push(n));return e.plugin._orderScripts(r)},e.plugin._orderScripts=function(e){var t,n;return t=function(e){var t;return t=0,null!=(null==e?void 0:e.options)&&'loadWeight'in e.options&&(t=e.options.loadWeight),t},n=e.sort(function(e,n){return t(e)-t(n)}),n},e.plugin._getSourceName=function(e){var t;return t=function(){return'socialbar'===e?'socialbar-v1':'requireEmail'===e?'requireEmail-v1':'postRoll'===e?'postRoll-v1':'transcript'===e?'transcript-v2':e}(),t},e.plugin._inject=function(t,n,i){var a,r;if(null==i&&(i={}),!1!==i.on)return a=e.proto()+'//'+e.remote.embedHost()+'/assets/external/'+n+'.js',r=[{name:n,options:i,src:i.src&&e.plugin._allow3rdParty(t.options)?i.src:a,async:!0}],e.plugin._setFnForDefinedPlugins(t,r),e.plugin._execQueue(t,r)},e.plugin._allow3rdParty=function(e){return!1!==(null==e?void 0:e.allowThirdParty)&&!/([\w\_\-]+\.)?wistia\.(com|st)$/.test(window.location.hostname)},e.plugin._setFnForDefinedPlugins=function(t,n){var a,i,r,l;for(r=[],a=0,i=n.length;a<i;a++)l=n[a],e.plugin[l.name]&&r.push(function(n){return n.fn=function(){var i;return i=function(){var i,a,r;return a=e.plugin[n.name](t._impl||t,n.options)||!0,t.plugin[n.name]=a,t._impl&&(t._impl.plugin[n.name]=a,t.trigger('plugininitialized',n.name)),null==(r=t._pluginStopGos)?void 0:'function'==typeof r[i=n.name]?r[i](!0,a):void 0},n.options.initBeforeHasData?i():t.hasData(i)},n.async=!1}(l));return r},e.plugin._queueUndefinedPlugins=function(t,n){var a,i,r,l,s,d;for(null==e.pluginQueue&&(e.pluginQueue={}),s=[],(a=0,i=n.length);a<i;a++)l=n[a],l.subScripts?s.push(function(){var n,i,a,s;for(a=l.subScripts,s=[],(n=0,i=a.length);n<i;n++)d=a[n],r=d.name||d.src,null==e.pluginQueue[r]&&(e.pluginQueue[r]=[]),l.fn?s.push(void 0):s.push(e.pluginQueue[r].push({video:t,implVersion:t._implVersion,options:d.options}));return s}()):(r=l.name||l.src,null==e.pluginQueue[r]&&(e.pluginQueue[r]=[]),l.fn?s.push(void 0):s.push(e.pluginQueue[r].push({video:t,implVersion:t._implVersion,options:l.options})));return s},e.plugin._execQueue=function(t,n,i){return e.plugin._queueUndefinedPlugins(t,n),e.remote.scripts(n,i)},e.plugin._init=function(t,n,i){var a,r,l;return l=t.charAt(0).toUpperCase()+t.substr(1),r=e.Plugin[l],a=new r,a.init(n,i),a},e.plugin._instance=function(t,n,i){return e.data(['plugins',t,n.uuid,i])},e.plugin._remove=function(t,n,i){var a;null!=(a=e.plugin._instance(t,n,i))&&a.remove()},e.plugin._isActive=function(t,n,i){return!!e.plugin._instance(t,n,i)},e.plugin._defined=function(){var t,n,i,a;for(t in n=e.plugin,i=[],n)a=n[t],/^_/.test(t)||i.push({name:t,options:a});return i}):void 0})(Wistia);
},function(){(function(e){var t;if(!e.seo)return t=e.seo={},e.seo.inject=function(){}})(Wistia);
},function(e,t,n){(function(e){var t;if(!e.localStorage)return t=n(26),e.localStorage=t.setOrGet,e.removeLocalStorage=t.removeLocalStorage,e.dumpLocalStorage=t.dumpLocalStorage,e._initializers.initLocalStorage=function(){return t.init()},e._destructors.destroyLocalStorage=function(){return t.uncache()}})(Wistia);
},function(){(function(n){return n.cookie?void 0:n.cookie=function(i,a,r){var l,s,d,e,p;if(1<arguments.length&&'[object Object]'!==a+''){r=n.extend({},r),null==a&&(r.expires=-1),'number'==typeof r.expires&&(l=r.expires,p=r.expires=new Date,p.setDate(p.getDate()+l)),a=a+'';try{return document.cookie=[encodeURIComponent(i),'=',r.raw?a:encodeURIComponent(a),r.expires?'; expires='+r.expires.toUTCString():'',r.path?'; path='+r.path:'',r.domain?'; domain='+r.domain:'',r.secure?'; secure':''].join('')}catch(e){if(d=e,/sandbox/i.test(d.message))n.notice('sandboxed, can\'t write cookie'),null;else throw d}}r=a||{},s=r.raw?function(e){return e}:decodeURIComponent;try{return(e=new RegExp('(?:^|; )'+encodeURIComponent(i)+'=([^;]*)').exec(document.cookie))?s(e[1]):null}catch(e){if(d=e,/sandbox/i.test(d.message))return n.notice('sandboxed, can\'t get cookie'),null;throw d}}})(Wistia);
},function(){(function(e){e.gridify||(e.gridifyCss=function(e){var t;return t=e.replace(/_grid$/,''),'#'+e+'_wrapper{-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box;font-family:Arial,sans-serif;font-size:14px;height:100%;position:relative;text-align:left;width:100%;}\n#'+e+'_wrapper *{-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box;}\n#'+e+'_above{position:relative;}\n#'+e+'_main{display:block;height:100%;position:relative;}\n#'+e+'_behind{height:100%;left:0;position:absolute;top:0;width:100%;}\n#'+e+'_center{height:100%;overflow:hidden;position:relative;width:100%;}\n#'+e+'_front{display:none;height:100%;left:0;position:absolute;top:0;width:100%;}\n#'+e+'_top_inside{position:absolute;left:0;top:0;width:100%;}\n#'+e+'_top{width:100%;position:absolute;bottom:0;left:0;}\n#'+e+'_bottom_inside{position:absolute;left:0;bottom:0;width:100%;}\n#'+e+'_bottom{width:100%;position:absolute;top:0;left:0;}\n#'+e+'_left_inside{height:100%;position:absolute;left:0;top:0;}\n#'+e+'_left{height:100%;position:absolute;right:0;top:0;}\n#'+e+'_right_inside{height:100%;right:0;position:absolute;top:0;}\n#'+e+'_right{height:100%;left:0;position:absolute;top:0;}\n#'+e+'_below{position:relative;}'},e.gridifyHtml=function(e){return{id:e+'_wrapper',childNodes:[{id:e+'_above'},{id:e+'_main',childNodes:[{id:e+'_behind'},{id:e+'_center'},{id:e+'_front'},{id:e+'_top_inside',childNodes:{id:e+'_top'}},{id:e+'_bottom_inside',childNodes:{id:e+'_bottom'}},{id:e+'_left_inside',childNodes:{id:e+'_left'}},{id:e+'_right_inside',childNodes:{id:e+'_right'}}]},{id:e+'_below'}]}},e.createGrid=function(t,n){var i;return i=e.createGridSkeleton(),e.initGridDimensions(t,i,n),i},e.createGridSkeleton=function(){var t,n,a,r,i,l,s,d;for(n=e.seqId('wistia_grid_'),a=e.elem.fromObject(e.gridifyHtml(n)),t=e.css(a,e.gridifyCss(n)),l={},l.css=t,l.root=a,e.elem.style(a,{display:'none'}),e.elem.append(document.body,a),d=['wrapper','main','above','below','top','right','bottom','left','top_inside','right_inside','bottom_inside','left_inside','front','center','behind'],(r=0,i=d.length);r<i;r++)s=d[r],l[s]=document.getElementById(n+'_'+s);return e.elem.remove(a),e.elem.style(a,{display:'block'}),l},e.initGridDimensions=function(t,n,i){var a,r,l;if(null==i&&(i={}),!1!==i.initDimensions)return(r=t._embedContainer,a=t.chrome,l=t._opts,e.detect.browser.old&&(a.style.width=r.style.width=e.elem.width(r)+'px',a.style.height=r.style.height=e.elem.height(r)+'px'),!e.detect.browser.old)?(a.style.height=e.elem.height(r)+'px',n.main.style.width=e.elem.width(r)+'px'):l.rawEmbed&&l.aspectRatio?n.main.style.height=e.elem.width(n.center)/l.aspectRatio+'px':void 0},e.gridify=function(t,n){var a,r,i,l,s,d;for(s={},a=n.id+'_grid',e.detect.browser.old&&(n.style.width=e.elem.width(n)+'px',n.style.height=e.elem.height(n)+'px'),n.innerHTML=e.generate.html(e.gridifyHtml(a)),l=['wrapper','main','above','below','top','right','bottom','left','top_inside','right_inside','bottom_inside','left_inside','front','center','behind'],(r=0,i=l.length);r<i;r++)d=l[r],s[d]=document.getElementById(a+'_'+d);return e.util.addInlineCss(s.wrapper,e.gridifyCss(a)),e.detect.browser.old?t.rawEmbed&&t.aspectRatio&&(s.main.style.height=e.elem.width(s.center)/t.aspectRatio+'px'):(s.wrapper.style.height=e.elem.height(n)+'px',s.main.style.width=e.elem.width(n)+'px'),s},e.isGridElem=function(e,t){var n,i;for(i in e)if(n=e[i],t===n)return!0;return!1},e.grid={},e.grid.allNodesHidden=function(e){var t,n,i;if(0===e.length)return!0;for(t=0,n=e.length;t<n;t++)if(i=e[t],i.style&&'none'!==i.style.display)return!1;return!0},e.grid.zeroEmptySections=function(t){var n,a,i,r,l,s;for(r=['top','bottom','left','right','above','below'],l=[],(a=0,i=r.length);a<i;a++)s=r[a],n=t.grid[s],n.childNodes.length?e.grid.allNodesHidden(n.childNodes)?(n.style.height='0px',n.style.fontSize='0px',n.style.lineHeight='0px',l.push(n.isEmpty=!0)):(n.style.height='',n.style.fontSize='',l.push(n.style.lineHeight='')):(n.appendChild(document.createTextNode(' ')),n.style.height='0px',n.style.fontSize='0px',n.style.lineHeight='0px',l.push(n.isEmpty=!0));return l},e.grid.wrapperHeight=function(t){var n,i;return n=t.grid.wrapper,i=e.elem.height(n),e.detect.browser.old&&(t._attrs.rawEmbed&&t._embedContainer&&(i=parseInt(t._embedContainer.currentStyle.height,10)),!t._attrs.rawEmbed&&(i=e.util.winHeight())),i},e.grid.wrapperWidth=function(t){var n,i;return n=t.grid.wrapper,i=e.elem.width(n),e.detect.browser.old&&(t._attrs.rawEmbed&&t._embedContainer&&(i=parseInt(t._embedContainer.currentStyle.width,10)),!t._attrs.rawEmbed&&(i=e.util.winWidth())),i},e.grid.fitVertical=function(t){var n,i,a,r,l,s,d=Math.max;t._opts.dontFit||(e.grid.zeroEmptySections(t),i=t.grid,a=i.main,s=i.wrapper,l=d(e.elem.height(i.above),e.elem.height(i.top)),n=d(e.elem.height(i.below),e.elem.height(i.bottom)),r=d(0,e.grid.wrapperHeight(t)-l-n),a.style.height=r+'px',0===e.elem.width(i.left)&&(a.style.left='0px'),a.style.marginTop=e.elem.height(i.top)+'px')},e.grid.fitHorizontal=function(t){var n,i,a,r,l,s;t._opts.dontFit||(e.grid.zeroEmptySections(t),n=t.grid,s=n.wrapper,a=n.main,i=e.elem.width(n.left),l=e.elem.width(n.right),r=e.grid.wrapperWidth(t)-i-l,a.style.width=r+'px',a.style.left=i+'px')},e.grid.fit=function(t,n){/left|right/.test(n)?e.grid.fitHorizontal(t):/top|bottom|above|below/.test(n)&&e.grid.fitVertical(t),t.ieSizeHack()})})(Wistia);
},function(e,t,n){(function(e){return e.Color?void 0:e.Color=n(38)})(Wistia);
},function(e,t,n){(function(t){var i;if(!t.embeds)return t.embeds={},i=n(1).wlog,t.embeds.setup=function(e){return t.embeds.notEmbedding(function(){var n,i,a,r,l,s,d,p,u;t.embeds.notEmbedding(!1),r=[];try{for(e=t.embeds.uninitialized(e),e&&e.length&&0<e.length&&t.info('initializing',null==e?void 0:e.length,'embedElems'),(s=0,d=e.length);s<d;s++){a=e[s];try{t.info('initializing elem',a),l=t.embeds.hashedIdForElem(a,{asyncOnly:!0}),a.id?document.getElementById(a.id)!==a&&(p=t.embeds.genIdFor(l),t.error('Duplicate DOM ID found for container "'+a.id+'". Changing it to "'+p+'" to avoid issues.',a),a.id=p):a.id=t.embeds.genIdFor(l),u=t.embeds.optionsFromElemClass(a),t.options('__'+a.id+'_dom_options__',u),function(e,n){return r.push(function(){if(!t.embeds.containerIsInitialized(n))return t.embed(e,{container:n.id})})}(l,a)}catch(e){n=e,t.error(n)}}}catch(e){i=e,t.error(i)}return r.push(function(){return t.watchForInit()}),r.push(function(){return t.embeds.notEmbedding(!0)}),t.asyncChain('embeds_setup',r)})},t.embeds._setupThrottled=t.util.throttle(500,t.embeds.setup),t.embeds.optionsFromElemClass=function(e){var n,i,a,r,l,s;for(r=[],s=t.elem.classes(e),(n=0,a=s.length);n<a;n++)i=s[n],0<i.indexOf('=')&&r.push(i);return l=t.url.paramsToJson(r.join('&')),t.obj.cast(l),l},t.embeds.hashedIdForElem=function(e,t){var n,i,a,r,l,s;return null==t&&(t={}),t.asyncOnly?(null==(n=e.className)||null==(i=n.match(/wistia_async_([^\s]+)/))?void 0:i[1])||null:(null==(a=e.className)||null==(r=a.match(/wistia_async_([^\s]+)/))?void 0:r[1])||(null==(l=e.className)||null==(s=l.match(/wistia_([^\s]+)/))?void 0:s[1])||null},t.embeds.genIdFor=function(e){var t,n,a;for(t='wistia-'+e,a=1;n=t+'-'+a,!!document.getElementById(n);)a+=1;return n},t.embeds._options={},t.embeds.options=function(e,n){var i,a,r,l;if(t.obj.isObject(e)&&(n=e,e='__global__'),null!=n)return t.embeds._options[e]=t.obj.cast(t.obj.clone(n));if(e){if(t.embeds._options[e])return t.embeds._options[e];if(i=t.api(e),null===i)return{};for(a in r=t.embeds._options,r)if(l=r[a],t.api(a)===i)return l;return{}}return t.embeds._options},t.options=t.embeds.options,t.embeds.api=function(e){var n,i,a,r,l,s,d;return null==e&&(e='wistia_embed'),document.querySelectorAll?document.querySelectorAll('div.'+e+',span.'+e):(i=(null==(r=document.body)?void 0:r.getElementsByTagName('div'))||[],d=(null==(l=document.body)?void 0:l.getElementsByTagName('span'))||[],n=function(){var n,r,l;for(l=[],n=0,r=i.length;n<r;n++)a=i[n],t.elem.hasClass(a,e)&&l.push(a);return l}(),s=function(){var n,i,r;for(r=[],n=0,i=d.length;n<i;n++)a=d[n],t.elem.hasClass(a,e)&&r.push(a);return r}(),n.concat(s))},t.embeds.uninitialized=function(e){var n,i,a,r,l;for(null==e&&(e=t.embeds.api()),l=[],(a=0,r=e.length);a<r;a++)n=e[a],i=t.embeds.hashedIdForElem(n,{asyncOnly:!0}),i&&!t.embeds.containerIsInitialized(n)&&l.push(n);return l},t.embeds.containerIsInitialized=function(){return function(e){return e&&e.wistiaApi}}(this),t.embeds.initialized=function(){var e,n,i,a;for(a in n=t._data.video,i=[],n)e=n[a],i.push(e);return i},t.embeds.observe=function(){var n,a;if(!t.embeds.initObserver){if(t.embeds.initObserver=t.elem.mutationObserver(function(e){var n,i,a,r,l,s,d,p,u,c;for(i=[],n=!1,(a=0,r=e.length);a<r;a++)for(d=e[a],0<(null==(u=d.addedNodes)?void 0:u.length)&&(n=!0),c=d.addedNodes||[],(s=0,l=c.length);s<l;s++)p=c[s],t.elem.hasClass(p,'wistia_embed')&&i.push(p);if(0<i.length&&setTimeout(function(){return t.embeds.setup(i)},10),n)return t.embeds._setupThrottled()}),n={subtree:!0,childList:!0},0<t.detect.ios.version)return t.util.onDocReady(function(){return t.embeds.initObserver.observe(document.body,n)});try{return t.embeds.initObserver.observe(document.body,n)}catch(e){return a=e,i.notice(a),t.util.onDocReady(function(){return t.embeds.initObserver.observe(document.body,n)})}}},t.embeds.unobserve=function(){var e;return null!=(e=t.embeds.initObserver)&&e.disconnect(),t.embeds.initObserver=null},t.embeds.poll=function(e){return null==e&&(e=500),t.eventLoop.add('poll_setup_embeds',e,function(){return t.embeds.setup()})},t.embeds.unpoll=function(){var e;return null==(e=t.eventLoop)?void 0:e.remove('poll_setup_embeds')},t.embeds.watch=function(){return t.embeds._dontWatch=!1,t.detect.mutationObserver&&!t.detect.trident?(t.embeds.observe(),t.embeds.poll(2e3)):t.embeds.poll()},t.embeds.dontWatch=function(){return t.embeds._dontWatch=!0,t.embeds.unwatch()},t.embeds.unwatch=function(){return t.embeds.unobserve(),t.embeds.unpoll()},t.flushInit=function(){var n,e,a,r;if(window.wistiaInit){if(wistiaInit instanceof Array)for(a=0,r=wistiaInit.length;a<r;a++){e=wistiaInit[a];try{'function'==typeof e&&e(t)}catch(e){n=e,i.error(n)}}else'function'==typeof wistiaInit&&wistiaInit(t);return window.wistiaInit=null}},t.addQueue=function(e){return t._queueNames.push(e),t.watchForInit()},t._queueNames=['_wq','wistiaInitQueue'],t._wqBoundListeners=[],t.flushInitQueue=function(){var n,e,a,r,l,s,d,p,u,c,m,h,g,y,f,_;for(g=t._queueNames,y=[],(l=0,d=g.length);l<d;l++)if(m=g[l],c=window[m],!!(c&&c instanceof Array&&0<c.length)){for(r=[];0<c.length;)if(f=c.shift(),!t.obj.isObject(f))'function'==typeof f?function(e){var n;return n=function(){return e(t)},r.push(n)}(f):t.notice(m+': Don\'t know what to do with '+f+', ignoring.');else if(f.revoke&&t.revokeQueueListener(f.revoke),f.__unbinds||(f.__unbinds=[]),f.id)h=!1,f.options&&('_all'===f.id?(t.options(f.options),h=!0):(t.options(f.id,f.options),h=!0)),function(e){var n,i;return i='_all'===e.id?[]:[e.id],e.onFind&&(n=i.concat([function(t){return e.onFind(t)}]),e.__unbinds=e.__unbinds.concat(t.api.apply(t,n)),h=!0),e.onHasData&&(n=i.concat([function(t){return t.hasData(function(){return e.onHasData(t)})}]),e.__unbinds=e.__unbinds.concat(t.api.apply(t,n)),h=!0),e.onEmbedded&&(n=i.concat([function(t){return t.embedded(function(){return e.onEmbedded(t)})}]),e.__unbinds=e.__unbinds.concat(t.api.apply(t,n)),h=!0),e.onReady&&(n=i.concat([function(t){return t.ready(function(){return e.onReady(t)})}]),e.__unbinds=e.__unbinds.concat(t.api.apply(t,n)),h=!0),h?t._wqBoundListeners.push(e):t.error('No initialization function provided for ID '+e.id,e)}(f);else for(s in a=function(e,n,i){var a,l;if('function'==typeof i)return l=function(e){return e.hasData(function(){return i(e)})},a=function(){return e.__unbinds='_all'===n?e.__unbinds.concat(t.api(l)):e.__unbinds.concat(t.api(n,l)),t._wqBoundListeners.push(e)},r.push(a);if(t.obj.isObject(i))return a='_all'===n?function(){return t.options(i)}:function(){return t.options(n,i)},r.push(a);if('__unbinds'===n||'revoke'===n);else return t.error('Unknown initialization object:',i,'Expected Object or Function.')},f)_=f[s],a(f,s,_);for(u=0,p=r.length;u<p;u++){e=r[u];try{'function'==typeof e&&e(t)}catch(e){n=e,i.error(n)}}y.push(c.length=0)}return y},t.getInitQueueListeners=function(){return t.obj.assign([],t._wqBoundListeners)},t.revokeQueueListener=function(e){var n,i,a,r,l,s,d,p;for(d=e instanceof Array?e:[e],s=[],(n=0,i=d.length);n<i;n++){if(e=d[n],e.__unbinds){for(l=e.__unbinds,r=0,a=l.length;r<a;r++)p=l[r],'function'==typeof p&&p();delete e.__unbinds}s.push(t._wqBoundListeners=t._wqBoundListeners.filter(function(t){return t!==e}))}return s},t.watchForInit=function(){if(null==t._pollInit&&(t._pollInit=function(){return t.flushInitQueue(),t.flushInit()}),t._pollInit(),t.eventLoop)return t.eventLoop.unpause('poll_init'),t.eventLoop.add('poll_init',500,t._pollInit)},t.api=function(e,n){var i,a,r,l,s,d,p,u,c,m,h;if(null!=e){if(n)return t.api.onFind(e,n);if('function'==typeof e)return t.api.onFind(e);if('string'!=typeof e)'number'==typeof e?(s=e,i=t.api.all(),0>s&&(s=i.length+s),r=(null==(h=i[s])?void 0:h.container)||null):window.HtmlElement&&e instanceof HtmlElement?r=e:t.error('W.api: Unrecognized matcher',e);else if(u=e,r=document.getElementById(u),!r)for(a=t.api.all(),d=0,p=a.length;d<p;d++)if(l=a[d],0===(null==(c=l.hashedId())?void 0:c.indexOf(u))||0===(null==(m=l.container.id)?void 0:m.indexOf(u))){r=l.container;break}return(null==r?void 0:r.wistiaApi)&&(r.wistiaApi instanceof t.PublicApi||r.wistiaApi instanceof t.IframeApi)?r.wistiaApi:null}return t.api.all()[0]||null},t.api.all=function(){return t.api._apiHandles().concat(t.api._iframeHandles())},t.api._apiHandles=function(){return t.embeds.initialized()},t.api._apiHandlesByDomOrder=function(){var e,n,i,a,r;for(n=t.embeds.api('wistia_embed_initialized'),r=[],(i=0,a=n.length);i<a;i++)e=n[i],e.wistiaApi&&e.wistiaApi instanceof t.PublicApi&&r.push(e.wistiaApi);return r},t.api._iframeHandles=function(){var e,n,i,a;for(a in n=t._data.iframe_api,i=[],n)e=n[a],i.push(e);return i},t.api.onFind=function(e,n){var i,a;return'function'==typeof e&&(n=e,e=null),i=function(i){return(null===e||t.api(e)===i)&&(n(i),!0)},wistiaEmbeds.each(i),a=[wistiaEmbeds.on('initembed',i),wistiaEmbeds.on('afterreplace',i)],function(){return function(){var e,t,n,i;for(n=[],e=0,t=a.length;e<t;e++)i=a[e],n.push(i());return n}}(this)},t._asyncInitSoonAfterLoad=function(e){return null==e&&(e=10),setTimeout(function(){var n;try{return t.embeds.setup(),t.embeds._dontWatch||t.embeds.watch(),t.watchForInit()}catch(e){return n=e,i.error(n)}},e)},t._initializers.initAsyncEmbeds=function(){var e,n,i;return t.embeds.notEmbedding=new t.StopGo,t.embeds.notEmbedding(!0),null==t._data&&(t._data={}),null==(e=t._data).video&&(e.video={}),null==(n=t._data).iframe_api&&(n.iframe_api={}),window._inWistiaIframe?setTimeout(function(){return t.watchForInit()},10):(0<t.detect.ios.version?t.util.onDocReady(t._asyncInitSoonAfterLoad):(!t.util.isDocReady()&&t.util.onDocReady(t._asyncInitSoonAfterLoad),t._asyncInitSoonAfterLoad()),t._asyncInitSoonAfterLoad(500),null==(i=t.eventLoop)?void 0:i.pause('poll_init'))},t._destructors.destroyAsyncEmbeds=function(){var e,n;return t.clearTimeouts('embeds_setup'),null!=(e=t.eventLoop)&&e.remove('poll_init'),null==(n=t.embeds)?void 0:n.unwatch()}})(Wistia);
},function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};(function(t){var n;if(n=t,!n.EmbedLink)return n.EmbedLink=function(){function t(t,i){var a;this.elem=t,this._apiHandle=i,this._onClickLink=e(this._onClickLink,this),this.defaults={autoPlay:!0,transition:'fade'},this.givenOptions=n.EmbedLink.optionsFromElem(this.elem),this.options=n.obj.merge({},this.defaults,this.givenOptions),this.hashedId=n.EmbedLink.hashedIdFromElem(this.elem),this.uuid=n.seqId('wistia_embed_link_'),!1===this.options.includeInPlaylist&&(this._apiHandle=null),!1!==this.options.includeInPlaylist&&(null==(a=this._apiHandle)?void 0:a._opts.playlistLinks)&&!this._apiHandle._inPlaylist(this.hashedId)&&this.apiHandle().addToPlaylist(this.hashedId,this.options),n.elem.rebind(this.elem,'click',this._onClickLink),this.elem._wistiaEmbedLink=this}return t.prototype._onClickLink=function(e){return e.preventDefault(),this._followLink()},t.prototype._followLink=function(){var e,t,n,i,a;if(this.hashedId===(null==(e=this.apiHandle())?void 0:e.hashedId())&&this._onlyRunnableOptionsGiven()?(this.apiHandle()._givenOptions=this.options,this.apiHandle()._opts=this.apiHandle()._gatherOptions(),this.options.autoPlay&&null!=(t=this.apiHandle().plugin['postRoll-v1'])&&t.close(),this.apiHandle()._runMethodsFromOptions()):(null!=(n=this.apiHandle().popover)&&n.show(),this.apiHandle().replaceWith(this.hashedId,this.options)),null==(i=this.apiHandle())?void 0:i.popover)return!1!==(null==(a=this.apiHandle())?void 0:a._opts.autoPlay)&&!1!==this.options.autoPlay?this.apiHandle().play():this.apiHandle().popover.show()},t.prototype._onlyRunnableOptionsGiven=function(){var e,t,n;for(e in t=this.options,t)if(n=t[e],!this._allRunnableOptions[e])return!1;return!0},t.prototype._allRunnableOptions={autoPlay:!0,container:!0,pause:!0,time:!0,transition:!0,volume:!0},t.prototype.apiHandle=function(){return this._apiHandle||(this.options.container?n.api(this.options.container):this.closestEmbed())},t.prototype.closestEmbed=function(e){var t,i,a,r;return(t=n.api._apiHandlesByDomOrder(),0===t.length)?null:1===t.length?t[0]:(a=function(){var e,a,r;for(r=[],e=0,a=t.length;e<a;e++)i=t[e],r.push([i,n.elem.domDistance(this.elem,i.container)]);return r}.call(this),'above'===e?a=function(){var e,t,n;for(n=[],e=0,t=a.length;e<t;e++)r=a[e],0>r[1].across&&n.push(r);return n}():'below'===e&&(a=function(){var e,t,n;for(n=[],e=0,t=a.length;e<t;e++)r=a[e],0<r[1].across&&n.push(r);return n}()),a.sort(function(e,t){var n,i,a=Math.abs;return n=e[1].up+e[1].down+a(e[1].across),i=t[1].up+t[1].down+a(t[1].across),n-i}),a[0][0])},t.prototype.destroy=function(){return n.elem.unbind(this.elem,'click',this._onClickLink),this.elem._wistiaEmbedLink=null,n.EmbedLink._all[this.uuid]=null,delete n.EmbedLink._all[this.uuid]},t.inManualPlaylist=function(e){var t;return!!this.hashedIdFromElem(e)&&(t=this.optionsFromElem(e),t.container&&!1!==t.includeInPlaylist)},t.inContainerPlaylist=function(e){var t;return!!this.hashedIdFromElem(e)&&(t=this.optionsFromElem(e),!1!==t.includeInPlaylist&&n.elem.ancestorHasClass(e,'wistia_playlist_links'))},t.optionsFromElem=function(e){var t,i;return i=this.optionsFromHref(e.getAttribute('href')),t=n.embeds.optionsFromElemClass(e),n.obj.merge(i,t)},t.hashedIdFromElem=function(e){return this.hashedIdFromHref(e.getAttribute('href'))||this.optionsFromElem(e).hashedId},t.matchesElem=function(e){return!!(e&&this.hashedIdFromElem(e))},t.EMBED_LINK_REGEXP=/^\#wistia_([^\?]+)/,t.hashedIdFromHref=function(e){return e&&this.EMBED_LINK_REGEXP.test(e)?e.match(this.EMBED_LINK_REGEXP)[1]:null},t.optionsFromHref=function(e){return this.hashedIdFromHref(e)&&0<=e.indexOf('?')?n.obj.cast(n.url.paramsToJson(e.substring(e.indexOf('?')+1,e.length))):{}},t._all={},t.setup=function(e,t){var i;return t?n.info('PlaylistLink setup',e,t.container):n.info('EmbedLink setup',e),e._wistiaEmbedLink&&(e._wistiaEmbedLink.destroy(),e._wistiaEmbedLink=null),i=new n.EmbedLink(e,t),this._all[i.uuid]=i},t.filterPlaylistLinkCandidates=function(e,t){var i,a,r,l,s;for(null==t&&(t=null),s=[],(a=0,r=e.length);a<r;a++)i=e[a],n.EmbedLink.matchesElem(i)&&(l=this.optionsFromElem(i),!1!==l.includeInPlaylist&&(!t||t(i))&&s.push(i));return s},t.firstHandleWithPlaylistLinks=function(){var e,t,i,a;for(a=n.api._apiHandlesByDomOrder(),t=0,i=a.length;t<i;t++)if(e=a[t],e._opts.playlistLinks)return e;return null},t.playlistLinkElems=function(e,t,i){var a,r,l,s,d,p,u,c,m,h,g,y,f,_;if(u=this.firstHandleWithPlaylistLinks(),y=(null==e?void 0:e.container)||null,d=t.container,g=(null==i?void 0:i.container)||null,'auto'===t._opts.playlistLinks)return s=this.filterPlaylistLinkCandidates(n.elem.allBetween(y,d,'a'),function(e){return function(t){return!e.inManualPlaylist(t)&&!e.inContainerPlaylist(t)}}(this)),l=this.filterPlaylistLinkCandidates(n.elem.allBetween(d,g,'a'),function(e){return function(t){return!e.inManualPlaylist(t)&&!e.inContainerPlaylist(t)}}(this)),t===u&&(0<s.length?(n.info('EmbedLink @_firstHandleHasLinksBefore = true'),this._firstHandleHasLinksBefore=!0):(n.info('EmbedLink @_firstHandleHasLinksBefore = false'),this._firstHandleHasLinksBefore=!1)),this._firstHandleHasLinksBefore?0<s.length?s:l:0<l.length?l:s;if('manual'===t._opts.playlistLinks){for(r=n.util.aps(document.getElementsByTagName('a')),_=[],(m=0,h=r.length);m<h;m++)a=r[m],c=n.EmbedLink.hashedIdFromElem(a),p=c&&n.EmbedLink.optionsFromElem(a),d=(null==p?void 0:p.container)&&document.getElementById(p.container),(null==d?void 0:d.wistiaApi)?p&&(null==(f=t.container)?void 0:f.id)===p.container&&_.push(a):(null==p?void 0:p.container)&&n.error('Embed Link container \''+p.container+'\' not found. You must specify the DOM ID of an initialized Wistia embed on the page.');return _}return t._opts.playlistLinks?(d=document.getElementById(t._opts.playlistLinks),d?(r=n.util.aps(d.getElementsByTagName('a')),this.filterPlaylistLinkCandidates(r,function(e){return function(t){return!e.inManualPlaylist(t)}}(this))):(n.error('Embed Link container \''+t._opts.playlistLinks+'\' not found. You must specify auto, manual, or the ID of an element on the page.'),[])):[]},t.destroyAll=function(e){var t,i,a,r,l,s,d,p,u,c;if(null==e&&(e=document),n.info('EmbedLink.destroyAll',e),e===document){for(c in s=this._all,p=[],s)a=s[c],p.push(a.destroy());return p}for(i=e.getElementsByTagName('a'),u=[],(r=0,l=i.length);r<l;r++)t=i[r],u.push(null==(d=t._wistiaEmbedLink)?void 0:d.destroy());return u},t.setupAll=function(t){var a,r,l,s,e,d,p,i,u,c,m,h;null==t&&(t=document),n.info('EmbedLink.setupAll',t);try{for(n.EmbedLink.destroyAll(t),l=n.api._apiHandlesByDomOrder(),e=function(e,t){return t.hasData(function(){return function(){var i,a,r,s,d,p,u;if(t._opts.playlistLinks&&(n.info('EmbedLink setup handle',t),u=l[e-1],d=l[e+1],p=n.EmbedLink.playlistLinkElems(u,t,d),p=n.EmbedLink.filterPlaylistLinkCandidates(p,function(e){return!e._wistiaEmbedLink}),0<p.length)){for(t._playlist=[],a=0,r=p.length;a<r;a++)i=p[a],n.EmbedLink.setup(i,t);if(s=t.nextVideo())return t.bind('play',function(){return t.prefetchMedia(s.hashedId,s.options),t.unbind})}}}(this))},(p=i=0,m=l.length);0<=m?i<m:i>m;p=0<=m?++i:--i)d=l[p],e(p,d);for(r=n.util.aps(t.getElementsByTagName('a')),h=[],(u=0,c=r.length);u<c;u++)a=r[u],n.EmbedLink.matchesElem(a)?a._wistiaEmbedLink?h.push(n.notice('Conflict setting up embed link',a,' already belongs to ',a._wistiaEmbedLink)):h.push(n.EmbedLink.setup(a)):h.push(void 0);return h}catch(e){return s=e,n.error(s)}},t}(),n.EmbedLink.setupAllThrottled=n.util.throttle(1e3,n.EmbedLink.setupAll),n._initializers.initEmbedLinks=function(){return wistiaEmbeds.bind('initembed',function(){return n.timeout('setup_embed_links_1000',n.EmbedLink.setupAllThrottled,1),n.timeout('setup_embed_links_1000',n.EmbedLink.setupAllThrottled,1e3),n.timeout('setup_embed_links_3000',n.EmbedLink.setupAllThrottled,3e3)}),n.EmbedLink.setupAllThrottled(),n.util.onDocReady(function(){return n.EmbedLink.setupAllThrottled(),n.timeout('setup_embed_links_5000',n.EmbedLink.setupAllThrottled,5e3)})},n._destructors.destroyEmbedLinks=function(){var e,t,i;if(n.EmbedLink){for(i in t=n.EmbedLink._all,t)e=t[i],e.destroy();return n.EmbedLink._all={}}}})(Wistia);
},function(){var e=[].slice;(function(t){return t.iframeInit?void 0:t.iframeInit=function(n,a){var r,l,s,d,p,i,u,c,h,g,m,y,f,_,b,v,A;for(u in v=t.url.parse(location.href),s=t.extend(a,v.params),r=!1,s.pageTitle=document.title,t.obj.castDeep(s),s.container='wistia_video',s.canonicalUrl||(s.canonicalUrl=s.pageUrl),s.canonicalTitle||(s.canonicalTitle=s.pageTitle),f=s.plugin||{},f)A=f[u],s.plugin[u].outsideIframe&&(s.plugin[u]=null,delete s.plugin[u]);for(v.params.popover&&(t.obj.get(v.params,'plugin.requireEmail')?s.autoPlay=!1:s.autoPlay=!0),!1!==s.autoPlay&&s.autoplay&&(s.autoPlay=!0),v.params.twitter&&!1!==s.autoPlay&&(s.autoPlay=!!s.autoplay),s._inIframe=!0,window.wistiaEmbed=t.embed(n,s),t.timeout(wistiaEmbed.uuid+'.fit_later',function(){return window.wistiaEmbed.fit()},100),(t.detect.iphone||t.detect.ipad)&&wistiaEmbed.ready(function(){return setInterval(function(){return wistiaEmbed.elem().style.zoom='',wistiaEmbed.elem().style.zoom=1},3e3)}),y=function(n){var i,a,e,l;if('remove'===n.data)return void wistiaEmbed.remove();if(!/^(visitor_key|send_visitor_key|clear_visitor_key)/.test(n.data)){if(/^wistia-iframe-/.test(n.data))return void(0>window._allIframes.join(' ').indexOf(n.data)&&window._allIframes.push(n.data));if('declare-existing-wistia-iframe'===n.data)return void n.source.postMessage('wistia-iframe-'+iframeUuid,'*');if('amp-listening'===n.data)return void(r=!0);if('amp-play'===n.data)return void wistiaEmbed.play();if('amp-pause'===n.data)return void wistiaEmbed.pause();if('amp-mute'===n.data)return void wistiaEmbed.mute();if('amp-unmute'===n.data)return void wistiaEmbed.unmute();if('string'==typeof n.data)try{e=JSON.parse(n.data)}catch(i){a=i,t.notice('inside_iframe','receiveMessage','Could not parse message from '+n.origin),t.notice('inside_iframe','receiveMessage',n.data),e={}}else e=n.data;return(l=e.method,i=e.args,'startIframeHandshake'===l)?(window.apiSignature=i[0],!window.wistiaEmbed)?void 0:(wistiaEmbed.postMessage('relay.trigger','iframebound'),wistiaEmbed.postMessage('updateProperties',{options:b(wistiaEmbed.options),params:b(wistiaEmbed.params),_embedType:wistiaEmbed.embedType,_hashedId:wistiaEmbed.hashedId(),_width:wistiaEmbed.width(),_height:wistiaEmbed.height(),_videoWidth:wistiaEmbed.videoWidth(),_videoHeight:wistiaEmbed.videoHeight()}),wistiaEmbed._hasImpl(function(){return wistiaEmbed.postMessage('_hasImpl',!0)}),wistiaEmbed.hasData(function(){return wistiaEmbed.postMessage('updateProperties',{_embedType:wistiaEmbed.embedType,options:b(wistiaEmbed.options),params:b(wistiaEmbed.params),_name:wistiaEmbed.name(),_duration:wistiaEmbed.duration(),_videoWidth:wistiaEmbed.videoWidth(),_videoHeight:wistiaEmbed.videoHeight(),_mediaData:wistiaEmbed._mediaData}),wistiaEmbed.postMessage('hasData',!0)}),wistiaEmbed.embedded(function(){return wistiaEmbed.postMessage('updateProperties',{_embedType:wistiaEmbed.embedType,options:b(wistiaEmbed.options),params:b(wistiaEmbed.params),origAspectRatio:wistiaEmbed.aspect(),origVideoHeight:wistiaEmbed.videoHeight(),origVideoWidth:wistiaEmbed.videoWidth(),origHeight:wistiaEmbed.height(),origWidth:wistiaEmbed.width(),origPluginWidth:wistiaEmbed.extraWidth(),origPluginHeight:wistiaEmbed.extraHeight(),_videoWidth:wistiaEmbed.videoWidth(),_videoHeight:wistiaEmbed.videoHeight(),_width:wistiaEmbed.width(),_height:wistiaEmbed.height()}),wistiaEmbed.postMessage('embedded',!0)}),wistiaEmbed.ready(function(){return wistiaEmbed.postMessage('updateProperties',{options:b(wistiaEmbed.options),params:b(wistiaEmbed.params),_embedType:wistiaEmbed.embedType,_visitorKey:wistiaEmbed.visitorKey(),_eventKey:wistiaEmbed.eventKey(),_width:wistiaEmbed.width(),_height:wistiaEmbed.height(),_videoWidth:wistiaEmbed.videoWidth(),_videoHeight:wistiaEmbed.videoHeight(),_state:wistiaEmbed.state(),_time:wistiaEmbed.time(),_isMuted:wistiaEmbed.isMuted(),_volume:wistiaEmbed.volume()}),wistiaEmbed.postMessage('relay.trigger','videoready'),t.visitorKey.ready(function(){return wistiaEmbed.postMessage('updateProperties',{_visitorKey:wistiaEmbed.visitorKey()})})})):l?'undefined'!=typeof wistiaEmbed&&null!==wistiaEmbed?wistiaEmbed[l].apply(wistiaEmbed,i):void 0:void 0}},b=function(e){var n;return n={},Wistia.obj.eachLeaf(e,function(e,i){if(/^string|number|boolean$/i.test(typeof e))return t.obj.set(n,i,e)}),n},window.apiSignature=null,window.iframeUuid=Math.random().toString(36).replace(/[^a-z0-9]+/g,''),window._allIframes=['wistia-iframe-'+iframeUuid],wistiaEmbed.postMessage=function(){var t,n,i;if(i=arguments[0],t=2<=arguments.length?e.call(arguments,1):[],parent!==self)return n={method:i,args:t},apiSignature&&(n.signature=apiSignature),n=JSON.stringify(n),parent.postMessage(n,'*')},wistiaEmbed.ping=function(){var t;return t=1<=arguments.length?e.call(arguments,0):[],wistiaEmbed.postMessage.apply(wistiaEmbed,['pong'].concat(e.call(t)))},wistiaEmbed.updateProperties=function(e){for(u in e)A=e[u],this[u]=t.obj.isObject(A)?t.obj.merge({},this[u],A):A;return this.postMessage('updateProperties',b(e))},m=window.wistiaPostMessageQueue||[],(p=0,c=m.length);p<c;p++){g=m[p];try{y(g)}catch(e){l=e,t.error(l)}}if(window.wistiaPostMessageQueue=[],!t.detect.browser.ltie8){if(parent===self)return;if(parent.postMessage('new-wistia-iframe','*'),25>=t.util.parentFramesLength())for(_=parent.frames,i=0,h=_.length;i<h;i++)d=_[i],d!==self&&d!==parent&&(d.postMessage('wistia-iframe-'+iframeUuid,'*'),d.postMessage('declare-existing-wistia-iframe','*'));return wistiaEmbed.bind('down',function(){return wistiaEmbed.postMessage('updateProperties',{_down:!0})}),wistiaEmbed.bind('up',function(){return wistiaEmbed.postMessage('updateProperties',{_down:!1})}),wistiaEmbed.bind('volumechange',function(e,t){return wistiaEmbed.postMessage('updateProperties',{_volume:e,_isMuted:t})}),wistiaEmbed.bind('emailchange',function(e){return wistiaEmbed.postMessage('updateProperties',{_email:e,params:{trackEmail:e}})}),wistiaEmbed.bind('timechange',function(e){return wistiaEmbed.postMessage('updateProperties',{_time:e})}),wistiaEmbed.bind('statechange',function(e){return wistiaEmbed.postMessage('updateProperties',{_state:e})}),wistiaEmbed.bind('mutechange',function(e){return wistiaEmbed.postMessage('updateProperties',{_isMuted:e})}),wistiaEmbed.bind('widthchange',function(){return wistiaEmbed.postMessage('updateProperties',{_videoWidth:wistiaEmbed.videoWidth(),_width:wistiaEmbed.width()})}),wistiaEmbed.bind('heightchange',function(){return wistiaEmbed.postMessage('updateProperties',{_videoHeight:wistiaEmbed.videoHeight(),_height:wistiaEmbed.height()})}),wistiaEmbed.bind('foreigndatachange',function(e){return wistiaEmbed.postMessage('updateProperties',{_foreignData:e})}),wistiaEmbed.bind('percentwatchedchanged',function(e){return wistiaEmbed.postMessage('updateProperties',{_percentWatched:e})}),wistiaEmbed.bind('all',function(){var t;if(t=1<=arguments.length?e.call(arguments,0):[],'afterremove'===t[0])return wistiaEmbed.postMessage('relay.trigger','_afterremove');if(/^up|down$/.test(t[0]));else return wistiaEmbed.postMessage.apply(wistiaEmbed,['_trigger'].concat(e.call(t)))}),t.elem.bind(window,'message',y)}}})(Wistia);
},function(){var t=[].slice,e=function(e,t){function i(){this.constructor=e}for(var a in t)n.call(t,a)&&(e[a]=t[a]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;(function(n){var i;return n.IframeApi=function(){function e(e,t){this.iframe=e,null==t&&(t={}),this.enableFullscreen(),this._bindings={},this._injectedPlugins={},this._firedPlayCount=0,this.options=this.params=t,this.plugin||(this.plugin={}),this.container=this.iframe,this.relay=n.obj.clone(n.bindable),this.ready=new n.StopGo,this.bound=new n.StopGo,this.hasData=new n.StopGo,this._hasImpl=new n.StopGo,this.embedded=new n.StopGo,this.down=new n.StopGo,this.down(!1),this.up=new n.StopGo,this.up(!0),this.uuid=this.uuid||t.uuid||''+(this.iframe.id||n.seqId()),this.signature=t.signature||'wistia-iframe-'+this.uuid.replace(/"/g,'__QUOTE__').replace(/\n/g,'__NEWLINE__'),this.inferParamsFromSrc(),this.monitor(),n.detect.browser.ltie8&&n.timeout(this.uuid+'.ie8_ready',function(e){return function(){return e.ready(!0)}}(this))}var i=Math.round;return e.prototype.inferParamsFromSrc=function(){var e,t;if(this.src=this.iframe.src,this.parsedSrc=n.url.parse(this.src),this.origWidth=parseInt(this.iframe.width||n.elem.width(this.iframe),10),this.origHeight=parseInt(this.iframe.height||n.elem.height(this.iframe),10),this.origVideoWidth=parseInt(this.parsedSrc.params.videoWidth||(null==(e=this.parsedSrc.params.videoOptions)?void 0:e.videoWidth)||this.origWidth,10),this.origVideoHeight=parseInt(this.parsedSrc.params.videoHeight||(null==(t=this.parsedSrc.params.videoOptions)?void 0:t.videoHeight)||this.origHeight,10),this.origPluginWidth=this.origWidth-this.origVideoWidth,this.origPluginHeight=this.origHeight-this.origVideoHeight,this.origAspectRatio=this.origVideoHeight?this.origVideoWidth/this.origVideoHeight:1.333,this.parsedSrc.params.videoFoam)return this._videoFoam=n.obj.cast(this.parsedSrc.params.videoFoam)},e.prototype.init=function(){var e,t,i,a;if(n.detect.browser.ltie8)return this;for(e in this.inferParamsFromSrc(),this.relay.bind('iframebound',function(e){return function(){return e.bound(!0)}}(this)),this.relay.bind('videoready',function(e){return function(){return e.bound(function(){if(!e.looksDown())return e.ready(!0)})}}(this)),n.elem.bind(this.iframe,'load',function(e){return function(){return e.startIframeHandshake()}}(this)),this.startIframeHandshake(),this.bind('sphericaltap',function(e){return window.location=e}),this.ready(function(e){return function(){if('playing'===e.state())return e._firedSyntheticPlay=!0,e.trigger('play')}}(this)),t=this.parsedSrc.params.plugin||{},t)a=t[e],'true'===(null==(i=a.outsideIframe)?void 0:i.toString())&&this.addPlugin(e,a);return this.monitor(),this.ready(function(e){return function(){if(e._wvideoInUrl())return e._scrollToContainer(),e.play()}}(this)),this},e.prototype._wvideoInUrl=function(){var e;return e=n.url.parse(location.href),e.params.wvideo===this.hashedId()},e.prototype._scrollToContainer=function(){var e;return e=n.elem.offset(this.container),n.util.scrollTop(e.top-100)},e.prototype.rebuild=function(){var e,t,i,a,r;return(a=this.iframe.parentNode)&&(this.bound(!1),this.ready(!1),r=document.createElement('span'),r.style.display='none',i=null,t=function(e){return function(){return e.trigger('beforerebuild'),i=e.iframe.src,a.insertBefore(r,e.iframe),a.removeChild(e.iframe),e.iframe.src='javascript:return false;'}}(this),e=function(e){return function(){return e.iframe.src=i,a.insertBefore(e.iframe,r.nextSibling),a.removeChild(r),r=null,e._state='beforeplay',e.trigger('afterrebuild')}}(this),n.detect.browser.msie&&9>n.detect.browser.version?(t(),n.timeout(this.uuid+'.rebuild_delay',e,50)):(t(),e())),this},e.prototype.remove=function(){return this._hasImpl(!1),this.hasData(!1),this.ready(!1),this.embedded(!1),n.eventLoop.remove(this.uuid),n.clearTimeouts(this.uuid),this.bound(function(e){return function(){var t;return t=function(){var t;return n.elem.remove(e._foamDummyElem),e.iframe&&(t=e.iframe.parentNode)&&(e.iframe.wistiaApi=null,t.removeChild(e.iframe),e.iframe.src='javascript:return false;',e.iframe=e.container=null),e.trigger('down'),n.clearTimeouts(e.uuid),n.eventLoop.remove(e.uuid),e.ready.setQueue([]),e.hasData.setQueue([]),e._hasImpl.setQueue([]),e.trigger('afterremove'),e._bindings={},n.removeData('iframe_api.'+e.signature),e.unbind},e.relay.bind('_afterremove',t),e.postMessage('remove')}}(this))},e.prototype.reinitializePlugins=function(){return this.postMessage('reinitializePlugins')},e.prototype.monitor=function(){var e,t,i,a;return i=this.width(),a=n.elem.width(this.iframe),t=n.elem.height(this.iframe),e=!1,this.embedded(function(r){return function(){return n.eventLoop.add(r.uuid+'.monitor',500,function(){var l,s,d,p,u,c,m,h,g,y,f;if(r.up()&&r.looksDown()){if(r._stateBeforeDown=r._state,'flash'===r.embedType())try{r.rebuild()}catch(e){}else r.pause();r.ready(!1),r.down(!0),r.up(!1),r.trigger('down')}else r.down()&&r.looksUp()&&(r.down(!1),r.up(!0),'flash'===r.embedType()?r.rebuild():(r.ready(!0),'playing'===r._stateBeforeDown&&r.play()),r.trigger('up'));return(r.hasVideoFoam()&&r.up()&&r.looksUp()&&(null==r._parentBoxSizing&&(r._parentBoxSizing=n.elem.style(r.iframe.parentNode,'box-sizing')),'border-box'===r._parentBoxSizing||n.detect.browser.msie&&9>n.detect.browser.version?(!r._foamDummyElem&&(r._foamDummyElem=n.elem.fromObject({class:'wistia_video_foam_dummy',"data-source-container-id":r.container.id,style:{border:0,display:'block',height:0,margin:0,padding:0,position:'static',visibility:'hidden',width:'auto'}}),n.elem.before(r.iframe,r._foamDummyElem)),c=n.elem.width(r._foamDummyElem)):c=n.elem.width(r.iframe.parentNode),(i!==c||!e)&&(e=!0,u=c,p=u-r.extraWidth(),d=r.heightForWidth(p),s=d+r.extraHeight(),(null==(m=r.videoFoam())?void 0:m.maxHeight)&&s>r.videoFoam().maxHeight&&(s=r.videoFoam().maxHeight,d=s-r.extraHeight(),p=r.widthForHeight(d),u=p+r.extraWidth()),(null==(h=r.videoFoam())?void 0:h.maxWidth)&&u>r.videoFoam().maxWidth&&(u=r.videoFoam().maxWidth,p=u-r.extraWidth(),d=r.heightForWidth(p),s=d+r.extraHeight()),(null==(g=r.videoFoam())?void 0:g.minHeight)&&s<r.videoFoam().minHeight&&(s=r.videoFoam().minHeight,d=s-r.extraHeight(),p=r.widthForHeight(d),u=p+r.extraWidth()),(null==(y=r.videoFoam())?void 0:y.minWidth)&&u<r.videoFoam().minWidth&&(u=r.videoFoam().minWidth,p=u-r.extraWidth(),d=r.heightForWidth(p),s=d+r.extraHeight()),r.width(u).height(s),n.timeout(r.uuid+'.delayed_resize',function(){return r.width(u).height(s)},1e3),i=c)),n.detect.browser.ltie8&&(f=n.elem.width(r.iframe),l=n.elem.height(r.iframe),f!==a&&(r.trigger('widthchange',f,a),a=f),l!==a))?(r.trigger('heightchange',l,t),t=l):void 0})}}(this))},e.prototype.hasVideoFoam=function(){return null==this.videoFoam()?/videoFoam=true/.test(this.src):this.videoFoam()},e.prototype.stopMonitoring=function(){return n.eventLoop.remove(this.uuid+'.monitor')},e.prototype.looksDown=function(){return!this.iframe||!n.elem.inDom(this.iframe)||n.elem.isHidden(this.iframe)},e.prototype.looksUp=function(){return!this.looksDown()},e.prototype._trigger=function(){var e,i;return i=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],'play'===i&&(this._firedPlayCount+=1,'flash'===this.embedType()&&this.params.autoPlay&&1===this._firedPlayCount&&this._firedSyntheticPlay)?void 0:n.timeout(this.uuid+'.trigger.'+i,function(n){return function(){return n.trigger.apply(n,[i].concat(t.call(e)))}}(this))},e.prototype.play=function(){return this.ready(function(e){return function(){return e.postMessage('play')}}(this)),this},e.prototype.pause=function(){return this.ready(function(e){return function(){return e.postMessage('pause')}}(this)),this},e.prototype.time=function(e){return null==e?this._time||0:(this.ready(function(t){return function(){return t.postMessage('time',e)}}(this)),this)},e.prototype.volume=function(e){return null==e?this._volume||0:(this.ready(function(t){return function(){return t.postMessage('volume',e)}}(this)),this)},e.prototype.isMuted=function(){return!!this._isMuted},e.prototype.mute=function(){return this.ready(function(e){return function(){return e.postMessage('mute')}}(this)),this},e.prototype.unmute=function(){return this.ready(function(e){return function(){return e.postMessage('unmute')}}(this)),this},e.prototype.setEmail=function(t){return this.email(t)},e.prototype.email=function(t){var e;return void 0===t?this._email||(null==(e=this.params)?void 0:e.trackEmail)||null:(this.bound(function(e){return function(){return e.postMessage('email',t)}}(this)),this._email=t)},e.prototype.foreignData=function(e){if(n.detect.json){if(void 0===e)return this._foreignData||null;if(null===e)return this.bound(function(t){return function(){return t.postMessage('foreignData',e)}}(this)),this._foreignData=null;if(!n.obj.isObject(e))throw'foreignData can only be an Object';return e=n.obj.clone(e),this.bound(function(t){return function(){return t.postMessage('foreignData',e)}}(this)),this._foreignData=e}},e.prototype.height=function(e){return null==e?n.elem.isHidden(this.iframe)?null==this.iframe.style.height?parseInt(this.iframe.height,10):parseInt(this.iframe.style.height,10):n.elem.height(this.iframe):(e=parseInt(e,10),this.bound(function(t){return function(){return t.postMessage('height',e)}}(this)),this.iframe.style.height=e+'px',this.iframe.height=e,this)},e.prototype.width=function(e){return null==e?n.elem.isHidden(this.iframe)?null==this.iframe.style.width?parseInt(this.iframe.width,10):parseInt(this.iframe.style.width,10):n.elem.width(this.iframe):(e=parseInt(e,10),this.bound(function(t){return function(){return t.postMessage('width',e)}}(this)),this.iframe.style.width=e+'px',this.iframe.width=e,this)},e.prototype.videoHeight=function(e){var t;return null==e?0<this._videoHeight?this._videoHeight:(t=this.src.match(/videoHeight=(\d+)/))?parseInt(t[1],10):n.elem.height(this.iframe):(e=parseInt(e,10),this.bound(function(t){return function(){return t.postMessage('videoHeight',e)}}(this)),this.embedded(function(t){return function(){var i;if(i=null==t._height?e+t.origPluginHeight:e+t._height-t._videoHeight,t.iframe.style.height=i+'px',t.iframe.height=i,n.detect.browser.ltie8)return t._videoHeight=e}}(this)),this)},e.prototype.videoWidth=function(e){var t;return null==e?0<this._videoWidth?this._videoWidth:(t=this.src.match(/videoWidth=(\d+)/))?parseInt(t[1],10):n.elem.width(this.iframe):(e=parseInt(e,10),this.bound(function(t){return function(){return t.postMessage('videoWidth',e)}}(this)),this.embedded(function(t){return function(){var i;if(i=null==t._width?e+t.origPluginWidth:e+t._width-t._videoWidth,t.iframe.style.width=i+'px',t.iframe.width=i,n.detect.browser.ltie8)return t._videoWidth=e}}(this)),this)},e.prototype.extraHeight=function(){return this.origPluginHeight?this.origPluginHeight:this._height?this._height-this._videoHeight:0},e.prototype.extraWidth=function(){return this.origPluginWidth?this.origPluginWidth:this._width?this._width-this._videoWidth:0},e.prototype.heightForWidth=function(e){return i(e/this.aspect())},e.prototype.widthForHeight=function(e){return i(e*this.aspect())},e.prototype.aspect=function(){return this.origAspectRatio||1.333},e.prototype.addPlugin=function(e,t){var i;return null==t&&(t={}),!1===t.on||this.injectedPlugin(e)||(t.outsideIframe?n.plugin._inject(this,e,t):n.detect.browser.msie?(i=n.url.parse(this.iframe.src),n.obj.set(i.params,['plugin',e],t),this.iframe.src=i.absolute()):this.bound(function(n){return function(){return n.postMessage('addPlugin',e,t)}}(this)),this._injectedPlugins[e]=!0),this},e.prototype.videoFoam=function(e){return null==e?this._videoFoam:this._videoFoam=e},e.prototype.hasPlugin=function(e){var t;return!!(this._injectedPlugins[e]||(null==(t=this.parsedSrc.params.plugin)?void 0:t[e]))},e.prototype.injectedPlugin=function(e){return!!this._injectedPlugins[e]},e.prototype.duration=function(){return this._duration||null},e.prototype.state=function(){return this._state||'beforeplay'},e.prototype.name=function(){return this._name||''},e.prototype.hashedId=function(){return this._hashedId||this.parsedSrc.path[this.parsedSrc.path.length-1]},e.prototype.embedType=function(){return this._embedType},e.prototype.eventKey=function(){return this._eventKey||null},e.prototype.visitorKey=function(){return this._visitorKey||null},e.prototype.percentWatched=function(){return this._percentWatched||0},e.prototype.getEventKey=function(){return this.eventKey()},e.prototype.getVisitorKey=function(){return this.visitorKey()},e.prototype.startIframeHandshake=function(){return this.postMessage('startIframeHandshake',this.signature)},e.prototype.postMessage=function(){var i,a,e,r;if(r=arguments[0],i=2<=arguments.length?t.call(arguments,1):[],!n.detect.browser.ltie8){try{if(!this.iframe.contentWindow.postMessage)return}catch(e){return void(a=e)}return e={signature:this.signature,method:r,args:i},e=JSON.stringify(e),this.iframe.contentWindow.postMessage(e,'*')}},e.prototype.updateProperties=function(e){var t,i,a;for(t in i=[],e)a=e[t],n.obj.isObject(a)?i.push(this[t]=n.obj.merge({},this[t],a)):i.push(this[t]=a);return i},e.prototype.enableFullscreen=function(){var e,t,n,i,a,r;for(i=['allowfullscreen','mozallowfullscreen','webkitallowfullscreen','oallowfullscreen','msallowfullscreen'],r=[],(t=0,n=i.length);t<n;t++)e=i[t],r.push(null==(a=this.iframe)?void 0:a.setAttribute(e,e));return r},e}(),n.mixin(n.IframeApi.prototype,n.bindable),i=n.IframeApi.prototype.trigger,n.IframeApi.prototype.trigger=function(){var e,n,a;return n=arguments[0],e=2<=arguments.length?t.call(arguments,1):[],i.call.apply(i,[this,n].concat(t.call(e))),null==(a=window.wistiaEmbeds)?void 0:a.trigger.apply(a,[n,this].concat(t.call(e)))},n.mixin(n.IframeApi.prototype,n.logHelpers),n.IframeApi.prototype._logPrefix=function(){var e;return[this.constructor.name,this.hashedId()||'no hashedId',null==(e=this.container)?void 0:e.id,this.uuid]},n.PlaylistIframeAPI=function(t){function i(){i.__super__.constructor.apply(this,arguments),this.relay.bind('boundcurrentvideo',function(e){return function(){return e._currentVideo=new n.IframeApi(e.iframe,{uuid:e.uuid+'-current-video',signature:e.signature+'-current-video'}).init()}}(this))}return e(i,t),i.prototype.embed=function(e,t){return this.ready(function(n){return function(){return n.postMessage('embed',e,t)}}(this))},i.prototype.play=function(e,t){return this.ready(function(n){return function(){return n.postMessage('play',e,t)}}(this))},i.prototype.currentVideo=function(){return this._currentVideo},i}(n.IframeApi),window.wistiaBindIframes=function(){var e,t,i,a,r,l,s,d,p,u;for(a=document.getElementsByTagName('iframe'),d=[],(t=0,l=a.length);t<l;t++)i=a[t],!i.wistiaApi&&(/wistia_embed/.test(i.className)||'wistia_embed'===i.name)?(i.wistiaApi=new n.IframeApi(i),n.data('iframe_api.'+i.wistiaApi.signature,i.wistiaApi),i.wistiaApi.init(),d.push(i.wistiaApi),window.wistiaApi=i.wistiaApi):!i.wistiaApi&&(/wistia_playlist/.test(i.className)||'wistia_playlist'===i.name)&&(i.wistiaApi=new n.PlaylistIframeAPI(i),n.data('iframe_api.'+i.wistiaApi.signature,i.wistiaApi),i.wistiaApi.init(),d.push(i.wistiaApi),window.wistiaApi=i.wistiaApi);for(null!=(p=window.wistiaEmbeds)&&p.bindHandles(),u=[],(r=0,s=d.length);r<s;r++)e=d[r],u.push(e.trigger('initembed'));return u},n._initializers.initIframeApi=function(){if(wistiaBindIframes(),!window._inWistiaIframe&&!window.wistiaDispatch&&!window._wistiaIframeShim)return null==window.wistiaDispatch&&(window.wistiaDispatch=function(e){var t,i;if('new-wistia-iframe'===e.data)return wistiaBindIframes();if(i='string'==typeof e.data&&/wistia-iframe-/.test(e.data)?JSON.parse(e.data):e.data,/wistia-iframe-/.test(i.signature))if(t=n.data('iframe_api.'+i.signature)){if('relay.trigger'===i.method)return n.obj.get(t,i.method).apply(t.relay,i.args);if('play'===i.method&&(n.detect.iphone||n.detect.ipad||n.detect.android));else return n.obj.get(t,i.method).apply(t,i.args)}else return'undefined'!=typeof console&&null!==console?console.log('Ignored '+i.method+' call, no handle for '+i.signature):void 0}),n.elem.bind(window,'message',wistiaDispatch)},n._destructors.destroyIframeApi=function(){return window.wistiaDispatch&&n.elem.unbind(window,'message',window.wistiaDispatch),window.wistiaDispatch=null}})(Wistia);
},function(){var e=function(e,n){function i(){this.constructor=e}for(var a in n)t.call(n,a)&&(e[a]=n[a]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;(function(t){if(!t.EmbedListener)return t.EmbedListener=function(n){function i(){this.uuid=t.seqId(),this.bindHandles(),this.bind('down',function(e){return function(){return e.info('got down event, prune and rebind handles'),t.timeout('prune_zombies_later',function(){return e.pruneZombies(),e.bindHandles()})}}(this)),this.bind('up',function(e){return function(t){return e.info('got up event, set _bound=false for',t),t._bound=!1,e.bindHandles()}}(this))}return e(i,n),i.prototype.bindHandles=function(){var e,t,n,i,a;for(e=this.allUnboundHandles(),this.info('bindHandles',e),a=[],(n=0,i=e.length);n<i;n++)t=e[n],this.info('bind to all events for',t),t._bound=!0,a.push(this.push(t));return a},i.prototype.pruneZombies=function(){var e,t,n,i,a,r,l,s,d,p,u;for(this.info('pruneZombies'),u=[],s=this.allBoundHandles(),(n=0,r=s.length);n<r;n++)e=s[n],e.looksDown()?this.info('prune zombie',e):u.push(e);for(t=i=0,d=this.length;0<=d?i<=d:i>=d;t=0<=d?++i:--i)delete this[t];for(this.length=0,p=[],(a=0,l=u.length);a<l;a++)e=u[a],p.push(this.push(e));return p},i.prototype.allBoundHandles=function(){var e,t,n,i,a;for(a=[],i=this.allHandles(),(t=0,n=i.length);t<n;t++)e=i[t],e._bound&&a.push(e);return a},i.prototype.allUnboundHandles=function(){var e,t,n,i,a;for(a=[],i=this.allHandles(),(t=0,n=i.length);t<n;t++)e=i[t],e._bound||a.push(e);return a},i.prototype.allHandles=function(){return this.apiHandles().concat(this.iframeApiHandles())},i.prototype.iframeApiHandles=function(){var e,t,n,i,a;for(this.iframes||(this.iframes=document.getElementsByTagName('iframe')),a=[],i=this.iframes,(t=0,n=i.length);t<n;t++)e=i[t],e.wistiaApi&&a.push(e.wistiaApi);return a},i.prototype.apiHandles=function(){var e,t,n,i;if(t=[],window.Wistia)for(n in i=Wistia.data('video'),i)e=i[n],t.push(e);return t},i.prototype.each=function(e){var t,n,i,a,r;for(a=this.allBoundHandles(),r=[],(n=0,i=a.length);n<i;n++)t=a[n],r.push(e(t));return r},i.prototype.onFind=function(e){var t;return t=function(t){return function(n){return n.up(function(){return t.info('onFind',n),e(n),n.unbind})}}(this),this.each(t),this.bind('initembed',t)},i}(Array),t.mixin(t.EmbedListener.prototype,t.bindable),t.mixin(t.EmbedListener.prototype,t.logHelpers),t._initializers.initEmbedShepherd=function(){return window.wistiaEmbeds?(t.info('window.wistiaEmbeds already exists, call bindHandles'),'function'==typeof wistiaEmbeds.bindHandles&&wistiaEmbeds.bindHandles()):(t.info('initialize embed shepherd'),window.wistiaEmbeds=new t.EmbedListener),t.info('call window.wistiaEmbedShepherdReady()'),'function'==typeof window.wistiaEmbedShepherdReady?window.wistiaEmbedShepherdReady():void 0},t._destructors.destroyEmbedShepherd=function(){var e;return null!=(e=window.wistiaEmbeds)&&e.each(function(e){return e._bound=!1}),window.wistiaEmbeds=null}})(Wistia);
},function(){var e=[].slice;(function(t){if(!t.integrations)return t.integrations={},t.integrations._all={},t.integrations.register=function(n,i){var a,r,l;return a=function(a){var r;return i[a]?(r=function(){var r,l;return l=arguments[0],r=2<=arguments.length?e.call(arguments,1):[],l.hasData(function(){var s,d,p;return!1===(null==(s=l.params)?void 0:s[t.util.camelCase(n)])?void 0:(null==(d=l._mediaData)||null==(p=d.integrations)?void 0:p[n])?i[a].apply(i,[l].concat(e.call(r))):void 0})},r):null},r=function(a){var r;return i[a]?(i.initialized=!1,r=function(){var r,l;return l=arguments[0],r=2<=arguments.length?e.call(arguments,1):[],l.hasData(function(){var s,d,p;return!1===(null==(s=l.params)?void 0:s[t.util.camelCase(n)])||!0===window.disableWistiaIntegrationTracking?void 0:!i.initialized&&(null==(d=l._mediaData)||null==(p=d.integrations)?void 0:p[n])?(i[a].apply(i,[l].concat(e.call(r))),i.initialized=!0):void 0})},r):null},l={pushPercentWatchedEvent:a('pushPercentWatchedEvent'),pushPlayEvent:a('pushPlayEvent'),pushConversionEvent:a('pushConversionEvent'),pushConversionMidrollLinkEvent:a('pushConversionMidrollLinkEvent'),pushConversionPostRollEvent:a('pushConversionPostRollEvent'),onFind:a('onFind'),onInit:r('onInit')},t.integrations._all[n]=l},t.integrations.each=function(){var n,i,a,r,l,s;for(r in i=arguments[0],n=2<=arguments.length?e.call(arguments,1):[],l=t.integrations._all,s=[],l)a=l[r],'string'==typeof i?s.push('function'==typeof a[i]?a[i].apply(a,n):void 0):s.push(i(a,r));return s},t._initializers.initIntegrations=function(){return t.integrations._setup?void 0:t.integrations.setup()},t._destructors.destroyIntegrations=function(){return'undefined'!=typeof wistiaEmbeds&&null!==wistiaEmbeds&&wistiaEmbeds.each(function(e){return'function'==typeof e._destroyIntegrations?e._destroyIntegrations():void 0}),this._all={},t.integrations._setup=!1},t.integrations.setup=function(){if(!window._inWistiaIframe)return t.integrations._setup=!0,wistiaEmbeds.onFind(function(n){var i,a,r,l,s,d,p;if(s=function(e){return t.integrations.each('pushPercentWatchedEvent',n,e)},a=function(){var i;return(i=t.integrations).each.apply(i,['pushConversionEvent',n].concat(e.call(arguments)))},r=function(e){return t.integrations.each('pushConversionMidrollLinkEvent',n,e)},l=function(e){return t.integrations.each('pushConversionPostRollEvent',n,e)},d=function(){return t.integrations.each('pushPlayEvent',n),n.unbind},i=function(){return n.hasData(function(){return n.bind('percentWatchedThreshold',s),n.bind('conversion',a),n.bind('conversion-link',r),n.bind('conversion-postRoll',l),n.bind('play',d)})},p=function(){return n.unbind('play',d),n.unbind('conversion',a),n.unbind('percentWatchedThreshold',s)},n._initIntegrations=function(){return i()},n._destroyIntegrations=function(){return p()},n.bind('beforereplace',p),n.bind('afterreplace',i),i(),t.integrations.each('onInit',n),t.integrations.each('onFind',n),'playing'===n.state)return d()})}})(Wistia);
},function(){(function(e){return e.integrations.register('google_analytics',{pushPercentWatchedEvent:function(e,t){return this._pushEvent(Math.round(100*t)+'% Watched',e.name())},pushPlayEvent:function(e){return this._pushEvent('Play',e.name())},pushConversionEvent:function(e){return this._pushEvent('Conversion',e.name())},pushConversionMidrollLinkEvent:function(e,t){return this._pushEvent('Clicked Link - '+t.link,e.name())},pushConversionPostRollEvent:function(e,t){return this._pushEvent('Clicked Link - '+t.link,e.name())},_gaTrackers:function(){var e,t,n,i,a,r,l,s,d,p,u,c,m,h;if(m=[],n={},'undefined'!=typeof ga&&null!==ga?ga.getAll:void 0)for(p=ga.getAll(),e=0,r=p.length;e<r;e++)h=p[e],t=h.get('trackingId'),n[t]=h.get('name');if('undefined'!=typeof gaTracker&&null!==gaTracker?gaTracker.getAll:void 0)for(u=gaTracker.getAll(),i=0,l=u.length;i<l;i++)h=u[i],t=h.get('trackingId'),n[t]=h.get('name');if('undefined'!=typeof __gaTracker&&null!==__gaTracker?__gaTracker.getAll:void 0)for(c=__gaTracker.getAll(),a=0,s=c.length;a<s;a++)h=c[a],t=h.get('trackingId'),n[t]=h.get('name');return m=function(){var e;for(t in e=[],n)d=n[t],e.push(d);return e}()},_pushEvent:function(t,n){var a,r,i,l,s,d;if(a=window[window.GoogleAnalyticsObject]||window.ga,null!=a){for(l=this._gaTrackers(),s=[],(r=0,i=l.length);r<i;r++)d=l[r],a(d+'.send','event','Video',t,n),s.push(e.info('Push to '+(window.GoogleAnalyticsObject||'ga')+': '+d+'.send, event, Video, '+t+', '+n));return s}return null==window._gaq?void 0:(_gaq.push(['_trackEvent','Video',t,n]),e.info('Push to _gaq: _trackEvent, Video, '+t+', '+n))}})})(Wistia);
},function(){(function(e){return e.integrations.register('hubspot',{onFind:function(t){return this._setVideoForeignData(t),e.visitorKey.ready(function(n){return function(){return n._setVisitorForeignData(t,e.visitorKey.value())}}(this)),window._hsq.push(function(e){return function(n){return e._setHubSpotForeignData(t,n)}}(this))},onInit:function(){var t;return null==window._hsq&&(window._hsq=[]),t=!1,e.visitorKey.ready(function(){if(!t)return _hsq.push(['identify',{wistia_visitor_key:e.visitorKey.value()}]),t=!0})},_setVideoForeignData:function(e){var t,n,i;return n=document.location.href.split('?')[0],t=(null==(i=document.getElementsByTagName('title')[0])?void 0:i.innerHTML)||'',t=t.replace(/^[\n\s]+/,'').replace(/[\n\s]+$/,''),t=t.replace(/[^\x00-\x7F]/g,''),e.foreignData(Wistia.obj.merge({},e.foreignData(),{page_url:n,page_name:t}))},_setVisitorForeignData:function(e,t){return e.foreignData(Wistia.obj.merge({},e.foreignData(),{wistia_visitor_key:t}))},_setHubSpotForeignData:function(e,t){return e.foreignData(Wistia.obj.merge({},e.foreignData(),{hubspot_hutk:t.utk.visitor,canonical_url:t.canonicalUrl,page_id:t.pageId,content_type:t.contentType}))}})})(Wistia);
},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});n.d(t,'getPlugin',function(){return r});n.d(t,'defaultGetHubspotUtk',function(){return l});n.d(t,'registerPlugin',function(){return s});var i=n(0),a=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r=function(e){var t=e.getHubspotUtk;return{onFind:function(e){t(i['default']).then(function(t){e.foreignData(a({},e.foreignData(),{hubspot_utk:t}))})}}},l=function(e){var t,n=new e.StopGo;return function i(a){t=e.cookie('hubspotutk'),t?n(!0,t):0<a&&setTimeout(i,1e3,a-1)}(10),{then:n}},s=function(){var e=r({getHubspotUtk:l});i['default'].integrations.register('hubspot_v2',e)};
},function(){(function(e){var t;return t={onFind:function(e){return this._setForeignData(e)},pushPercentWatchedEvent:function(e,t){return this._pushEvent(e,Math.round(100*t)+'% Watched')},pushPlayEvent:function(e){return this._pushEvent(e,'Played')},pushConversionEvent:function(e,t,n){return this._pushEvent(e,'Conversion - '+n)},pushConversionMidrollLinkEvent:function(e,t){return this._pushEvent(e,'Clicked Link - '+t.link)},pushConversionPostRollEvent:function(e,t){return this._pushEvent(e,'Clicked Link - '+t.link)},_pushEvent:function(e,t){var n;if(window.Munchkin)return this._setForeignData(e),n=this._marketoUrlFormat(' - Wistia Video - "'+e.name()+'" - '+t),Munchkin.munchkinFunction('visitWebPage',{url:n})},_marketoUrlFormat:function(e){return encodeURIComponent(e.replace(/[?;]/g,' ')),encodeURIComponent(e.replace(/[:]/g,' - '))},_setForeignData:function(e,t){return null==t&&(t=''),this._cookie||this._setCookie(),e.foreignData(Wistia.obj.merge({},e.foreignData(),{marketoCookie:this._cookie}))},_setCookie:function(){return this._cookie=e.cookie('_mkto_trk')}},e.integrations.register('marketo_v2',t),e.integrations.register('marketo',t)})(Wistia);
},function(){(function(e){var t;if(t=e,!t.VisitorKey)return t.DISTILLERY_COOKIE='__distillery',!0===window.wistiaDisableCookies&&null==window.wistiaIframeShim&&(window.wistiaIframeShim=!1),t.VisitorKey=function(){function e(){this.ready=new t.StopGo,!1===window.wistiaIframeShim||t.detect.browser.msie&&(8>t.detect.browser.version||t.detect.browser.quirks)||!t.detect.localstorage?(!this.savedValue()&&(this._origin='new',this.persist(t.VisitorKey.generate())),this.ready(!0)):(this.setupOutsideShim(),t.util.pageLoaded(function(e){return function(){return e.executeShim('send_visitor_key|'+(e.savedValue()||'')+'|'+'6888d3755d07808572992ec8a0cc4b33896ec0ac',!0)}}(this)))}return e.prototype.setupOutsideShim=function(){return this.info('@setupOutsideShim'),null==this._outsideShim&&(this._outsideShim=function(e){return function(n){var i,a,r,l;if(t.clearTimeouts('shim_timeout'),'string'==typeof n.data&&/^visitor_key/.test(n.data))return r=n.data.split('|'),i=r[0],l=r[1],a=r[2],e._origin=a,e.info('outsideShim got message '+n.data),e.persist(l),t.timeout('remove_iframe_shim',function(){return t.elem.remove(e._iframeShim)},1e3),t.timeout('visitor_key_ready',function(){return e.info('visitorKey ready(true)'),e.ready(!0)}),t.elem.unbind}}(this)),t.elem.rebind(window,'message',this._outsideShim)},e.prototype.executeShim=function(e,n){var i;if(null==n&&(n=!1),this.info('@executeShim',e,n),this._iframeShim=t.elem.fromObject({allowtransparency:'true',frameborder:0,height:1,scrolling:'no',src:t.proto()+'//'+t.remote.embedHost()+'/embed/iframe_shim?'+t.url.jsonToParams(this.ev1ParamsForShim()),style:{height:'1px',left:'-200px',position:'absolute',top:'-200px',width:'1px',direction:'ltr'},tagName:'iframe',width:1}),this._iframeShim.onload=function(t){return function(){return t.info('post request for visitor key',e),t._iframeShim.contentWindow.postMessage(e,'*')}}(this),(i=document.getElementsByTagName('script')[0])&&t.elem.after(i,this._iframeShim),n)return t.timeout('shim_timeout',function(n){return function(){return n.notice('shim timeout for',e),t.elem.unbind(window,'message',n._outsideShim),n.savedValue()||(n._origin='timeout',n.persist(t.VisitorKey.generate())),n.ready(!0)}}(this),5e3)},e.prototype.persist=function(e){var n;return t.VisitorKey.isValid(e)?(this.info('@persist',e),this._value=e,!0!==window.wistiaDisableCookies&&this.localStorageValue()!==this._value&&t.localStorage(t.DISTILLERY_COOKIE,this._value),!0!==window.wistiaDisableCookies&&this.cookieValue()!==this._value)?(n=new Date,n.setTime(n.getTime()+3.1536e10),t.cookie(t.DISTILLERY_COOKIE,this._value,{expires:n,path:'/'})):void 0:void this.error(new Error('Attempted to persist invalid visitor key \''+e+'\''))},e.prototype.clear=function(){return this.info('clear'),this.clearFromCurrentDomain(),window._wistiaIframeShim||this.clearFromShimDomain(),this._value=null},e.prototype.clearFromCurrentDomain=function(){return t.removeLocalStorage(t.DISTILLERY_COOKIE,null),t.cookie(t.DISTILLERY_COOKIE,'',{expires:0,path:'/'})},e.prototype.clearFromShimDomain=function(){return this.executeShim('clear_visitor_key')},e.prototype.value=function(){return this._value||this.savedValue()},e.prototype.savedValue=function(){return this.localStorageValue()||this.cookieValue()},e.prototype.cookieValue=function(){return t.cookie(t.DISTILLERY_COOKIE)},e.prototype.localStorageValue=function(){return t.localStorage(t.DISTILLERY_COOKIE)},e.prototype.isValid=function(){return t.VisitorKey.isValid(this.value())},e.prototype.origin=function(){return this._origin},e.prototype.ev1ParamsForShim=function(){var e,n,i,a,r,l,s,d,p,u;for(p=document.getElementsByTagName('script'),l={domain:'net'},(n=0,r=p.length);n<r;n++)if(d=p[n],u=d.getAttribute('src')){if(!u.indexOf)continue;if(e=0<=u.indexOf(t.remote.embedHost())?'com':0<=u.indexOf(t.remote.externalEmbedHost())?'net':null,i=0<=u.indexOf('/E-v1.js'),a=0<=u.indexOf('/static/'),e&&i)return s={domain:e},a&&(s.legacy=!0),s}return{domain:'net'}},e.prototype.cancelShim=function(){if(this._iframeShim&&(t.elem.remove(this._iframeShim),this._iframeShim=null),this._outsideShim)return t.elem.unbind(window,'message',this._outsideShim)},e.isValid=function(e){return 25<(null==e?void 0:e.length)&&/^[a-z0-9_\-\.]+$/i.test(e)},e.generate=function(){return t.uniqId('6888d3755d07808572992ec8a0cc4b33896ec0ac'.substring(0,7)+'_')},e}(),t.mixin(t.VisitorKey.prototype,t.logHelpers),t._initializers.initVisitorKey=function(){return t.visitorKey=new t.VisitorKey},t._destructors.destroyVisitorKey=function(){var e;return null!=(e=t.visitorKey)&&e.cancelShim(),t.visitorKey=null}})(Wistia);
},function(){(function(e){return e.TimeHelper?void 0:e.TimeHelper=function(){function e(){}var t,n;return e.secondsIntoDurationGroups=function(e){var t,i,a,r=Math.floor;return e=n(e),a=r(e),t=r(a/3600),a-=3600*t,i=r(a/60),a-=60*i,{hours:t,minutes:i,seconds:a}},n=function(e){return 0|Math.abs(parseInt(e))},e.secondsToIso8601=function(e){var t,n,i,a,r;return t=this.secondsIntoDurationGroups(e),n=t.hours.toString(),i=t.minutes.toString(),a=t.seconds.toString(),r=['00'.substring(n.length)+n,'00'.substring(i.length)+i,'00'.substring(a.length)+a],r.join(':')},e.secondsToHumanDuration=function(e){var t,n,i,a,r;for(n in t=this.secondsIntoDurationGroups(e),a={hours:0===t.hours?void 0:t.hours+'h',minutes:0!==t.minutes||60<=e&&0!==t.seconds?t.minutes+'m':void 0,seconds:0!==t.seconds||0===t.minutes&&3600>e?t.seconds+'s':void 0},i='',a)r=a[n],null!=r&&(i+=r);return i},e.TRIM_REGEXP=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,e.isValidHumanDuration=function(e){var t,n,i,a,r,l,s,d,p,u,c,m;if(void 0===e||null===e||''===e)return!1;if(e=(''+e).replace(this.TRIM_REGEXP,''),null===e.match(/[\dhms]+/)||null===e.match(/[hms]+/))return!1;if(e.match(/[\dhms]+/)[0]!==e)return!1;for(p=['h','m','s'],n=0,a=p.length;n<a;n++)if(l=p[n],c=new RegExp(l,'g'),null!==e.match(c)&&1<e.match(c).length)return!1;if(s=e.match(/[hms]/g),3===s.length&&('h'!==s[0]||'m'!==s[1]||'s'!==s[2]))return!1;if(2===s.length){for(t=!1,d=s.join(''),u=['hm','hs','ms'],(i=0,r=u.length);i<r;i++)if(m=u[i],d===m){t=!0;break}if(!t)return!1}return!0},t=function(e,t){var n,i;return n=new RegExp('\\d+'+e),i=t.match(n),i?parseInt(i[0].match(/\d+/)[0]):0},e.humanDurationToSeconds=function(e){var n,i,a,r,l;if(e=e?e.toString():'',l=0,this.isValidHumanDuration(e))for(i=[3600*t('h',e),60*t('m',e),t('s',e)],a=0,r=i.length;a<r;a++)n=i[a],l+=n;return l},e.isValidIso8601=function(e){return void 0===e||null===e||''===e?!1:'string'==typeof e&&(e=e.replace(this.TRIM_REGEXP,''),null!==e.match(/[\d:]+/)&&e.match(/[\d:]+/)[0]===e)},e.iso8601ToSeconds=function(e){var t,a,r,i,l,s,d;for(e=e?e.toString():'',d=0,s=[1,60,3600],a=e.split(':').reverse(),(r=i=0,l=a.length);i<l;r=++i)t=a[r],d+=t*s[r];return n(d)},e}()})(Wistia);
},function(){(function(t){return t._initializers.initSpecificTime=function(){var n,e,i;try{return parent===self?(i=location.href.match(/[\?&]wtime=([\dhms]*)/),!(2<=(null==i?void 0:i.length)))||t._specificTimeInitiated?void 0:(t._specificTimeInitiated=!0,e=!1,wistiaEmbeds.onFind(function(t){if(!e)return e=!0,t.time(i[1]).play()})):void 0}catch(e){return n=e,t.error(n),t._specificTimeInitiated=!1}}})(Wistia);
},function(e,t,n){(function(e){return e.Interpolation?void 0:e.Interpolation=n(39)})(Wistia);
},function(){(function(e){return null==e.mux&&(e.mux={}),e._initializers.initMux=function(){if(!e.mux._setup)return e.mux._setup=!0,e.mux._disabled=!1,e.api.onFind(function(t){return window.wistiaDisableMux||window.wistiaDisableCookies||e.mux._disabled||t.iframe||t._opts&&!1===t._opts.mux?void 0:e.asyncRequire('wistia-mux.js').then(function(e){return t.embedded(function(){return e(t)})})})},e._destructors.destroyMux=function(){var t,n,i,a,r,l;for(e.mux._disabled=!0,i=e.api.all(),r=[],(t=0,n=i.length);t<n;t++)l=i[t],r.push(null==(a=l.mux)?void 0:'function'==typeof a.destroy?a.destroy():void 0);return r}})(Wistia);
},function(e,t,n){(function(e){return e.featureEvent?void 0:e.featureEvent=n(102)})(Wistia);
},function(e,t,n){var i,a,r,l,s;a=n(19),i=n(24).ajaxPost,r=n(6).objectToQueryParams,s=function(e,t){return t||(t={}),t.key=e,i('/feature_events',{data:r(t)})},l=function(e,t,n){return n||(n={}),n.key=e,n.account_id=t,i('//'+'fast.wistia.net'+'/feature_events',{data:r(n)})},e.exports={trackForCurrentAccount:s,track:l};
},function(e,t,n){(function(e){var t;return t=n(10).doTimeout,e._initializers.initEditInPlace=function(){return e._editInPlaceTest=!1,t('setup_edit_in_place_test',function(){if(!e._editInPlaceTest)return e._editInPlaceTest=!0,e.api.onFind(function(t){return t.hasData(function(){var n;if(null!=(n=t.grid)&&n.root)return e.elem.bind(t.grid.root,'mouseover',function(n){var i,a;if(i=/weditInPlace=true/.test(location.href),null==e._allowEditInPlace&&(e._allowEditInPlace=null!=(a=t._mediaData)&&a.customizeInPlaceEnabled),i||e._allowEditInPlace)return e.remote.canEditMedia(t.hashedId()).then(function(i){return e.info('experiment: canEditMedia',t.hashedId(),i),t.plugin('editInPlace',function(e){return e.onMouseoverVideo(n)}),t.addPlugin('editInPlace',{on:!0})})}),e.elem.unbind})})})}})(Wistia);
},function(){(function(e){var t,n;return n=e.initializeOnce=function(){return e._initializers.initDetect(),e._initializers.initLocalStorage(),e._initializers.initWLog(),e._initializers.initVisitorKey(),e._initializers.initEventLoop(),e._initializers.initFullscreenTriggers(),e._initializers.initEditInPlace()},t=e.initializeEveryTime=function(){var t;return e._initializers.initEmbedShepherd(),e._initializers.initMux(),e._initializers.initAsyncEmbeds(),e._initializers.initIframeApi(),e._initializers.initEmbedLinks(),e._initializers.initSpecificTime(),e._initializers.initIntegrations(),null==(t=e.eventLoop)?void 0:t.resync()},e.destroy=function(){return e._destructors.destroyAsyncEmbeds(),e._destructors.destroyIframeApi(),e._destructors.destroyEmbedShepherd(),e._destructors.destroyEmbedLinks(),e._destructors.destroyFullscreenTriggers(),e._destructors.destroyEventLoop(),e._destructors.destroyVisitorKey(),e._destructors.destroyWLog(),e._destructors.destroyIntegrations(),e._destructors.destroyMux()},e.destroyGlobals=function(){var e,t,n;for(e in window.Wistia=null,window.wistiaApi=null,window.wistiaDispatch=null,window.wistiaBindIframes=null,window.wistiaEmbeds=null,window._wistiaElemId=null,window.wistiaInitQueue=null,window.wistiaInit=null,window.wistiaEmbedShepherdReady=null,t=[],window)n=window[e],/^wistiajson/.test(e)?t.push(window[e]=null):t.push(void 0);return t},e.reinitialize=function(){return e.destroy(),e.initializeOnce(),e.initializeEveryTime()},e._initialized||(e._initialized=!0,e.initializeOnce()),e.initializeEveryTime()})(Wistia);
},,function(e,t,n){'use strict';var a=n(0),r=function(){function e(e,t){for(var n,a=0;a<t.length;a++)n=t[a],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}var l=a['default'].lib('player/lib/elem'),s=l.elemRemove,d=a['default'].lib('preact'),p=d.h,u=d.render,c=function(){function e(t){i(this,e),this.video=t,this.unbinds=[],this.reactMounts={}}return r(e,[{key:'mount',value:function(e){this.rootElem=e}},{key:'destroy',value:function(){this._destroyed=!0,this.unbinds instanceof Array&&(this.unbinds.map(function(e){try{e()}catch(t){setTimeout(function(){throw t},1)}}),this.unbinds=null);var e=this.reactMounts;if(e)if(e instanceof Array)h(e);else for(var t in e)e.hasOwnProperty(t)&&e[t]&&h(e[t]);for(var n in this.rootElem&&s(Array.prototype.slice.call(this.rootElem.childNodes)),this)this.hasOwnProperty(n)&&!m(n)&&'mounted'!=n&&(this[n]=null);this.__prevProps=null,this._destroyed=!0}}]),e}(),m=function(e){return'_'===e[0]&&'_'===e[1]},h=function(e){var t=e[0],n=e[1];t&&n&&u(p('nothing',null),t,n)};t.a=c;
},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var i=n(0),a=i['default'].lib('player/lib/elem'),r=a.elemBind;if(null==i['default']._isMouseDown){i['default']._isMouseDown=!1;var l=function(e){i['default']._isMouseDown=!0,setTimeout(function(){e.defaultPrevented&&(i['default']._isMouseDown=!1)},0)},s=function(){setTimeout(function(){i['default']._isMouseDown=!1},0)};r(document,'mousedown',l,!0),r(document,'mouseup',s,!0),r(document,'touchstart',l,!0),r(document,'touchend',s,!0),r(document,'contextmenu',l,!0),i['default']._isMouseDown=!0,i['default'].isMouseDown=function(){return i['default']._isMouseDown}}i['default'].define('vulcanV2Video/isMouseDown.js',i['default'].isMouseDown);t['default']=i['default'].isMouseDown;
},,,,,,,function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});n.d(t,'standardSvgAttrs',function(){return a});var i=n(0),a=function(e,t){return{x:'0px',y:'0px',viewBox:'0 0 '+e+' '+t,"enable-background":'new 0 0 '+e+' '+t,style:{fill:'#ffffff',width:'100%',height:'100%',left:0,top:0,strokeWidth:0}}};i['default'].define('vulcanV2Video/svg_boilerplate.js',{standardSvgAttrs:a});
},,,,,,,,,,,,,,,,,,,,function(e,t,n){'use strict';n.d(t,'a',function(){return r});var a=function(){function e(e,t){for(var n,a=0;a<t.length;a++)n=t[a],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}var r=function(){function e(t){i(this,e),this.impl=t,this.unbinds=[],this.namedUnbinds={}}return a(e,[{key:'addNamedUnbind',value:function(e,t){this.namedUnbinds[e]&&this.namedUnbinds[e](),this.namedUnbinds[e]=t}},{key:'removeNamedUnbind',value:function(e){this.namedUnbinds[e]&&(this.namedUnbinds[e](),delete this.namedUnbinds[e])}},{key:'destroy',value:function(){for(var e in this.unbinds instanceof Array&&this.unbinds.map(function(e){return e()}),this.namedUnbinds)this.namedUnbinds.hasOwnProperty(e)&&this.namedUnbinds[e].map(function(e){return e()});this.unbinds=[],this.namedUnbinds={},this.impl=null,this._destroyed=!0}}]),e}();
},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var a=n(0),r=function(){function e(e,t){for(var n,a=0;a<t.length;a++)n=t[a],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}var l=a['default'].lib('utilities/bindify'),s=l.bindify,d=a['default'].lib('player/lib/elem'),p=d.elemBind,u=d.elemUnbind,c=d.elemWidth,m=d.elemHeight,h=d.elemOffset,g=a['default'].lib('utilities/detect'),y=g.cachedDetect,f=y(),_=function(){function e(n){var a=this;i(this,e),this.onTouchStart=function(e){a.rootWidth=c(a.rootElem),a.rootHeight=m(a.rootElem),a.rootOffset=h(a.rootElem),a.resetTouchContext(),e.touches[0]&&(a.xDown=e.touches[0].clientX,a.yDown=e.touches[0].clientY),a.updatePinch(e),2==e.touches.length&&a.touchesAreInsideRootElem()&&(a.isPinch=!0,e.preventDefault()),a.startedAt=Date.now(),p(document,'touchmove',a.onTouchMove,{passive:!1}),p(document,'touchend',a.onTouchEnd);var t=a.getTouchContext(e);a.trigger('touchstart',e,t),a.maybeTriggerMoreSpecificEvent(e,t)},this.onTouchMove=function(e){var n=e.touches[0].clientX,i=e.touches[0].clientY;if(a.xDiff=a.xDown-n,a.yDiff=a.yDown-i,a.updatePinch(e),!a.isPinch){var r=t(a.xDiff*a.xDiff+a.yDiff*a.yDiff);(25<r||300<Date.now()-a.startedAt)&&(a.isSwipe=!0)}var l=a.getTouchContext(e);a.trigger('touchmove',e,l),a.maybeTriggerMoreSpecificEvent(e,l)},this.onTouchEnd=function(e){a.updatePinch(e);var t=a.getTouchContext(e);a.trigger('touchend',e,t),a.maybeTriggerMoreSpecificEvent(e,t),a.resetTouchContext(),u(document,'touchmove',a.onTouchMove),u(document,'touchend',a.onTouchEnd)},this.rootElem=n,this.xDown=this.yDown=null,this.xDiff=this.yDiff=0,this.isSwipe=!1,this.isPinch=!1,this.startedAt=null,this.initialPinchDelta=null,this.touch1=this.touch2=null,this.pinchDelta=0,this.pinchScale=0,p(n,'touchstart',this.onTouchStart,!!f.passiveSupported&&{passive:!1})}var t=Math.sqrt;return r(e,[{key:'updatePinch',value:function(n){var e=Math.pow,i=this.rootOffset;return 2===n.touches.length?(this.touch1={left:n.touches[0].pageX-i.left,top:n.touches[0].pageY-i.top},this.touch2={left:n.touches[1].pageX-i.left,top:n.touches[1].pageY-i.top},this.pinchDelta=t(e(this.touch1.left-this.touch2.left,2),e(this.touch1.top-this.touch2.top,2)),null==this.initialPinchDelta&&(this.initialPinchDelta=this.pinchDelta),this.pinchScale=this.pinchDelta/this.initialPinchDelta,this.pinchScale):0}},{key:'getTouchContext',value:function(n){var e=Math.abs,i=this.rootOffset,a=n.pageX-i.left,r=n.pageY-i.top,l=Date.now()-this.startedAt;return{xOffset:a,yOffset:r,xDelta:this.xDiff,yDelta:this.yDiff,absXDelta:e(this.xDiff),absYDelta:e(this.yDiff),delta:t(this.xDiff*this.xDiff+this.yDiff*this.yDiff),startedAt:this.startedAt,isSwipe:!this.isPinch&&this.isSwipe,isTap:1e3>l&&!this.isPinch&&!this.isSwipe,isLongPress:1e3<=l&&!this.isPinch&&!this.isSwipe,isPinch:this.isPinch,timeDelta:l,pinchScale:this.pinchScale,pinchDelta:this.pinchDelta}}},{key:'touchIsInsideRootElem',value:function(e){return 0<=e.left&&e.left<this.rootWidth&&0<=e.top&&e.top<this.rootHeight}},{key:'touchesAreInsideRootElem',value:function(){return this.touchIsInsideRootElem(this.touch1)&&this.touchIsInsideRootElem(this.touch2)}},{key:'resetTouchContext',value:function(){this.xDown=this.yDown=null,this.xDiff=this.yDiff=0,this.isSwipe=!1,this.isPinch=!1,this.startedAt=null,this.pinchDelta=0,this.initialPinchDelta=null,this.touch1=this.touch2=null}},{key:'maybeTriggerMoreSpecificEvent',value:function(e,t){t.isLongPress?this.trigger('longpress',e,t):t.isTap?this.trigger('tap',e,t):t.isSwipe?this.trigger('swipe',e,t):t.isPinch&&this.trigger('pinch',e,t)}},{key:'destroy',value:function(){u(this.rootElem,'touchstart',this.onTouchStart),u(document,'touchmove',this.onTouchMove),u(document,'touchend',this.onTouchEnd),this.rootElem=null}}]),e}();s(_.prototype),a['default'].define('vulcanV2Video/TouchEvents.js',_);t['default']=_;
},,,,,,,,,,,,,,,function(e,t,n){'use strict';var l=n(0),s=n(240),d=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},p=function(){function e(e,t){for(var n,a=0;a<t.length;a++)n=t[a],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=l['default'].lib('preact'),c=u.h,m=u.render,h=u.Component,g=l['default'].lib('utilities/detect'),y=g.cachedDetect,f=y(),_=l['default'].lib('player/lib/elem'),b=_.elemBind,v=_.elemUnbind,A=function(e){function t(){var e,n,r,l;i(this,t);for(var s=arguments.length,d=Array(s),p=0;p<s;p++)d[p]=arguments[p];return l=(n=(r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(d))),r),r.onSwipe=function(t,e){var n=r.props.onSwipe;n&&n(t,e)},r.onPinch=function(t,e){var n=r.props.onPinch;n&&n(t,e)},r.onLongPress=function(t,e){var n=r.props.onLongPress;n&&n(t,e)},r.onClick=function(t){var e=r.props.onClickOrTap;e&&e(t)},r.onTouchEnd=function(t,e){if(e.isTap){var n=r.props.onClickOrTap;n&&n(t,e)}},n),a(r,l)}return r(t,e),p(t,[{key:'render',value:function(){var e=this.props.tagName||'div';return c(e,d({},this.props,{ref:this.props.elemRef}),this.props.children)}},{key:'componentDidMount',value:function(){this._savedBase=this.base,this.setupBindings()}},{key:'componentDidUpdate',value:function(){this.base!==this._savedBase&&(this._savedBase=this.base,this.destroyBindings(),this.setupBindings())}},{key:'componentWillUnmount',value:function(){this.destroyBindings()}},{key:'setupBindings',value:function(){if(this.unbinds=[],f.touchScreen){var e=this.touchEvents=new s['default'](this.base);e.on('touchend',this.onTouchEnd),e.on('swipe',this.onSwipe),e.on('pinch',this.onPinch),e.on('longpress',this.onLongPress)}else this.unbinds.push(b(this.base,'click',this.onClick))}},{key:'destroyBindings',value:function(){this.touchEvents&&(this.touchEvents.destroy(),this.touchEvents=null),this.unbinds&&(this.unbinds.map(function(e){return e()}),this.unbinds=null)}}]),t}(h);t.a=A;
},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var l=n(0),s=function(){function e(e,t){for(var n,a=0;a<t.length;a++)n=t[a],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=l['default'].lib('preact'),p=d.h,u=d.render,c=d.Component,m=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),s(t,[{key:'shouldComponentUpdate',value:function(){return!1}},{key:'render',value:function(){var e=this.props;return p('div',{class:e.class||'w-html-stub',style:e.style,ref:e.stubRef,"data-handle":e.handle})}},{key:'componentDidMount',value:function(){var e=this.props.mount;e&&e(this.base)}},{key:'componentWillUnmount',value:function(){var e=this.props.destroy;e&&e()}}]),t}(c);l['default'].define('vulcanV2Video/ui_components/RawHTMLStub.js',m);t['default']=m;
},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var l=n(0),s=n(130),d=n(39),p=n.n(d),u=n(240),c=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},m=function(){function e(e,t){var n,i=[],a=!0,r=!1;try{for(var l,s=e[Symbol.iterator]();!(a=(l=s.next()).done)&&(i.push(l.value),!(t&&i.length===t));a=!0);}catch(e){r=!0,n=e}finally{try{!a&&s['return']&&s['return']()}finally{if(r)throw n}}return i}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),g=function(){function e(e,t){for(var n,a=0;a<t.length;a++)n=t[a],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y,f,_,b=l['default'].lib('utilities/color'),v=l['default'].lib('utilities/core'),A=v.niceDuration,w=l['default'].lib('player/lib/elem'),k=w.elemBind,E=w.elemOffset,C=w.elemUnbind,P=w.elemWidth,S=l['default'].lib('preact'),x=S.h,h=S.render,T=S.Component,I=l['default'].lib('utilities/detect'),B=I.cachedDetect,O=B(),M='vulcanV2Video/ui_components',D='w-playbar',F=36,L=function(e){return Math.min(1,Math.max(0,e))},N=function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&e[n]!==t[n])return!0;return!1},W=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onFocusIn=function(){Object(s['default'])()||n.setState({isKeyboardFocused:!0})},n.onFocusOut=function(){n.state.isKeyboardFocused&&n.setState({isKeyboardFocused:!1})},n.onMouseEnter=function(t){n.touchEvents||(t.wistiaPlayerHandled=!0,n.setState({isHovering:!0}),n.cachePositionDetails(),n.props.shouldShowStoryboard&&n.loadStoryboard())},n.onMouseLeave=function(t){n.touchEvents||(t.wistiaPlayerHandled=!0,n.setState({isHovering:!1}))},n.onMouseMove=function(t){if(!n.touchEvents){t.wistiaPlayerHandled=!0;var e=n.getPercentFromMouse(t);n.setState({hoverPercent:e})}},n.onMouseDown=function(t){if(!n.touchEvents&&!t.ctrlKey){t.preventDefault(),n.wrapperElem.focus(),t.wistiaPlayerHandled=!0,n.cachePositionDetails();var e=n.getPercentFromMouse(t);n.handleWithProp('onDragStart',t,e),n.setState({dragPercent:e,dragMode:!0,wasBeforePlayOnDrag:n.props.isBeforePlay}),k(document,'mousemove',n.onMouseMoveDragging),k(document,'mouseup',n.onMouseUpDragging)}},n.onMouseMoveDragging=function(t){t.preventDefault(),t.wistiaPlayerHandled=!0;var e=n.getPercentFromMouse(t);n.handleWithProp('onDrag',t,e),n.setState({dragPercent:e,dragMode:!0})},n.onMouseUpDragging=function(t){t.wistiaPlayerHandled=!0;var e=n.getPercentFromMouse(t);n.setState({dragPercent:e,dragMode:!1}),n.handleWithProp('onDragEnd',t,e),C(document,'mousemove',n.onMouseMoveDragging),C(document,'mouseup',n.onMouseUpDragging)},n.onTouchStart=function(t){t.preventDefault(),t.wistiaPlayerHandled=!0,n.cachePositionDetails();var e=n.getPercentFromMouse(t);n.handleWithProp('onDragStart',t,e),n.setState({dragPercent:e,dragMode:!0}),n.touchEvents.on('touchmove',n.onTouchMoveDragging),n.touchEvents.on('touchend',n.onTouchEndDragging)},n.onTouchMoveDragging=function(t){t.preventDefault(),t.wistiaPlayerHandled=!0;var e=n.getPercentFromMouse(t);n.handleWithProp('onDrag',t,e),n.setState({dragPercent:e,dragMode:!0})},n.onTouchEndDragging=function(t){t.wistiaPlayerHandled=!0;var e=n.getPercentFromMouse(t);n.setState({dragPercent:e,dragMode:!1}),n.handleWithProp('onDragEnd',t,e),n.touchEvents.off('touchmove',n.onTouchMoveDragging),n.touchEvents.off('touchend',n.onTouchEndDragging)},n.startAnimLoopIfPlaying=function(){(n.props.isPlaying||!n.bufferedTween.atEnd())&&n.props.isVisible&&requestAnimationFrame(n.continuouslyUpdatePlaybar)},n.stopAnimLoop=function(){cancelAnimationFrame(n.animReq)},n.continuouslyUpdatePlaybar=function(){300<Date.now()-n.lastRenderedAt?n.setState({currentTime:n.props.getCurrentTime(),currentBufferTime:n.props.getCurrentBufferTime(),timeWidth:n._timeWidth},n.startAnimLoopIfPlaying):(n.drawPlaybar(),n.startAnimLoopIfPlaying())},n.loadStoryboard=function(){return Wistia.asyncRequire(M+'/Storyboard.js').then(function(e){_=e,n.setState({loadedStoryboard:!0})})},n.loadChapters=function(){return Wistia.asyncRequire([M+'/ChapterMarkers.js',M+'/ChapterTitles.js']).then(function(e){var t=m(e,2),i=t[0],a=t[1];y=i,f=a,n.setState({loadedChapters:!0})})},n.state={hasPlayed:!1,isHovering:!1,dragMode:!1,dragPercent:0,hoverPercent:0,currentTime:e.getCurrentTime(),currentBufferTime:e.getCurrentBufferTime(),isKeyboardFocused:!1,loadedStoryboard:!1,loadedChapters:!1,timeWidth:null},n.setColorsFromPlayerColor(e.color),n.bufferedTween=new p.a({seedRange:0,outputStart:0,outputEnd:0}),e.chapters&&0<e.chapters.length&&n.loadChapters(),n}return r(t,e),g(t,[{key:'componentWillReceiveProps',value:function(e){var t=this.props;t.color!==e.color&&this.setColorsFromPlayerColor(e.color),this.setState({dragMode:!1,currentTime:t.getCurrentTime(),currentBufferTime:t.getCurrentBufferTime()}),e.chapters&&0<e.chapters.length&&this.loadChapters()}},{key:'shouldComponentUpdate',value:function(e,t){return N(this.props,e)||N(this.state,t)}},{key:'render',value:function(){var t=this;return this.oldWrapperElem=this.wrapperElem,this.props.isPlaceholder?x('div',{class:D+'-placeholder w-css-reset w-css-reset-tree',role:'slider',"aria-label":'Playbar',"aria-orientation":'horizontal',"aria-valuenow":this.ariaValueNow(),"aria-valuemin":0,"aria-valuemax":this.props.duration,"aria-valuetext":this.ariaValueText(),tabindex:-1,style:this.placeholderStyle()},this.renderTime()):x('div',{class:D+'-wrapper w-css-reset w-css-reset-tree',role:'slider',"aria-label":'Playbar',"aria-orientation":'horizontal',"aria-valuenow":this.ariaValueNow(),"aria-valuemin":0,"aria-valuemax":this.props.duration,"aria-valuetext":this.ariaValueText(),tabindex:0,style:this.wrapperStyle(),ref:function(n){return t.wrapperElem=n},onBlur:this.props.onBlur,onFocus:this.props.onFocus,onFocusIn:this.onFocusIn,onFocusOut:this.onFocusOut,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onMouseMove:this.onMouseMove,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp},x('div',{style:this.clippedStyle()},x('canvas',{width:this.canvasWidth(),height:this.canvasHeight(),ref:function(n){t.canvas=n},style:this.canvasStyle()})),'undefined'==typeof y?null:x(y,c({},this.props,{timeLeft:this.timeLeft(),timeRight:this.timeRight()})),'undefined'==typeof _?null:x(_,c({},this.props,{isHovering:this.state.isHovering,hoverPercent:this.state.hoverPercent})),'undefined'==typeof f?null:x(f,this.props),x('div',{class:D+'__hoverMarker',style:this.hoverMarkerStyle()}),x('div',{class:D+'__focus-border',style:this.focusBorderStyle()}))}},{key:'canvasWidth',value:function(){return this.props.width*(window.devicePixelRatio||1)}},{key:'canvasHeight',value:function(){return this.props.height*(window.devicePixelRatio||1)}},{key:'renderTime',value:function(){var t=this;return x('div',{class:D+'__time',style:this.timeStyle(),ref:function(n){return t.timeElem=n}},this.timeText())}},{key:'componentDidMount',value:function(){this.lastRenderedAt=Date.now(),this.drawPlaybar(),O.touchScreen&&this.wrapperElem&&(this.touchEvents=new u['default'](this.wrapperElem),this.touchEvents.on('touchstart',this.onTouchStart));var e=this.props;e.isPlaying&&this.setState({hasPlayed:!0}),e.isPlaying&&this.startAnimLoopIfPlaying()}},{key:'componentDidUpdate',value:function(e,t){var n=this.props;this.lastRenderedAt=Date.now(),this.drawPlaybar(),O.touchScreen&&this.wrapperElem&&this.oldWrapperElem!==this.wrapperElem&&(this.touchEvents&&this.touchEvents.destroy(),this.touchEvents=new u['default'](this.wrapperElem),this.touchEvents.on('touchstart',this.onTouchStart)),n.isPlaying&&!this.state.hasPlayed&&this.setState({hasPlayed:!0});var i=n.isPlaying&&!e.isPlaying,a=t.currentBufferTime!=this.state.currentBufferTime,r=n.isVisible&&!e.isVisible;(i||r||a)&&this.startAnimLoopIfPlaying();var l=!n.isVisible&&e.isVisible;l&&this.stopAnimLoop()}},{key:'drawPlaybar',value:function(){var e=this;if(this.canvas){var t=this.props,n=this._hasDrawn;this._hasDrawn=!0,this._prevTime=this._currentTime,this._prevBufferTime=this._currentBufferTime,this._currentTime=t.getCurrentTime(),this._currentBufferTime=t.getCurrentBufferTime();var i=this.canvasWidth(),a=this.canvasHeight(),r=this.canvas.getContext('2d');r.clearRect(0,0,i,a);var l=0,s=i*this.playedPercent();r.fillStyle=this.playedColor.toRgba(),r.fillRect(l,0,s,a),l+=s;var d=100>Date.now()-t.lastSeekedAt;(this._prevTime!==this._currentTime||this._prevBufferTime!=this._currentBufferTime)&&(this.bufferedTween=new p.a({seedRange:400,outputStart:d?this.bufferedAheadPercent():this.bufferedTween.value(),outputEnd:this.bufferedAheadPercent()}));var u=i*this.bufferedTween.value();if(r.fillStyle=this.bufferedColor.toRgba(),r.fillRect(l,0,u,a),l+=u,r.fillStyle=this.emptyColor.toRgba(),r.fillRect(l,0,i,a),!1!==t.showTime){var c=this._timeLength,m=this.timeText();this._timeLength=n?m.length:0;var h=14*t.scale*window.devicePixelRatio;r.font=h+'px WistiaPlayerOverpassNumbers, Helvetica, Sans-Serif',n&&this._timeLength!==c&&(this._timeWidth=r.measureText(m.replace(/\d/g,'5')).width);var g,y=this.timePadding()*(window.devicePixelRatio||1);this._timeWidth+2*y<s?(r.textAlign='right',g=s-y):(r.textAlign='left',g=y),r.fillStyle='#fff',r.textBaseline='middle',r.fillText(n?m:'.',g,a/2),n||setTimeout(function(){e.drawPlaybar(),e.setState({timeWidth:e._timeWidth})},0)}}}},{key:'componentWillUnmount',value:function(){C(document,'mousemove',this.onMouseMoveDragging),C(document,'mouseup',this.onMouseUpDragging),this.touchEvents&&(this.touchEvents.destroy(),this.touchEvents=null)}},{key:'placeholderStyle',value:function(){var e=new b(this.props.color).alpha(.95);return{background:e.toRgba(),cursor:'default',height:'100%',outline:'none',position:'relative',width:'100%'}}},{key:'timeBounds',value:function(){var e,t;return this.timeCanFitInPlayedRect()?(t=this.playheadLeftPosition()-this.timePadding(),e=t-this.timeWidth()-this.timePadding()):(e=this.timePadding(),t=e+this.timeWidth()),{left:e,right:t}}},{key:'timeLeft',value:function(){return this.timeBounds().left}},{key:'timeRight',value:function(){return this.timeBounds().right}},{key:'wrapperStyle',value:function(){return{cursor:'pointer',height:'100%',outline:'none',position:'relative'}}},{key:'clippedStyle',value:function(){return{display:'block',height:'100%',overflow:'hidden',pointerEvents:'none',position:'relative',width:this.props.width}}},{key:'canvasStyle',value:function(){return{height:this.props.height,left:0,pointerEvents:'none',position:'absolute',top:0,width:this.props.width}}},{key:'timeStyle',value:function(){var e=this.props.scale,t=!this.props.isPlaceholder&&this.timeCanFitInPlayedRect();return{color:'white',display:!1===this.props.showTime?'none':'block',fontFamily:'WistiaPlayerOverpassNumbers, Helvetica, Sans-Serif',fontSize:14*e+'px',marginLeft:t?-10*e+'px':10*e+'px',pointerEvents:'none',position:'absolute',textShadow:'0 0 6px rgba(0, 0, 0, 0.2)',top:'50%',transform:'translateY(-50%) translateX('+(t?'-100%':0)+')',whiteSpace:'nowrap'}}},{key:'hoverMarkerStyle',value:function(){return{background:'linear-gradient(to right, rgba(255,255,255,0) 0%,rgba(255,255,255,.12) 100%)',display:this.state.isHovering?' block':'none',height:'100%',left:this.state.hoverPercent*this.props.width-F+'px',pointerEvents:'none',position:'absolute',top:0,width:F}}},{key:'focusBorderStyle',value:function(){return{border:'2px solid #fff',display:this.state.isKeyboardFocused?'block':'none',height:'100%',left:0,pointerEvents:'none',position:'absolute',top:0,width:'100%'}}},{key:'playedPercent',value:function(){var e=this.state;return e.dragMode||e.wasBeforePlayOnDrag?e.dragPercent:L(this.props.getCurrentTime()/this.props.duration)}},{key:'bufferedAheadPercent',value:function(){var e=this.state;if(this.props.isBeforePlay)return 0;if(e.dragMode){var t=e.currentBufferTime/this.props.duration;return L(t-e.dragPercent)}return L((this.props.getCurrentBufferTime()-this.props.getCurrentTime())/this.props.duration)}},{key:'emptyPercent',value:function(){var e=L(this.playedPercent()+this.bufferedAheadPercent());return 1-e}},{key:'timeText',value:function(){var e=this.state,t=this.props;return e.dragMode||e.wasBeforePlayOnDrag?A(e.dragPercent*t.duration):e.hasPlayed||1<=this.props.getCurrentTime()?A(t.getCurrentTime()):A(t.duration)}},{key:'ariaValueNow',value:function(){return this.state.dragMode?this.state.dragPercent*this.props.duration:this.props.getCurrentTime()}},{key:'ariaValueText',value:function(){return A(this.ariaValueNow())}},{key:'cachePositionDetails',value:function(){this.offset=E(this.wrapperElem)}},{key:'getPercentFromMouse',value:function(t){if(!this.offset)return 0;var e=null==t.pageX?t.changedTouches&&t.changedTouches[0]&&t.changedTouches[0].pageX:t.pageX,n=e-this.offset.left;return Math.max(0,Math.min(1,n/this.props.width))}},{key:'handleWithProp',value:function(t,n){var e=this.props[t];if(e){for(var i=arguments.length,a=Array(2<i?i-2:0),r=2;r<i;r++)a[r-2]=arguments[r];e.apply(void 0,[n].concat(a))}}},{key:'timeWidth',value:function(){return this._timeWidth/(window.devicePixelRatio||1)}},{key:'playheadLeftPosition',value:function(){return this.props.width*this.playedPercent()}},{key:'timePadding',value:function(){return 8*this.props.scale}},{key:'timeCanFitInPlayedRect',value:function(){return this.timeWidth()+2*this.timePadding()<this.playheadLeftPosition()}},{key:'setColorsFromPlayerColor',value:function(e){this.playedColor=new b(e).darken(30).alpha(.7),this.bufferedColor=new b(e).lighten(75).alpha(.6),this.emptyColor=new b(e).lighten(40).alpha(.3)}}]),t}(T);t['default']=W;
},function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var wt=n(0),kt=n(40),Et=n(106),Ct=n(137),Pt=n(240),St=function(){function e(e,t){for(var n,a=0;a<t.length;a++)n=t[a],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function i(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var xt=wt['default'].lib('preact'),Tt=xt.h,h=xt.render,It=xt.Component,Bt=wt['default'].lib('utilities/detect'),Ot=Bt.cachedDetect,Mt=Ot(),Dt=wt['default'].lib('player/lib/elem'),Ft=Dt.elemBind,Lt=Dt.elemUnbind;
;var Nt=function(){function e(e,t){for(var n,a=0;a<t.length;a++)n=t[a],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function l(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function s(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function d(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Wt=wt['default'].lib('player/translations'),Ht=Wt.getTranslation,Rt=wt['default'].lib('preact'),jt=Rt.h,Vt=Rt.render,Ut=Rt.Component,zt=wt['default'].lib('utilities/color'),Gt=wt['default'].lib('utilities/core'),qt=Gt.niceDuration,Qt=function(e){function t(e){l(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onMouseEnter=function(){n.setState({isHovering:!0})},n.onMouseLeave=function(){n.setState({isHovering:!1})},n.onFocusIn=function(){n.setState({isHovering:!0})},n.onFocusOut=function(){n.setState({isHovering:!1})},n.state={isHovering:!1},n}return d(t,e),Nt(t,[{key:'render',value:function(){var e=this.props.baseWidth,t=this.props.baseHeight;return jt('div',{class:'w-bpb-wrapper w-css-reset w-css-reset-tree',style:this.wrapperStyle()},jt('button',{class:'w-big-play-button w-css-reset-button-important w-vulcan-v2-button',style:this.buttonStyle(),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onFocusIn:this.onFocusIn,onFocusOut:this.onFocusOut,"aria-label":this.t('TITLE_WHEN_NOT_PLAYING')},jt('svg',Object(Ct.standardSvgAttrs)(e,t),jt('rect',{"fill-rule":'evenodd',"clip-rule":'evenodd',fill:'none',width:e,height:t}),jt('polygon',{"fill-rule":'evenodd',"clip-rule":'evenodd',fill:'#FFFFFF',points:'53,22 53,58 79,40'}))),this.props.showBpbTime?jt('div',{class:'w-bpb-time',style:this.timeStyle()},qt(this.props.duration)):null)}},{key:'t',value:function(e){return Ht(this.props.playerLanguage,'PLAY_BUTTON_'+e)}},{key:'wrapperStyle',value:function(){var e=this.props,t=e.scale,n=new zt(e.color).alpha(.8);return this.state.isHovering&&n.lighten(30),{display:e.isVisible?'block':'none',left:'50%',position:'absolute',top:'50%',transform:'translate(-50%, -50%)'}}},{key:'buttonStyle',value:function(){var e=this.props,t=e.scale,n=new zt(e.color).alpha(.8);return this.state.isHovering&&n.lighten(30),{cursor:'pointer',height:e.baseHeight*t+'px',background:n.toRgba(),boxShadow:this.state.isKeyboardFocused?'0 0 0 2px #fff inset':'none',width:e.baseWidth*t+'px'}}},{key:'timeStyle',value:function(){var e=this.props.scale;return{background:'rgba(0,0,0,.4)',color:'#fff',fontFamily:'WistiaPlayerOverpassNumbers, Helvetica, Sans-Serif',fontSize:18*e+'px',lineHeight:30*e+'px',pointerEvents:'none',textAlign:'center'}}}]),t}(Ut),Kt=function(e){return function(t){function n(){var e,t,r,l;i(this,n);for(var s=arguments.length,d=Array(s),p=0;p<s;p++)d[p]=arguments[p];return l=(t=(r=a(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(d))),r),r.onTouchEnd=function(t,e){var n=r.props.onClickOrTap;n&&e.isTap&&n(t)},r.onClick=function(t){var e=r.props.onClickOrTap;e&&e(t)},t),a(r,l)}return r(n,t),St(n,[{key:'render',value:function(){return Tt(e,this.props)}},{key:'componentDidMount',value:function(){this.setupBindings()}},{key:'componentDidUpdate',value:function(){this.destroyBindings(),this.setupBindings()}},{key:'componentWillUnmount',value:function(){this.destroyBindings()}},{key:'setupBindings',value:function(){this.unbinds=[],Mt.touchScreen?(this.touchEvents=new Pt['default'](this.base),this.touchEvents.on('touchend',this.onTouchEnd)):this.unbinds.push(Ft(this.base,'click',this.onClick))}},{key:'destroyBindings',value:function(){this.touchEvents&&(this.touchEvents.destroy(),this.touchEvents=null),this.unbinds&&(this.unbinds.map(function(e){return e()}),this.unbinds=null)}}]),n}(It)}(Qt);
;var Yt=function(){function e(e,t){for(var n,a=0;a<t.length;a++)n=t[a],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function p(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function u(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function c(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Xt=wt['default'].lib('player/lib/fit-control'),Jt=Xt.controlMultiplierBasedOnVideo,Zt=wt['default'].lib('preact'),$t=Zt.h,eo=Zt.render,to=125,oo=function(e){function t(e){p(this,t);var n=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderButton=function(){n.buttonElem=eo($t(Kt,{color:n.video.playerColor(),scale:n.scale(),isVisible:'beforeplay'===n.video.state()&&!1===n.video.lastPlayInfo().isPending,onClickOrTap:n.onClickOrTap,showBpbTime:n._timeEnabled,duration:n.video.duration(),playerLanguage:n.props.playerLanguage,baseHeight:80,baseWidth:to}),n.rootElem,n.buttonElem),n.reactMounts=[n.rootElem,n.buttonElem]},n.onClickOrTap=function(){n.video.play()},n.unbinds.push(e.on('playercolorchange',n.renderButton),e.on('play',n.renderButton),e.on('playrejected',n.renderButton),e.on('playpending',n.renderButton),e.on('playerlanguagechange',n.renderButton),e.on('end',n.renderButton),e.on('widthchange',n.renderButton),e.on('trimchange',n.renderButton)),n._timeEnabled=n.video._opts.bpbTime,n}return c(t,e),Yt(t,[{key:'mount',value:function(e){this.rootElem=e,this.renderButton()}},{key:'onControlPropsUpdated',value:function(e){this.props.videoWidth!==e.videoWidth&&this.renderButton()}},{key:'shouldShow',value:function(){var e=50<this.scale()*to,t=this.video.isControlEnabled('smallPlayButton')&&!1!==this.video._opts.controlsVisibleOnLoad;return!e&&t?!1:'beforeplay'===this.video.state()&&!1===this.video.lastPlayInfo().isPending}},{key:'scale',value:function(){return Math.min(1.3,Math.max(0.3,Jt(this.video,[640,960])))}},{key:'setTimeEnabled',value:function(e){this._timeEnabled=e,this.renderButton()}}]),t}(Et.a);oo.shouldMount=function(e){var t=e._opts.playButton;return null==t||!0===t},oo.handle='bigPlayButton',oo.type='above-control-bar',wt['default'].defineControl(oo);
;var no=n(255),io=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ao=function(){function e(e,t){for(var n,a=0;a<t.length;a++)n=t[a],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function m(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function g(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function y(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var ro=wt['default'].lib('preact'),lo=ro.h,so=ro.render,po=ro.Component,uo=wt['default'].lib('utilities/obj'),co=uo.merge,mo=function(e){function t(){return m(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,e),ao(t,[{key:'shouldComponentUpdate',value:function(e){return this.props.isPlaying!==e.isPlaying}},{key:'render',value:function(){return this.props.isPlaying?this.renderPauseIcon():this.renderPlayIcon()}},{key:'renderPlayIcon',value:function(){var e=this.props.noPadding,t=e?0:20,n=e?0:9;return lo('svg',io({},this.svgAttrs(10+2*t,16+2*n),{class:'w-css-reset w-css-reset-tree'}),lo('polygon',{points:t+9.5+','+(n+8)+' '+t+','+(n+16)+' '+t+','+n}))}},{key:'renderPauseIcon',value:function(){var e=this.props.noPadding,t=e?0:20,n=e?0:11.3,i=12;return lo('svg',io({},this.svgAttrs(10+2*t,i+2*n),{class:'w-css-reset w-css-reset-tree'}),lo('g',null,lo('rect',{x:t,y:n,width:'3.5',height:i}),lo('rect',{x:t+6.5,y:n,width:'3.5',height:i})))}},{key:'svgAttrs',value:function(){var e=this.props.noPadding,t=this.props.isPlaying,n=e?0:20,i=e?0:t?11.3:9,a=t?12:16,r=Object(Ct.standardSvgAttrs)(10+2*n,a+2*i);return co(r.style,this.props.svgStyle),r}}]),t}(po),ho=mo;
;var go=function(){function e(e,t){for(var n,a=0;a<t.length;a++)n=t[a],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function f(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function _(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function b(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var yo=wt['default'].lib('preact'),fo=yo.h,_o=yo.render,bo=wt['default'].lib('player/lib/fit-control'),vo=bo.controlMultiplierBasedOnVideo,Ao=wt['default'].lib('utilities/detect'),wo=Ao.cachedDetect,ko=wo(),Eo=function(e){function t(e){f(this,t);var n=_(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderWithFade=function(){'beforeplay'===n.video.state()||(n.renderButton(),clearTimeout(n.displayTimeout),n.displayTimeout=n.props.controlsAreVisible?setTimeout(function(){n.isDisplayNone=!1,n.renderButton()},1):setTimeout(function(){n.isDisplayNone=!0,n.renderButton()},200))},n.onClickOrTap=function(){n.togglePlay()},n.unbinds.push(e.on('play',n.renderWithFade),e.on('pause',n.renderWithFade)),n.isDisplayNone='beforeplay'===e.state(),n}return b(t,e),go(t,[{key:'mount',value:function(e){this.rootElem=e,this.renderButton()}},{key:'renderButton',value:function(){this.iconElem=_o(fo(no.a,{tagName:'button',class:'w-centered-play-pause-toggler w-vulcan-v2-button',onClickOrTap:this.onClickOrTap,style:this.rootStyle()},fo(ho,{isPlaying:'playing'===this.video.state(),svgStyle:this.svgStyle(),noPadding:!0})),this.rootElem,this.iconElem),this.reactMounts=[this.rootElem,this.iconElem]}},{key:'onControlPropsUpdated',value:function(e){e.controlsAreVisible!==this.props.controlsAreVisible&&this.renderWithFade(),e.videoWidth!==this.props.videoWidth&&this.renderButton()}},{key:'rootStyle',value:function(){var e=this.scale(),t=this.props.controlsAreVisible,n='playing'===this.video.state(),i=n?72:80,a=n?60:50;return{background:'transparent',border:0,display:this.isDisplayNone?'none':'block',height:i*e+'px',left:'50%',margin:0,padding:'5px 20px',position:'absolute',opacity:t?.7:0,outline:'none',top:'50%',transform:'translate(-'+(n?50:42)+'%, -50%)',transition:'opacity 200ms',webkitTapHighlightColor:'rgba(0,0,0,0)',width:a*e+'px'}}},{key:'togglePlay',value:function(){var e=this.video;'playing'===e.state()?e.pause():e.play()}},{key:'svgStyle',value:function(){return{filter:'drop-shadow(0px 0px 3px rgba(0,0,0,0.5))'}}},{key:'scale',value:function(){return Math.min(1.3,Math.max(0.3,vo(this.video,[640,960])))}}]),t}(Et.a);Eo.shouldMount=function(){return ko.touchScreen},Eo.handle='centeredPlayPauseToggler',Eo.type='above-control-bar',wt['default'].defineControl(Eo);
;var Co=n(130),Po=function(){function e(e,t){for(var n,a=0;a<t.length;a++)n=t[a],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function v(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function A(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function w(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var So=wt['default'].lib('preact'),xo=So.h,To=So.render,Io=So.Component,Bo=function(e){function t(){var e,n,i,a;v(this,t);for(var r=arguments.length,l=Array(r),s=0;s<r;s++)l[s]=arguments[s];return a=(n=(i=A(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),i),i.onFocus=function(){Object(Co['default'])()||i.setState({isKeyboardFocused:!0})},i.onBlur=function(){i.setState({isKeyboardFocused:!1})},n),A(i,a)}return w(t,e),Po(t,[{key:'render',value:function(){return xo(no.a,{class:'w-css-reset w-css-reset-tree',style:this.rootStyle(),onClickOrTap:this.props.onClickOrTap},xo('button',{style:this.buttonStyle(),onFocus:this.onFocus,onBlur:this.onBlur,class:'w-vulcan-v2-button'},xo('svg',{viewBox:'0 0 237 237',style:this.svgStyle()},xo('style',null,this.styleText()),xo('polygon',{fill:'white',points:'88 107 65 107 65 131 89 131 112 154 112 84'}),xo('g',{fill:'none',stroke:'white',"stroke-width":'10',"stroke-linecap":'round'},xo('path',{class:'volume__small-wave',d:'M 142 86 C 151 107 151 130 142 151'}),xo('path',{class:'volume__large-wave',d:'M 165 74 C 178 97 178 140 165 163'}))),xo('div',{style:this.textStyle()},this.props.buttonText)))}},{key:'styleText',value:function(){return'\n      @keyframes VOLUME_SMALL_WAVE_FLASH {\n          0% { opacity: 0; }\n         33% { opacity: 1; }\n         66% { opacity: 1; }\n        100% { opacity: 0; }\n      }\n\n      @keyframes VOLUME_LARGE_WAVE_FLASH {\n          0% { opacity: 0; }\n         33% { opacity: 1; }\n         66% { opacity: 1; }\n        100% { opacity: 0; }\n      }\n\n      .volume__small-wave {\n        animation: VOLUME_SMALL_WAVE_FLASH 2s infinite;\n        opacity: 0;\n      }\n\n      .volume__large-wave {\n        animation: VOLUME_LARGE_WAVE_FLASH 2s infinite .3s;\n        opacity: 0;\n      }\n    '}},{key:'rootStyle',value:function(){return{display:this.props.isVisible?'block':'none',height:'100%',left:0,pointerEvents:this.props.backdropEnabled?'auto':'none',position:'absolute',top:0,width:'100%'}}},{key:'buttonStyle',value:function(){var e=this.props.scale;return{background:'rgba(0,0,0,0.4)',border:'2px solid '+(this.state.isKeyboardFocused?'#fff':'transparent'),borderRadius:27*e+'px',cursor:'pointer',height:35*e+'px',right:15*e-2+'px',outline:'none',paddingRight:10*e+'px',pointerEvents:'auto',position:'absolute',top:15*e-2+'px'}}},{key:'svgStyle',value:function(){var e=this.props.scale;return{width:35*e+'px',height:32*e+'px',verticalAlign:'middle'}}},{key:'textStyle',value:function(){var e=this.props.scale;return{color:'white',display:'inline',fontFamily:'WistiaPlayerOverpass, Helvetica, Sans-Serif',fontSize:13*e+'px',marginLeft:-4*e+'px',width:'36%'}}}]),t}(Io);
;var Oo=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Mo=function(){function e(e,t){for(var n,a=0;a<t.length;a++)n=t[a],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function k(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function E(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function C(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Do=wt['default'].lib('preact'),Fo=Do.h,Lo=Do.render,No=wt['default'].lib('utilities/bindify'),Wo=No.bindify,Ho=wt['default'].lib('player/lib/elem'),Ro=Ho.elemFromObject,jo=Ho.elemRemove,Vo=Ho.elemUnbindAllInside,Uo=wt['default'].lib('player/translations'),zo=Uo.getTranslation,Go=wt['default'].lib('utilities/detect'),qo=Go.cachedDetect,Qo=qo(),Ko=function(e){function t(e){k(this,t);var n=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.renderButton=function(){var e=!!n.video._opts.silentAutoPlayIsChromeless,t=n.isVisible();e&&(t?n.video.requestChromeless('clickForSound'):n.video.releaseChromeless('clickForSound')),n.buttonRoot=Lo(Fo(Bo,Oo({},n.props,{isVisible:t,onClickOrTap:n.onClickOrTap,backdropEnabled:e,buttonText:n.buttonText()})),n.rootElem,n.buttonRoot),n.reactMounts=[n.rootElem,n.buttonRoot]},n.onClickOrTap=function(t){Object(Co['default'])()||n.video._impl.ui.vulcanWrapper.focus(),n.video.unmute(),n.trigger('click',t)},n.unbinds.push(e.on('play',n.renderButton),e.on('silentplaybackmodechange',n.renderButton),e.on('volumechange',n.renderButton)),n}return C(t,e),Mo(t,[{key:'mount',value:function(e){this.rootElem=e,this.renderButton()}},{key:'onControlPropsUpdated',value:function(e){var t=this.props;(e.scale!==t.scale||e.controlsAreVisible!==t.controlsAreVisible||e.controlBarHeight!==t.controlBarHeight)&&this.renderButton()}},{key:'isVisible',value:function(){return null==this._isVisible?this.video.inSilentPlaybackMode():this._isVisible}},{key:'setIsVisible',value:function(e){this._isVisible=e,this.renderButton()}},{key:'buttonText',value:function(){return this._buttonText?this._buttonText:Qo.touchScreen?this.t('MOBILE_TEXT'):this.t('DESKTOP_TEXT')}},{key:'setButtonText',value:function(e){this._buttonText=e,this.renderButton()}},{key:'t',value:function(e){return zo(this.props.language,'CLICK_FOR_SOUND_'+e)}}]),t}(Et.a);Wo(Ko.prototype),Ko.handle='clickForSoundButton',Ko.type='above-control-bar',wt['default'].defineControl(Ko);
;var Yo=function(t){setTimeout(function(){throw t},0)},Xo=function(e){return e.catch(Yo)};
;var Jo=function(){function e(e,t){var n,i=[],a=!0,r=!1;try{for(var l,s=e[Symbol.iterator]();!(a=(l=s.next()).done)&&(i.push(l.value),!(t&&i.length===t));a=!0);}catch(e){r=!0,n=e}finally{try{!a&&s['return']&&s['return']()}finally{if(r)throw n}}return i}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),Zo=function(){function e(e,t){for(var n,a=0;a<t.length;a++)n=t[a],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),$o=function e(t,n,i){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(i)};function P(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function S(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function x(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var en=wt['default'].lib('promiscuous'),tn=wt['default'].lib('preact'),on=tn.h,nn=tn.render,an=wt['default'].lib('player/lib/elem'),rn=an.elemBind,ln=an.elemIsInside,sn=an.elemRebind,dn=an.elemUnbind,pn=wt['default'].lib('utilities/detect'),un=pn.cachedDetect,cn=un(),mn=function(e){function t(e){P(this,t);var n=S(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onContextMenu=function(t){if(!t.altKey){'contextmenu'===t.type&&t.preventDefault(),n.pageX=t.pageX,n.pageY=t.pageY,n.hasLoaded||n.loading(new en(function(e){n.loadingPromise=e}),{x:n.pageX,y:n.pageY});var e=new en(function(e){Object(Co['default'])()?rn(document,'mouseup',function(t){return n.pageX=t.pageX,n.pageY=t.pageY,e(),dn}):e()});e.then(function(){Xo(n.loadContextMenu().then(function(){n.renderMenu&&(n.loadingPromise(),n.renderMenu()),setTimeout(function(){sn(document,'mouseup',n.onDocumentMouseUp)},50)}))})}},n.onDocumentMouseUp=function(t){t.ctrlKey||ln(t.target,n.rootElem)||(dn(document,'mouseup',n.onDocumentMouseUp),n.loadContextMenu().then(function(){n.hideMenu()}))},cn.touchScreen?(n.touchEvents=new Pt['default'](e.chrome),n.touchEvents.bind('longpress',n.onContextMenu)):n.unbinds.push(rn(e.chrome,'contextmenu',n.onContextMenu)),n}return x(t,e),Zo(t,[{key:'mount',value:function(e){this.rootElem=e}},{key:'destroy',value:function(){$o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'destroy',this).call(this),this.touchEvents&&(this.touchEvents.destroy(),this.touchEvents=null)}},{key:'onControlPropsUpdated',value:function(e){this.props.playerLanguage!==e.playerLanguage&&this._visible&&this.renderMenu()}},{key:'loadContextMenu',value:function(){var e=this;return wt['default'].asyncRequire(['overpassFontFace.js','vulcanV2Video/controls/ContextMenuControl/menu.js']).then(function(t){var n=Jo(t,2),i=n[0],a=n[1];for(var r in a)e[r]=a[r].bind(e)})}}]),t}(Et.a);mn.handle='contextMenu',mn.type='foreground',wt['default'].defineControl(mn);
;var hn=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},gn=function(){function e(e,t){for(var n,a=0;a<t.length;a++)n=t[a],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function T(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function I(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function B(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var yn=wt['default'].lib('preact'),fn=yn.h,_n=yn.render,bn=yn.Component,vn=function(e){function t(){return T(this,t),I(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return B(t,e),gn(t,[{key:'shouldComponentUpdate',value:function(){return!1}},{key:'render',value:function(){var e={fill:'none',stroke:'#ffffff',"stroke-width":2,"stroke-linecap":'round',"stroke-linejoin":'round',"stroke-miterlimit":10};return fn('svg',Object(Ct.standardSvgAttrs)(40,34),fn('g',null,fn('g',null,fn('polyline',hn({},e,{points:'31.4,12.6 31.4,8.7 25.8,8.7'})),fn('polyline',hn({},e,{points:'14.7,8.7 9.1,8.7 9.1,12.6'})),fn('polyline',hn({},e,{points:'25.8,24.8 31.4,24.8 31.4,20.9'})),fn('polyline',hn({},e,{points:'9.1,20.9 9.1,24.8 14.7,24.8'}))),fn('rect',hn({x:'13.7',y:'12.3'},e,{"enable-background":'new',width:'13.3',height:'8.9'}))))}}]),t}(bn);
;var An=function(){function e(e,t){for(var n,a=0;a<t.length;a++)n=t[a],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function O(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function M(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function D(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var wn=wt['default'].lib('preact'),kn=wn.h,En=wn.render,Cn=wn.Component,Pn=wt['default'].lib('player/translations'),Sn=Pn.getTranslation,xn=wt['default'].lib('player/lib/elem'),Tn=xn.elemBind,In=xn.formInputIsFocused,Bn=wt['default'].lib('utilities/detect'),On=Bn.cachedDetect,Mn=On(),Dn=function(e){function t(e){O(this,t);var n=M(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClickButton=function(){n.toggleFullscreen()},n.onKeyUp=function(t){if(!In()){var e=n.video.getInputContext();('player-mouseover'===e||'player-focus'===e||'playbar-focus'===e)&&t.keyCode===70&&n.toggleFullscreen()}},n.unbinds.push(e.on('enter-fullscreen',function(){n.renderButton()}),e.on('cancel-fullscreen',function(){n.renderButton()}),Tn(document,'keyup',n.onKeyUp)),Fn()||Ln(n.video)||!Nn()||(n.mountDialog=n.maybeMountDialog),n}return D(t,e),An(t,[{key:'maybeMountDialog',value:function(e){this.dialogElem=e,this.renderDialog()}},{key:'renderDialog',value:function(){this.dialogElem.innerHTML='Double-tap to zoom in or out'}},{key:'mountButton',value:function(e){this.buttonElem=e,this.renderButton()}},{key:'renderButton',value:function(){if(this.buttonElem){var e=this.video.inFullscreen()?this.t('TITLE_WHEN_IN_FULLSCREEN'):this.t('TITLE_WHEN_NOT_IN_FULLSCREEN');this.setButtonLabel(e),this.iconElem=En(kn(vn,null),this.buttonElem,this.iconElem),this.reactMounts=[this.buttonElem,this.iconElem]}}},{key:'t',value:function(e){return Sn(this.props.playerLanguage.code,'FULLSCREEN_'+e)}},{key:'toggleFullscreen',value:function(){if(Fn()||Ln(this.video)){var e=this.video;e.inFullscreen()?e.cancelFullscreen():e.requestFullscreen()}}}]),t}(Et.a);Dn.handle='fullscreenButton',Dn.type='control-bar-right',Dn.sortValue=1e3,wt['default'].defineControl(Dn);var Fn=function(){return Mn.fullscreenEnabled},Ln=function(e){var t=e._mediaData,n=e._opts,i=(t.spherical||n.spherical)&&!n.overrideSpherical,a=!!t.secondaryMediaData,r=top!==self;return 0<Mn.ios.version&&(!r||!i&&!a)},Nn=function(){return 0<Mn.ios.version||Mn.android};Dn.shouldMount=function(e){var t=e._opts.fullscreenButton;return(!0===t||null==t)&&(Fn()||Ln(e)||Nn())};
;var Wn=function(){function e(e,t){for(var n,a=0;a<t.length;a++)n=t[a],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function F(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function L(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function N(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Hn=wt['default'].lib('preact'),Rn=Hn.h,jn=Hn.render,Vn=Hn.Component,Un=wt['default'].lib('utilities/color'),zn=wt['default'].lib('player/lib/elem'),Gn=zn.addInlineCss,qn=wt['default'].lib('utilities/seqid'),Qn=function(e){function t(e){F(this,t);var n=L(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.pathId=qn('w-loading-path-'),n}return N(t,e),Wn(t,[{key:'shouldComponentUpdate',value:function(){return!1}},{key:'render',value:function(){var t=this,e=new Un(this.props.color||'#fff');return Rn('div',{ref:function(n){return t.iconRoot=n},style:this.rootStyle()})}},{key:'componentDidMount',value:function(){this.activeSvgId=qn('wistia_loading_svg_'),this.iconRoot.innerHTML='\n      <svg version="1.2" id='+this.activeSvgId+' height="80" width="125" xmlns="http://www.w3.org/2000/svg" viewport="0 0 125 80" xmlns:xlink="http://www.w3.org/1999/xlink">\n        <path fill="none" stroke="#ffffff" stroke-miterlimit="20" d="M52,21 L81,40 L52,60 Z" />\n      </svg>\n    ';var e,t=this.iconRoot.getElementsByTagName('path')[0];e=t.getTotalLength?t.getTotalLength():100,Gn(this.iconRoot,'\n      #'+this.activeSvgId+' path {\n        stroke-width: 2px;\n        stroke-dasharray: '+e/3+', '+2*e/3+';\n        -webkit-animation: wistia_dash 1s infinite linear forwards;\n      }\n      @-webkit-keyframes wistia_dash {\n        from { stroke-dashoffset: '+e+'; }\n        to { stroke-dashoffset: 0; }\n      }\n    ')}},{key:'rootStyle',value:function(){return{height:'80px',left:'50%',position:'absolute',top:'50%',transform:'translate(-50%, -50%)',width:'125px'}}}]),t}(Vn);
;var Kn=function(){function e(e,t){for(var n,a=0;a<t.length;a++)n=t[a],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function W(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function H(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function R(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Yn=wt['default'].lib('preact'),Xn=Yn.h,Jn=Yn.render,Zn=function(e){function t(e){W(this,t);var n=H(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.isVisible=!1;var i=-1;return n.unbinds.push(e.on('waiting',function(e){!n.isVisible&&2>i&&2<=e&&(n.isVisible=!0,n.renderIndicator()),i=e}),e.on('done-waiting',function(){n.isVisible=!1,n.renderIndicator(),i=-1}),e.on('timechange',function(){n.isVisible=!1,n.renderIndicator(),i=-1})),n}return R(t,e),Kn(t,[{key:'mount',value:function(e){this.rootElem=e}},{key:'renderIndicator',value:function(){this.indicatorElem=Jn(Xn('div',{style:this.rootStyle()},Xn(Qn,null)),this.rootElem,this.indicatorElem),this.reactMounts=[this.rootElem,this.indicatorElem]}},{key:'rootStyle',value:function(){return{display:this.isVisible?'block':'none',height:'80px',width:'125px'}}}]),t}(Et.a);Zn.handle='loadingIndicator',Zn.type='above-control-bar',wt['default'].defineControl(Zn);
;var $n=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ei=function(){function e(e,t){for(var n,a=0;a<t.length;a++)n=t[a],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function j(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function V(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function U(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var ti=wt['default'].lib('preact'),oi=ti.h,ni=ti.render,ii=ti.Component,ai=wt['default'].lib('player/lib/elem'),ri=ai.elemBind,li=ai.elemHeight,si=ai.elemOffset,di=ai.elemUnbind,pi=function(e){function t(e){j(this,t);var n=V(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onMouseMove=function(t){var e=t.pageX-n.props.videoOffset.left+10,i=t.pageY-n.props.videoOffset.top;n.setState({x:e,y:i})},n.animationInterval=void 0,n.state={x:n.props.x+10,y:n.props.y,floatingPixel:8},n}return U(t,e),ei(t,[{key:'componentWillMount',value:function(){var e=this;this.animationInterval=setInterval(function(){var t=e.state.floatingPixel+1;10<t&&(t=8),e.setState({floatingPixel:t})},500),ri(document,'mousemove',this.onMouseMove)}},{key:'componentWillUnmount',value:function(){clearInterval(this.animationInterval),di(document,'mousemove',this.onMouseMove)}},{key:'sandStyle',value:function(){return{fill:'#000000',width:'1',height:'1'}}},{key:'anchorStyle',value:function(){this.props;return{height:0,left:this.state.x+'px',position:'absolute',top:this.state.y+'px',width:0}}},{key:'sandProps',value:function(e,t){return{className:'sand',x:e,y:t,style:this.sandStyle()}}},{key:'useRules',value:function(){return{fill:'#FFFFFF',"fill-rule":'evenodd'}}},{key:'hourGlassProps',value:function(e){return{stroke:'#000000',x:'1.5',y:e,width:'12',height:'2'}}},{key:'defsProps',value:function(e){return{x:1,y:e,width:13,height:3}}},{key:'render',value:function(){var e=this;return oi('div',{style:this.anchorStyle(),onMouseMove:this.onMouseMove},oi('svg',{width:'15px',height:'20px',viewBox:'0 0 15 20',version:'1.1'},oi('defs',null,oi('rect',$n({id:'path-1'},this.defsProps(1))),oi('rect',$n({id:'path-2'},this.defsProps(16))),oi('polygon',{id:'path-3',points:'2 3 13 3 13 7 10.25 10 13 13 13 17 2 17 2 13 4.75 10 2 7'})),oi('g',{id:'Page-1',stroke:'none',"stroke-width":'1',fill:'none',"fill-rule":'evenodd'},oi('g',{id:'hourglass'},oi('g',{id:'top'},oi('use',$n({},this.useRules(),{xlinkKref:'#path-1'})),oi('rect',this.hourGlassProps(1.5))),oi('g',{id:'bottom'},oi('use',$n({},this.useRules(),{xlinkHref:'#path-2'})),oi('rect',this.hourGlassProps(16.5))),oi('g',{id:'glass'},oi('use',$n({},this.useRules(),{xlinkHref:'#path-3'})),oi('path',{stroke:'#000000',d:'M2.5,3.5 L2.5,6.80550815 L5.42828419,10 L2.5,13.1944918 L2.5,16.5 L12.5,16.5 L12.5,13.1944918 L9.57171581,10 L12.5,6.80550815 L12.5,3.5 L2.5,3.5 Z'})),oi('rect',{id:'floater',fill:'#000000',x:'7',y:this.state.floatingPixel,width:'1',height:'1'}),[[5,6],[7,6],[6,7],[8,7],[7,11],[6,12],[8,12],[7,13],[6,14],[8,14],[5,13],[9,13],[4,14],[10,14],[5,6],[9,6]].map(function(t){return oi('rect',e.sandProps(t[0],t[1]))})))))}}]),t}(ii);
;var ui=function(){function e(e,t){for(var n,a=0;a<t.length;a++)n=t[a],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function z(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function G(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function q(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var ci=wt['default'].lib('player/lib/elem'),mi=ci.elemBind,hi=ci.elemIsInside,gi=ci.elemUnbind,yi=ci.formInputIsFocused,fi=ci.elemOffset,_i=wt['default'].lib('preact'),bi=_i.h,vi=_i.render,Ai=wt['default'].lib('player/translations'),wi=Ai.getTranslation,ki=wt['default'].lib('utilities/detect'),Ei=ki.cachedDetect,Ci=Ei(),Pi=function(e){function t(e){z(this,t);var n=G(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.show=function(e){n._isVisible=!0,n.renderMenu(e)},n.hide=function(){n._isVisible=!1,n.menuElem=vi(bi('nothing',null),n.rootElem,n.menuElem),n.reactMounts=[n.rootElem,n.menuElem]},n._isVisible=!1,n}return q(t,e),ui(t,[{key:'mount',value:function(e){this.rootElem=e}},{key:'renderMenu',value:function(e){var t=e.x||0,n=e.y||0,i=fi(this.video._embedContainer);this._isVisible&&(this.menuElem=vi(bi(pi,{videoOffset:i,x:t,y:n}),this.rootElem,this.menuElem),this.reactMounts=[this.rootElem,this.menuElem])}}]),t}(Et.a);Pi.handle='loadingHourglass',Pi.type='foreground',wt['default'].defineControl(Pi);
;var Si=n(305),xi=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ti=function(){function e(e,t){for(var n,a=0;a<t.length;a++)n=t[a],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),Ii=function e(t,n,i){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(i)};function Q(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function K(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function Y(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Bi=wt['default'].lib('utilities/obj'),Oi=wt['default'].lib('player/lib/assets'),Mi=wt['default'].lib('player/lib/timeout-utils'),Di=Mi.doTimeout,Fi=wt['default'].lib('player/lib/elem'),Li=Fi.elemBind,Ni=Fi.formInputIsFocused,Wi=wt['default'].lib('preact'),Hi=Wi.h,Ri=Wi.render,ji=33,Vi=34,Ui=32,zi=function(e){function t(e){Q(this,t);var n=K(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Gi.call(n),n.showTime=!0,n}return Y(t,e),Ti(t,[{key:'mount',value:function(e){var n=this;Ii(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'mount',this).call(this,e);var i=this.video;this.unbinds.push(i.on('play',this.renderPlaybar),i.on('pause',this.renderPlaybar),i.on('progress',this.renderIfNotPlaying),i.on('timechange',this.renderIfNotPlaying),i.on('end',this.renderPlaybar),i.on('widthchange',this.renderPlaybar),i.on('playercolorchange',this.renderPlaybar),i.on('seek',function(){n._lastSeekedAt=Date.now(),n.renderPlaybar()}),i.on('trimchange',function(){n.renderNothing(),n.renderPlaybar()}),Li(document,'keydown',this.onKeyDown),Li(document,'keyup',this.onKeyUp));var a=function(){var e=i.plugin.chapters;n.unbinds.push(e.on('focuschange',n.renderPlaybar),e.on('changechapters',n.renderPlaybar))};i.plugin('chapters').then(a),i.on('plugininitialized',function(e){'chapters'===e&&a()}),this.renderPlaybar()}},{key:'onControlPropsUpdated',value:function(e){e.width!==this.props.width&&this.renderPlaybar(),e.controlsAreVisible&&!this.props.controlsAreVisible&&this.renderPlaybar(),!e.controlsAreVisible&&this.props.controlsAreVisible&&this.renderPlaybar()}},{key:'chaptersPlugin',value:function(){return this.video.plugin.chapters}},{key:'isPlaceholder',value:function(){return!1}},{key:'isVisible',value:function(){return!0}},{key:'shouldShowStoryboard',value:function(){if(null!=this._shouldShowStoryboard)return this._shouldShowStoryboard;var e=!!this.storyboardAsset(),t=!!this.video._mediaData.secondaryMediaData;return this._shouldShowStoryboard=e&&!t}},{key:'storyboardAsset',value:function(){return Oi.one(this.video._mediaData.assets,{type:'storyboard',status:Oi.READY,metadata:function(e){return e&&e.frame_count&&e.frame_width&&e.frame_height}})}}]),t}(Et.a),Gi=function(){var t=this;this.renderPlaybar=function(){var e=t.video,n=e.plugin.chapters,i=n?n.getAllChapters():[],a=n?n.getFocusedChapter():null;t.playbarElem=Ri(Hi(Si['default'],xi({getCurrentTime:t.getCurrentTime,getCurrentBufferTime:t.getCurrentBufferTime,duration:e.duration(),isBeforePlay:'beforeplay'===e.state(),isVisible:t.props.controlsAreVisible,isPlaying:'playing'===e.state()},t.props,{onDragStart:t.onDragStart,onDrag:t.onDrag,onDragEnd:t.onDragEnd,onBlur:t.onBlurPlaybar,onFocus:t.onFocusPlaybar,isPlaceholder:t.isPlaceholder(),chapters:i,focusedChapter:a,onMouseEnterChapter:t.onMouseEnterChapter,onMouseLeaveChapter:t.onMouseLeaveChapter,mediaData:t.video._mediaData,embedOptions:t.video._opts,color:t.video.playerColor(),showTime:t.showTime,lastSeekedAt:t._lastSeekedAt||0,shouldShowStoryboard:t.shouldShowStoryboard(),storyboardAsset:t.storyboardAsset()})),t.rootElem,t.playbarElem),t.reactMounts=[t.rootElem,t.playbarElem]},this.renderNothing=function(){t.playbarElem=Ri(Hi('nothing',null),t.rootElem,t.playbarElem),t.reactMounts=[t.rootElem,t.playbarElem]},this.renderIfNotPlaying=function(){'playing'!==t.video.state()&&t.renderPlaybar()},this.getCurrentTime=function(){return t.video?t.video.time():0},this.getCurrentBufferTime=function(){var e=t.video?t.video.getBuffered():[];return 0===e.length?0:e[e.length-1].end},this.onMouseEnterChapter=function(n,e){t.chaptersPlugin().setFocusedChapter(e&&e.id)},this.onMouseLeaveChapter=function(){t.chaptersPlugin().setFocusedChapter(null)},this.onDragStart=function(n,e){t.video.requestControls('playbar-drag'),t.stateBeforeDrag=t.video.state(),t.onDrag(n,e),Di(t.video.uuid+'.maybe-pause-on-scrub',function(){Object(Co['default'])()&&t.video.pause()},300)},this.onDrag=function(n,e){t.video.time(e*t.video.duration())},this.onDragEnd=function(n,e){t.video.releaseControls('playbar-drag'),t.onDrag(n,e),('beforeplay'===t.stateBeforeDrag||'playing'===t.stateBeforeDrag)&&t.video.play()},this.onFocusPlaybar=function(){t.video.enterInputContext('playbar-focus')},this.onBlurPlaybar=function(){t.video.exitInputContext('playbar-focus')},this.onKeyDown=function(n){if(t.isVisible()&&!Ni()){var e=t.video,i=e.getInputContext();if('playbar-focus'===i||'player-mouseover'===i){var a=e.duration(),r=n.keyCode;if(r===Ui)return void n.preventDefault();null==t.keyDownStartedAt&&(t.keyDownStartedAt=Date.now());var l=Date.now()-t.keyDownStartedAt,s=0;s='playing'===e.state()?n.shiftKey||200<l?r===ji||r===Vi?30>a?5:60>a?10:10+a/60:30>a?2:60>a?5:5+a/60/2:r===ji||r===Vi?60>a?5:20:2:n.shiftKey||200<l?1:1/24;var d=0;r===39||r===ji?d=1:(r===37||r===Vi)&&(d=-1),-1==d?e.time(e.time()-s):1==d&&e.time(e.time()+s)}}},this.onKeyUp=function(n){if(t.isVisible()&&!Ni()){t.keyDownStartedAt=null;var e=t.video,i=e.getInputContext();'playbar-focus'===i&&n.keyCode===Ui&&('playing'===e.state()?e.pause():e.play())}}},qi=zi;
;var Qi=function(){function e(e,t){for(var n,a=0;a<t.length;a++)n=t[a],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function X(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function J(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function Z(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Ki=function(e){function t(){return X(this,t),J(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Z(t,e),Qi(t,[{key:'width',value:function(){return this.props.width}},{key:'isPlaceholder',value:function(){return'upper'===this.props.playbarMode}},{key:'isVisible',value:function(){return'lower'===this.props.playbarMode}}]),t}(qi);Ki.shouldMount=function(e){var t=e._opts.playbar;return!0===t||null==t},Ki.handle='lowerPlaybar',Ki.type='lower-playbar',wt['default'].defineControl(Ki);
;var Yi=function(){function e(e,t){for(var n,a=0;a<t.length;a++)n=t[a],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function $(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function ee(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function te(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Xi=wt['default'].lib('player/lib/elem'),Ji=Xi.getLastActiveEventAt,Zi=wt['default'].lib('preact'),$i=Zi.h,ea=Zi.render,ta=wt['default'].lib('player/lib/fit-control'),oa=ta.controlMultiplierBasedOnVideo,na=wt['default'].lib('utilities/detect'),ia=na.cachedDetect,aa=ia(),ra=function(e){function t(e){$(this,t);var n=ee(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.showIconAndFade=function(){return n.playedOnce?void(n.video.isControlEnabled('centeredPlayPauseToggler')&&!n.props.chromeless||n.video._inNativeMode()||(n.isPlaying='playing'===n.video.state(),n.renderAndFade())):void(n.playedOnce=!0)},n.isOpaque=!1,n.unbinds.push(e.on('play',n.showIconAndFade),e.on('pause',n.showIconAndFade)),n}return te(t,e),Yi(t,[{key:'mount',value:function(e){this.rootElem=e}},{key:'onControlPropsUpdated',value:function(e){e.videoWidth!==this.props.videoWidth&&this.renderButton()}},{key:'renderAndFade',value:function(){var e=this,t=this.video.lastPlayInfo();if(!(this.isPlaying&&'user-event'!==t.source)){var n=this.video.lastPauseInfo();(this.isPlaying||'user-event'===n.source)&&(this.isOpaque=!0,this.renderButton(),clearTimeout(this.fadeTimeout),this.fadeTimeout=setTimeout(function(){e.isOpaque=!1,e.renderButton()},20))}}},{key:'renderButton',value:function(){this.iconElem=ea($i('div',{class:'w-play-pause-notifier',style:this.rootStyle()},$i(ho,{isPlaying:!this.isPlaying,svgStyle:this.svgStyle(),noPadding:!0})),this.rootElem,this.iconElem),this.reactMounts=[this.rootElem,this.iconElem]}},{key:'rootStyle',value:function(){var e=this.scale(),t=this.isPlaying,n=t?72:80,i=t?60:50;return{height:n*e+'px',left:'50%',pointerEvents:'none',position:'absolute',opacity:this.isOpaque?.5:0,top:'50%',transform:'translate(-'+(t?33:50)+'%, -50%) scale('+(this.isOpaque?.7:1.5)+')',transition:this.isOpaque?'':'opacity .6s, transform .6s',width:i*e+'px'}}},{key:'svgStyle',value:function(){return{filter:'drop-shadow(0px 0px 3px rgba(0,0,0,0.5))'}}},{key:'scale',value:function(){return Math.min(1.3,Math.max(0.3,oa(this.video,[640,960])))}}]),t}(Et.a);ra.handle='playPauseNotifier',ra.type='above-control-bar',wt['default'].defineControl(ra);
;var la=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},sa=function(){function e(e,t){for(var n,a=0;a<t.length;a++)n=t[a],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function oe(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function ne(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function ie(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var da=wt['default'].lib('preact'),pa=da.h,ua=da.render,ca=da.Component,ma=function(e){function t(){return oe(this,t),ne(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ie(t,e),sa(t,[{key:'shouldComponentUpdate',value:function(){return!1}},{key:'render',value:function(){return pa('svg',la({},Object(Ct.standardSvgAttrs)(40,34),{onMouseEnter:this.props.onMouseEnter}),pa('g',null,pa('g',null,pa('path',{d:'M28.3,16.4h-1.9c-0.4,0-0.8-0.3-0.9-0.7l-0.4-1.1c-0.2-0.3-0.1-0.8,0.2-1.1l1.3-1.3c0.3-0.3,0.3-0.7,0-1l-0.4-0.4c-0.3-0.3-0.7-0.3-1,0l-1.3,1.3c-0.3,0.3-0.8,0.3-1.1,0.1l-1.1-0.5c-0.4-0.1-0.7-0.5-0.7-0.9V9.1c0-0.4-0.3-0.7-0.7-0.7h-0.6c-0.4,0-0.7,0.3-0.7,0.7v1.7c0,0.4-0.3,0.8-0.7,0.9l-1.2,0.5c-0.3,0.2-0.8,0.1-1.1-0.2l-1.2-1.2c-0.3-0.3-0.7-0.3-1,0l-0.4,0.4c-0.3,0.3-0.3,0.7,0,1l1.2,1.2c0.3,0.3,0.3,0.8,0.1,1.1l-0.5,1.2c-0.1,0.4-0.5,0.7-0.9,0.7h-1.6c-0.4,0-0.7,0.3-0.7,0.7v0.6c0,0.4,0.3,0.7,0.7,0.7h1.6c0.4,0,0.8,0.3,0.9,0.7l0.5,1.2c0.2,0.3,0.1,0.8-0.1,1.1l-1.2,1.2c-0.3,0.3-0.3,0.7,0,1l0.4,0.4c0.3,0.3,0.7,0.3,1,0l1.2-1.2c0.3-0.3,0.8-0.3,1.1-0.2l1.2,0.5c0.4,0.1,0.7,0.5,0.7,0.9v1.7c0,0.4,0.3,0.7,0.7,0.7h0.6c0.4,0,0.7-0.3,0.7-0.7V24c0-0.4,0.3-0.8,0.7-0.9l1.1-0.5c0.3-0.2,0.8-0.1,1.1,0.1l1.3,1.3c0.3,0.3,0.7,0.3,1,0l0.4-0.4c0.3-0.3,0.3-0.7,0-1l-1.3-1.3C25,21,25,20.5,25.1,20.2l0.4-1.1c0.1-0.4,0.5-0.7,0.9-0.7h1.9c0.4,0,0.7-0.3,0.7-0.7v-0.6C29,16.7,28.7,16.4,28.3,16.4z M23.8,17.5c0,2.2-1.8,3.9-3.9,3.9c-2.2,0-3.9-1.8-3.9-3.9s1.7-3.9,3.9-3.9C22.1,13.6,23.8,15.3,23.8,17.5z'}))))}}]),t}(ca);
;var ha=function(){function e(e,t){var n,i=[],a=!0,r=!1;try{for(var l,s=e[Symbol.iterator]();!(a=(l=s.next()).done)&&(i.push(l.value),!(t&&i.length===t));a=!0);}catch(e){r=!0,n=e}finally{try{!a&&s['return']&&s['return']()}finally{if(r)throw n}}return i}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),ya=function(){function e(e,t){for(var n,a=0;a<t.length;a++)n=t[a],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function ae(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function re(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function le(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var fa=wt['default'].lib('preact'),_a=fa.h,ba=fa.render,va=wt['default'].lib('player/translations'),Aa=va.getTranslation,wa=wt['default'].lib('promiscuous'),ka=function(e){function t(e){ae(this,t);var n=re(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.loadMenuCode=function(){return wt['default'].asyncRequire(['overpassFontFace.js','vulcanV2Video/controls/SettingsControl/dialog.js']).then(function(e){var t=ha(e,2),i=t[0],a=t[1];n.renderMenuImpl||(n.renderMenuImpl=a.renderMenu.bind(n),n.onSelect=a.onSelect.bind(n))})},n.onMouseEnterButton=function(){n.loadMenuCode()},n.unbinds.push(e.on('playbackratechange',function(){n.menuElem&&n.renderMenu()}),e.on('qualitychange',function(){n.menuElem&&n.renderMenu()}),e.on('playerlanguagechange',function(){n.menuElem&&n.renderMenu()})),e.hasData(function(){if(null==n._isQualityEnabled){var t=e._opts.qualityControl;n._isQualityEnabled=!0===t||null==t}if(null==n._isPlaybackRateEnabled){var i=e._opts.playbackRateControl;n._isPlaybackRateEnabled=!0===i||null==i}}),n}return le(t,e),ya(t,[{key:'t',value:function(e){return Aa(this.props.playerLanguage.code,'SETTINGS_'+e)}},{key:'mountButton',value:function(e){this.buttonRoot=e,this.setButtonLabel('Settings'),this.renderButton()}},{key:'mountDialog',value:function(e){return this.dialogRoot=e,this.renderMenu()}},{key:'renderButton',value:function(){this.buttonElem=ba(_a(ma,{onMouseEnter:this.onMouseEnterButton}),this.buttonRoot,this.buttonElem),this.reactMounts.button=[this.buttonRoot,this.buttonElem]}},{key:'renderMenu',value:function(){var e=this;if(this.dialog.isOpen()){var t=this.loadMenuCode().then(function(){e.renderMenuImpl()});return this.loading(new wa(function(e){t.then(e)})),t}}},{key:'onControlPropsUpdated',value:function(){this.dialog.isOpen()&&this.renderMenu()}},{key:'setQualityEnabled',value:function(e){var t=this;return this._isQualityEnabled=e,this.loadMenuCode().then(function(){t.renderMenuImpl()})}},{key:'setPlaybackRateEnabled',value:function(e){var t=this;return this._isPlaybackRateEnabled=e,this.loadMenuCode().then(function(){t.renderMenuImpl()})}}]),t}(Et.a);ka.shouldMount=function(e){var t=e._opts,n=t.settingsControl,i=t.qualityControl,a=t.playbackRateControl;return!1!==n&&(!0===i||null==i||!0===a||null==a)},ka.handle='settingsButton',ka.type='control-bar-right',ka.sortValue=200,ka.isVideoChrome=!0,wt['default'].defineControl(ka),wt['default'].SettingsControl=ka;
;var Ea=function(){function e(e,t){for(var n,a=0;a<t.length;a++)n=t[a],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function se(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function de(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function pe(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Ca=wt['default'].lib('preact'),Pa=Ca.h,Sa=Ca.render,xa=Ca.Component,Ta=wt['default'].lib('utilities/detect'),Ia=Ta.cachedDetect,Ba=Ia(),Oa=function(e){function t(){return se(this,t),de(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return pe(t,e),Ea(t,[{key:'styles',value:function(){return{background:'rgba(0,0,0,.3)',boxShadow:'none',cursor:'pointer',display:'flex',alignItems:'center',fontSize:Fa(this),lineHeight:Da(this),padding:'0 '+10*this.props.scale+'px',width:'100%',height:'30px',color:'#fff',position:'absolute',justifyContent:'center'}}},{key:'render',value:function(){return Pa('div',{style:this.styles()},this.props.message)}}]),t}(xa),Ma=function(e){return 34*e.props.scale},Da=function(e){return Ma(e)+'px'},Fa=function(e){return 14*e.props.scale+'px'};
;var La=function(){function e(e,t){for(var n,a=0;a<t.length;a++)n=t[a],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function ue(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function ce(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function me(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Na=wt['default'].lib('preact'),Wa=Na.h,Ha=Na.render,Ra=wt['default'].lib('utilities/detect'),ja=Ra.cachedDetect,Va=wt['default'].lib('player/translations'),Ua=Va.getTranslation,za=ja(),Ga=function(e){function t(e){ue(this,t);var n=ce(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._isVisible=!1,n}return me(t,e),La(t,[{key:'flash',value:function(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:2e3;this._isVisible=!0,this.renderMenu(this.t(e)),setTimeout(function(){t.hide()},n)}},{key:'t',value:function(e){return Ua(this.props.playerLanguage.code,'STATUS_BAR_'+e)}},{key:'hide',value:function(){this._isVisible=!1,this.menuElem=Ha(Wa('nothing',null),this.rootElem,this.menuElem)}},{key:'renderMenu',value:function(e){this._isVisible&&(this.menuElem=Ha(Wa(Oa,{message:e}),this.rootElem,this.menuElem),this.reactMounts=[this.rootElem,this.menuElem])}}]),t}(Et.a);Ga.handle='statusBar',Ga.type='background',wt['default'].defineControl(Ga);
;var qa=function(){function e(e,t){for(var n,a=0;a<t.length;a++)n=t[a],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function he(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function ge(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function ye(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Qa=wt['default'].lib('preact'),Ka=Qa.h,Ya=Qa.render,Xa=wt['default'].lib('player/translations'),Ja=Xa.getTranslation,Za=wt['default'].lib('utilities/detect'),$a=Za.cachedDetect,er=$a(),tr=function(e){function t(e){he(this,t);var n=ge(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return or.call(n),n.unbinds.push(e.on('play',n.renderButton),e.on('pause',n.renderButton),e.on('end',n.renderButton)),n}return ye(t,e),qa(t,[{key:'mountButton',value:function(e){this.buttonRoot=e,this.renderButton()}},{key:'t',value:function(e){return Ja(this.props.playerLanguage,'PLAY_BUTTON_'+e)}}]),t}(Et.a),or=function(){var e=this;this.renderButton=function(){if(e.buttonRoot&&('playing'===e.video.state()?e.setButtonLabel(e.t('TITLE_WHEN_PLAYING')):e.setButtonLabel(e.t('TITLE_WHEN_NOT_PLAYING')),e.buttonElem=Ya(Ka(ho,{isPlaying:'playing'===e.video.state()}),e.buttonRoot,e.buttonElem),e.reactMounts=[e.rootElem,e.thumbnailElem],er.trident)){var t=e.buttonRoot.parentNode;t.style.display='none',setTimeout(function(){t.style.display=''},1)}},this.onClickButton=function(){var t=e.video;'playing'===t.state()?t.pause():t.play()}};tr.shouldMount=function(e){var t=e._opts.smallPlayButton;return!0===t||null==t},tr.handle='smallPlayButton',tr.type='control-bar-left',tr.width=50,tr.sortValue=100;wt['default'].defineControl(tr);
;var nr=function(){function e(e,t){for(var n,a=0;a<t.length;a++)n=t[a],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function fe(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function _e(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function be(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var ir=wt['default'].lib('preact'),ar=ir.h,rr=ir.render,lr=ir.Component,sr=wt['default'].lib('utilities/obj'),dr=wt['default'].lib('player/lib/elem'),pr=dr.elemInDom,ur=wt['default'].lib('player/translations'),cr=ur.getTranslation,mr=wt['default'].lib('player/lib/hosts'),hr=mr.cdnFastWistiaNetHost,gr=function(e){function t(e){fe(this,t);var n=_e(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.initialState=n.state={isLoaded:!1,waited1Second:!1,isDisplaying:!1},n.onDisplay=n.props.onDisplay,n}return be(t,e),nr(t,[{key:'componentWillReceiveProps',value:function(e){e.images!==this.props.images&&(clearTimeout(this.loadTimeout),this._sortedImages=null,this.loadTimeout=null,this.setState({isLoaded:!1,waited1Second:!1,isDisplaying:!1})),!this.onDisplay&&e.onDisplay&&(this.onDisplay=e.onDisplay)}},{key:'render',value:function(){var t=this;return ar('img',{class:'w-css-reset',srcset:this.srcSet(),src:this.bestSrc(),style:this.imgStyle(),alt:this.t('VIDEO_THUMBNAIL'),ref:function(n){return t.imgElem=n}})}},{key:'t',value:function(e){return cr(this.props.playerLanguage,'THUMBNAIL_'+e)}},{key:'componentDidMount',value:function(){this.setStateBasedOnImgStatus(),this.maybeCallOnDisplay(this.initialState)}},{key:'componentDidUpdate',value:function(e,t){this.setStateBasedOnImgStatus(),this.maybeCallOnDisplay(t)}},{key:'maybeCallOnDisplay',value:function(){this.onDisplay&&this.state.isDisplaying&&!this.calledOnDisplay&&(this.calledOnDisplay=!0,this.onDisplay())}},{key:'setStateBasedOnImgStatus',value:function(){var e=this,t=this.state,n=this.imgElem;t.isLoaded||(!n.onload&&(n.onload=function(){pr(n)&&e.setState({isLoaded:!0})}),n.complete&&this.setState({isLoaded:!0})),this.loadTimeout||t.waited1Second||(this.loadTimeout=setTimeout(function(){e.setState({waited1Second:!0})},1e3)),!t.isDisplaying&&(t.isLoaded||t.waited1Second)&&this.setState({isDisplaying:!0})}},{key:'imgStyle',value:function(){var e=this.state,t=e.isDisplaying,n=this.props.backgroundColor||'#000';return t&&this.props.isVisible?sr.assign(this.letterboxStyle(),{background:n,display:'block'}):sr.assign(this.letterboxStyle(),{display:'none',visibility:'hidden'})}},{key:'letterboxStyle',value:function(){var e=Math.max,t=Math.round,n=this.props,i=n.videoWidth,a=n.videoHeight,r=i/a,l=this._customAspect||this.bestImage().aspect,s,d;!1===n.stillSnap?(s=i,d=a):r>l?(d=a,s=t(d*l)):r<=l&&(s=i,d=t(s/l));var p=e(0,a-d),u=e(0,i-s),c=t(p/2),m=t(u/2),h=c,g=m,y=c,f=m;2*y<=this.stretchLimit()&&(y=0,h=0,d=a),2*f<=this.stretchLimit()&&(f=0,g=0,s=i);var _=this.props.backgroundColor||'#000';return{borderTop:h+'px solid '+_,borderBottom:y+'px solid '+_,borderLeft:f+'px solid '+_,borderRight:g+'px solid '+_,boxSizing:'content-box',height:d+'px',left:0,top:0,webkitTouchCallout:'none',width:s+'px'}}},{key:'bestSrc',value:function(){return this.bestImage().url}},{key:'srcSet',value:function(){var e=this.sortedImages();return 0===e.length&&(e=[this.blankImage()]),e.map(function(e){return e.url+' '+e.width+'w'}).join(', ')}},{key:'blankImage',value:function(){return{height:this.props.videoHeight,url:'https://'+hr()+'/assets/images/blank.gif',width:this.props.videoWidth}}},{key:'bestImage',value:function(){var e=this.sortedImages();if(0===e.length)return this.blankImage();var t=this.props.videoWidth,n=(window.devicePixelRatio||1)*t;if(n<=e[0].width)return e[0];for(var a,r=0;r<e.length;r++)if(a=e[r],a.width>=n)return a;return e[e.length-1]}},{key:'sortedImages',value:function(){return this._sortedImages?this._sortedImages:(this._sortedImages=sr.clone(this.props.images),this._sortedImages.map(function(e){e.aspect=e.width/e.height}),this._sortedImages)}},{key:'stretchLimit',value:function(){var e=this.props.stretchLimit;return null==e?10:e}}]),t}(lr);
;var yr=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},fr=function(){function e(e,t){for(var n,a=0;a<t.length;a++)n=t[a],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function ve(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function Ae(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function we(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _r=wt['default'].lib('preact'),br=_r.h,vr=_r.render,Ar=wt['default'].lib('promiscuous'),wr=wt['default'].lib('utilities/detect'),kr=wr.cachedDetect,Er=kr(),Cr=function(e){function t(e){ve(this,t);var n=Ae(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Pr.call(n),n.unbinds.push(e.on('play',function(){n._hasPlayed=!0,n.maybePreloadThenRenderThumbnail()}),e.on('playrejected',n.maybePreloadThenRenderThumbnail),e.on('playpending',n.maybePreloadThenRenderThumbnail),e.on('up',n.maybePreloadThenRenderThumbnail),e.on('end',n.maybePreloadThenRenderThumbnail)),n}return we(t,e),fr(t,[{key:'mount',value:function(e){return this.rootElem=e,this.thumbnailAssets=this.video.thumbnailAssets(),this.shouldShow()?this.maybePreloadThenRenderThumbnail():void 0}},{key:'preloadUrl',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1e3;return new Ar(function(n){var i=new Image;if(i.src=e,i.complete)n({height:i.height,url:i.src,width:i.width});else{var a=!1;i.onload=function(){a||(a=!0,n({height:i.height,url:i.src,width:i.width}))},i.onerror=function(){a||(a=!0,n())},setTimeout(function(){a||n()},t)}})}},{key:'maybePreload',value:function(){var e=this;return new Ar(function(t){1===e.thumbnailAssets.length&&null==e.thumbnailAssets[0].width?e.preloadUrl(e.thumbnailAssets[0].url).then(function(n){e.thumbnailAssets=n?[n]:[],t()}):t()})}},{key:'shouldShow',value:function(){var e=this.video,t=e.lastPlayInfo(),n=Date.now()-t.issuedAt,i=!t.source||t.rejectedAt,a=t.isPending&&'user-event'===t.source&&2e3>n,r='beforeplay'===e.state()&&this._hasPlayed,l=t.isPending&&'non-user-event'===t.source&&!e.isMuted()&&(!1===e._opts.silentAutoPlay||null==e._opts.silentAutoPlay)&&(Er.iphone||Er.ipad||Er.safari);return e.up()&&'beforeplay'===e.state()&&(i||l||a||r)}},{key:'onControlPropsUpdated',value:function(e){var t=this,n=['videoWidth','videoHeight','playerLanguage'].some(function(n){return t.props[n]!==e[n]});n&&this.maybePreloadThenRenderThumbnail()}}]),t}(Et.a),Pr=function(){var e=this;this.maybePreloadThenRenderThumbnail=function(){return e.shouldShow()||e._isVisible?new Ar(function(t){e.maybePreload().then(function(){e._destroyed||e.renderThumbnail(t)})}):Ar.resolve()},this.renderThumbnail=function(t){var n=e.video,i=n.lastPlayInfo(),a=Date.now()-i.issuedAt;e._isVisible=e.shouldShow(),e.thumbnailElem=vr(br(gr,yr({},e.props,{images:e.thumbnailAssets,isVisible:e.shouldShow(),onDisplay:t})),e.rootElem,e.thumbnailElem),e._isVisible&&2e3>a&&setTimeout(function(){e._destroyed||e.renderThumbnail()},2e3-a+1),e.reactMounts=[e.rootElem,e.thumbnailElem]}};Cr.handle='thumbnail',Cr.type='background',Cr.sortValue=1e3,wt['default'].defineControl(Cr);
;var Sr=function(){function e(e,t){for(var n,a=0;a<t.length;a++)n=t[a],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function ke(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function Ee(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function Ce(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var xr=function(e){function t(e){ke(this,t);var n=Ee(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.showTime=!1,n}return Ce(t,e),Sr(t,[{key:'isPlaceholder',value:function(){return!1}},{key:'isVisible',value:function(){return'upper'===this.props.playbarMode}}]),t}(qi);xr.shouldMount=function(e){var t=e._opts.playbar;return!0===t||null==t},xr.handle='upperPlaybar',xr.type='upper-playbar',wt['default'].defineControl(xr);
;var Tr=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ir=function(){function e(e,t){for(var n,a=0;a<t.length;a++)n=t[a],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function Pe(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function Se(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function xe(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Br=wt['default'].lib('preact'),Or=Br.h,Mr=Br.render,Dr=Br.Component,Fr='opacity 100ms',Lr=function(e){function t(e){Pe(this,t);var n=Se(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={volume:e.volume},n}return xe(t,e),Ir(t,[{key:'waveCount',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.props.volume;return 0.55<e?2:0<e?1:0}},{key:'shouldComponentUpdate',value:function(e){var t=this.waveCount(),n=this.waveCount(e.volume);return t!==n}},{key:'render',value:function(){var e={fill:'none',stroke:'#ffffff',"stroke-line-cap":'round',"stroke-miterlimit":'10'};return Or('svg',Object(Ct.standardSvgAttrs)(40,34),Or('g',{style:this.speakerGroupStyle()},Or('g',null,Or('path',{d:'M13.8,14.2c-0.5,0.5-1.4,0.8-2,0.8h-1.6C9.5,15,9,15.5,9,16.2v1.6c0,0.7,0.5,1.2,1.2,1.2h1.6c0.7,0,1.6,0.4,2,0.8l2.3,2.3c0.5,0.5,0.8,0.3,0.8-0.4v-9.6c0-0.7-0.4-0.8-0.8-0.4L13.8,14.2z'})),Or('g',null,Or('path',Tr({},e,{"stroke-width":'2',d:'M22,11.7c0,0,1.1,2.5,1.1,5s-1.1,5-1.1,5',style:this.wave1Style()})),Or('path',Tr({},e,{"stroke-width":'2',d:'M25.8,9.2c0,0,1.7,3.8,1.7,7.5c0,3.7-1.7,7.5-1.7,7.5',style:this.wave2Style()}))),Or('g',{style:this.waveXStyle()},Or('line',Tr({},e,{"stroke-width":'1.8102',x1:'19.2',y1:'15',x2:'23.2',y2:'19'})),Or('line',Tr({},e,{"stroke-width":'1.8102',x1:'19.2',y1:'19',x2:'23.2',y2:'15'})))))}},{key:'speakerGroupStyle',value:function(){return{transform:'translateX('+(2>this.waveCount()?3:1.25)+'px)',transition:'transform 100ms'}}},{key:'waveXStyle',value:function(){return{opacity:0>=this.waveCount()?1:0,transition:Fr}}},{key:'wave1Style',value:function(){return{opacity:1<=this.waveCount()?1:0,transition:Fr}}},{key:'wave2Style',value:function(){return{opacity:2<=this.waveCount()?1:0,transition:Fr}}}]),t}(Dr);
;var Nr=function(){function e(e,t){for(var n,a=0;a<t.length;a++)n=t[a],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function Te(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function Ie(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function Be(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Wr=wt['default'].lib('player/lib/elem'),Hr=Wr.elemBind,Rr=Wr.elemIsInside,jr=Wr.elemUnbind,Vr=Wr.formInputIsFocused,Ur=wt['default'].lib('preact'),zr=Ur.h,Gr=Ur.render,qr=wt['default'].lib('player/translations'),Qr=qr.getTranslation,Kr=wt['default'].lib('utilities/detect'),Yr=Kr.cachedDetect,Xr=Yr(),Jr=wt['default'].lib('promiscuous'),Zr=function(e){function t(e){Te(this,t);var n=Ie(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return $r.call(n),n.unbinds.push(e.on('volumechange',function(){n.buttonRoot&&n.buttonElem&&n.renderButton(),n.dialogRoot&&n.sliderElem&&n.renderSlider()}),Hr(document,'keyup',n.onKeyUp),Hr(document,'keydown',n.onKeyDown)),n}return Be(t,e),Nr(t,[{key:'onControlPropsUpdated',value:function(){this.dialog.isOpen()&&this.renderSlider()}},{key:'mountButton',value:function(e){this.buttonRoot=e,this.renderButton()}},{key:'mountDialog',value:function(e){return this.dialogRoot=e,this.renderSlider()}},{key:'renderButton',value:function(){this.buttonRoot&&(this.setButtonLabel(this.video.isMuted()?this.t('TITLE_WHEN_MUTED'):this.t('TITLE_WHEN_UNMUTED')),this.buttonElem=Gr(zr(Lr,{volume:this.video.isMuted()?0:this.video.volume()}),this.buttonRoot,this.buttonElem),this.reactMounts.button=[this.buttonRoot,this.buttonElem])}},{key:'t',value:function(e){return Qr(this.props.playerLanguage,'VOLUME_'+e)}},{key:'loadSliderCode',value:function(){return Wistia.asyncRequire('vulcanV2Video/ui_components/VolumeSlider.js')}},{key:'renderSlider',value:function(){var e=this;if(this.dialogRoot&&this.dialog.isOpen()){var t=this.props.scale,n=this.loadSliderCode().then(function(n){e.sliderElem=Gr(zr(n,{volume:e.video.isMuted()?0:e.video.volume(),scale:t,onDragStart:e.onDragSliderStart,onDrag:e.onDragSlider,onDragEnd:e.onDragSliderEnd,onFocus:e.onFocusSlider,onBlur:e.onBlurSlider}),e.dialogRoot,e.sliderElem),e.reactMounts.dialog=[e.dialogRoot,e.sliderElem]});return this.loading(new Jr(function(t){e.resolveLoading&&e.resolveLoading(),e.resolveLoading=t,n.then(t)})),n}}},{key:'getButtonTitle',value:function(){return 0===this.video.volume()?'Unmute':'Mute'}},{key:'toggleMute',value:function(){var e=this.video;e.isMuted()?(0===e.volume()&&e.volume(1),e.unmute()):e.mute()}}]),t}(Et.a),$r=function(){var t=this;this.onDragSliderStart=function(n,e){t.video.requestControls('volume-slider'),t.onDragSlider(n,e)},this.onDragSlider=function(n,e){var i=t.video;i.volume(e),i.isMuted()||0!==e||i.mute(),i.isMuted()&&0<e&&i.unmute()},this.onDragSliderEnd=function(n,e){t.onDragSlider(n,e),t.video.releaseControls('volume-slider')},this.onClickButton=function(){Xr.touchScreen||t.toggleMute()},this.onFocusInButton=function(){t.video.enterInputContext('volume-button-focus')},this.onFocusOutButton=function(){t.video.exitInputContext('volume-button-focus')},this.onMouseLeave=function(){t.resolveLoading&&(t.resolveLoading(),t.resolveLoading=null)},this.onFocusSlider=function(){t.video.enterInputContext('volume-slider-focus')},this.onBlurSlider=function(){t.video.exitInputContext('volume-slider-focus')},this.onKeyUp=function(n){if(!Vr()){var e=t.video,i=e.getInputContext();('player-mouseover'===i||'player-focus'===i||'volume-button-focus'===i||'volume-slider-focus'===i)&&n.keyCode===77&&(e.isMuted()?e.unmute():e.mute())}},this.onKeyDown=function(n){if(!Vr()){var e=t.video,i=e.getInputContext();if('player-mouseover'===i||'player-focus'===i||'volume-slider-focus'===i){var a=n.keyCode,r=0;if(a===38?r=1:a===40&&(r=-1),1==r){var l=n.shiftKey?0.01:0.1;e.volume(e.volume()+l)}else if(-1==r){var s=n.shiftKey?0.01:0.1;e.volume(e.volume()-s)}}}}};Zr.shouldMount=function(e){var t=e._opts.volumeControl;return(!0===t||null==t)&&!Xr.iphone&&!Xr.ipad&&!Xr.android},Zr.handle='volumeButton',Zr.type='control-bar-right',Zr.sortValue=100,Zr.toggleDialogOnHover=!0,wt['default'].defineControl(Zr);
;var el=n(157),tl=function(){function e(e,t){for(var n,a=0;a<t.length;a++)n=t[a],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),ol=function e(t,n,i){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(i)};function Oe(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function Me(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function De(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var nl=wt['default'].lib('utilities/event_loop'),il=nl.globalEventLoop,al=wt['default'].lib('promiscuous'),rl=function(e){function t(){var e,i,a,r;Oe(this,t);for(var l=arguments.length,s=Array(l),d=0;d<l;d++)s[d]=arguments[d];return r=(i=(a=Me(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a),a.maybeFireStateAndTimeEvents=function(){a.fireStateChangedEventsIfChanged(),a.fireTimeChangedEventsIfChanged()},a.onPause=function(){a.maybeFireStateAndTimeEvents()},a.onPlaying=function(){a._beforePlay=!1,a._ended=!1,a.maybeFireStateAndTimeEvents()},a.onEnded=function(){a.maybeFireStateAndTimeEvents()},a.onVolumeChange=function(){var e=a.impl.isMuted();a.impl.trigger('volumechange',a.impl.volume(),e),e!==a._isMuted&&(a._isMuted=e,a.impl.trigger('mutechange',e))},a.onRateChange=function(){a.impl.trigger('ratechange',a.impl.playbackRate())},a.onProgress=function(t){a.impl.trigger('progress',t)},a.onError=function(t){a.impl.trigger('error',t)},a.onSeeking=function(t){a.impl.trigger('seeking',t),a.engine.bind('seeked',function(t){return a.impl.trigger('seekcomplete',t),a.engine.unbind})},a.onCustomWaiting=function(e){a._waiting=e,a.impl.trigger('waiting',e)},a.onCustomDoneWaiting=function(e){a._waiting=-1,a.impl.trigger('done-waiting',e)},a.fireTimeChangedEventsIfChanged=function(){var e=Math.floor,t=a.impl,i=t.time(),r=i!==a._lastTimePosition,l='beforeplay'===t.state()&&0.3>i;return r&&0<i&&!l&&(a._ended=!1,t.trigger('timechange',i),e(i)!==e(a._lastTimePosition)&&t.trigger('secondchange',e(i)),!a._beforePlay&&!a._ended&&n(i-a._lastTimePosition)>t._attrs.seekThreshold&&t.trigger('seek',i,a._lastTimePosition),a._lastTimePosition=i),al.resolve()},i),Me(a,r)}var n=Math.abs;return De(t,e),tl(t,[{key:'init',value:function(){var e=this;this.resetState(),this.impl.whenVideoElementInDom().then(function(){return e.doInit()})}},{key:'doInit',value:function(){var e=this,t=this.impl,n=t.engine;this.unbinds.push(n.bind('pause',this.onPause),n.bind('playing',this.onPlaying),n.bind('ended',this.onEnded),n.bind('volumechange',this.onVolumeChange),n.bind('ratechange',this.onRateChange),n.bind('progress',this.onProgress),n.bind('custom-waiting',this.onCustomWaiting),n.bind('custom-done-waiting',this.onCustomDoneWaiting),n.bind('error',this.onError)),il.add(t.uuid+'.events',t._eventLoopDuration,function(){if(!t.looksDown()){e.fireStateChangedEventsIfChanged(),e.fireTimeChangedEventsIfChanged();var n=t.videoQuality();n!==e._lastQuality&&(t.trigger('qualitychange',n),e._lastQuality=n)}})}},{key:'destroy',value:function(){il.remove(this.impl.uuid+'.events'),ol(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'destroy',this).call(this)}},{key:'resetState',value:function(){this._waiting=-1,this._lastTimePosition=-1,this._beforePlay=!0,this._ended=!1,this._isMuted=this.impl.isMuted(),this._hasPlayed=!1}},{key:'fireStateChangedEventsIfChanged',value:function(){var e=this.impl,t=e.state();t!==this._lastState&&(e.trigger('statechange',t,this._lastState),'playing'===t&&(this._hasPlayed=!0,this._ended=!1,e.trigger('play',e.lastPlayInfo())),'paused'===t&&e.trigger('pause',e.lastPauseInfo()),'ended'===t&&(this._ended=!0,e.trigger('end'),e.trigger('afterend')),'ended'!==t&&this.mozillaAtEnd()&&(e.engine.pause(),this._ended=!0,e.trigger('end'),e.trigger('afterend')),this._lastState=t)}},{key:'mozillaAtEnd',value:function(){return!this._ended&&wt['default'].detect.browser.mozilla&&45>wt['default'].detect.browser.version&&!wt['default'].detect.edge&&wt['default'].detect.windows&&0.6<=this._waiting&&2>n(this.impl.time()-this.impl.duration())}}]),t}(el.a);rl.handle='relayEvents';
;var ll=function(){function e(e,t){for(var n,a=0;a<t.length;a++)n=t[a],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function Fe(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function Le(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function Ne(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var sl=function(e){function t(){return Fe(this,t),Le(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return Ne(t,e),ll(t,[{key:'init',value:function(){var e=this,t=this.impl,n=t.publicApi;this.unbinds.push(n.on('enterviewport',function(){t.inFullscreen()||e._isSuspended&&(e._isSuspended=!1,n._playSuspendedOffScreenEnabled()&&'paused'===t.state()&&t.play())}),n.on('leaveviewport',function(){t.inFullscreen()||!e._isSuspended&&n._playSuspendedOffScreenEnabled()&&'playing'===t.state()&&(t.pause(),e._isSuspended=!0)}),t.on('receivepause',function(){e._isSuspended&&(e._isSuspended=!1)}))}}]),t}(el.a);sl.handle='playSuspendedOffScreen';
;var dl=function(){function e(e,t){for(var n,a=0;a<t.length;a++)n=t[a],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function We(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function He(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function Re(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var pl=wt['default'].lib('player/lib/elem'),ul=pl.elemAppend,cl=pl.elemFromObject,ml=pl.elemPrepend,hl=pl.pageLoaded,gl=wt['default'].lib('player/lib/assets'),yl=function(e){function t(){var e,n,i,a;We(this,t);for(var r=arguments.length,l=Array(r),s=0;s<r;s++)l[s]=arguments[s];return a=(n=(i=He(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),i),i.updateBackgroundColor=function(){var e=i.impl;if(e.videoWrapper&&!e._replacing)if('transparent'===e._opts.wmode&&!e.inFullscreen())e.videoWrapper.style.backgroundColor='transparent';else{var t=e._attrs.playerBackgroundColor||e._opts.backgroundColor||'#000';e.videoWrapper.style.backgroundColor=t||'#000'}},n),He(i,a)}return Re(t,e),dl(t,[{key:'init',value:function(){this.unbinds.push(this.impl.on('playerbackgroundcolorchange',this.updateBackgroundColor),this.impl.publicApi.on('transitiondone',this.updateBackgroundColor))}},{key:'embed',value:function(e){var t=this,n=this.impl;n.oldImpl=e,n.resetStateVariables(),n.videoWrapper=cl({class:'w-video-wrapper w-css-reset',style:{clip:'rect(0,0,0,0)',height:'100%',position:'absolute',top:0,width:'100%'}}),this.updateBackgroundColor(),ml(n.implContainer(),n.videoWrapper),n.uiContainer||(n.uiContainer=cl({class:'w-ui-container',style:{height:'100%',pointerEvents:n._inNativeMode()?'none':'',left:0,position:'absolute',top:0,width:'100%'}}),ul(n.implContainer(),n.uiContainer)),n.up(function(){t._preloadPreference=t.preloadValue(),n._replacing&&(t.initializeEngine(),n.info('embedded'),n.embedded(!0)),n.renderUI().then(function(){try{n.setupBindings()}catch(t){setTimeout(function(){throw t},0)}wt['default'].timeout(n.uuid+'.finish_embedding',function(){n.info('embedded'),n.embedded(!0),hl(function(){t.initializeEngine()})},0)})}),n.down()&&n.embedded(!0)}},{key:'preloadValue',value:function(){var e,t=this.impl;e=t._opts.autoPlay&&!t.publicApi.popover&&t.looksUp()?'auto':null==t._opts.preload?t._mediaData.preloadPreference:t._opts.preload;var n;if(t._mediaData.spherical){if(t._opts._inIframe)n='none';else{var i=[],a=wt['default'].data('video');for(var r in a)i.push(a[r]);n=1<i.length?'none':'auto'}}else if('metadata'===e)n='metadata';else if(!0===e||'auto'===e)n='auto';else if(!1===e||'none'===e)n='none';else{var l=[],s=wt['default'].data('video');for(var d in s)l.push(s[d]);n=t._opts._inIframe&&top!==parent?'none':t._opts._inIframe&&25<wt['default'].util.parentFramesLength()?'none':t._opts._inIframe&&(!window._allIframes||2<_allIframes.length)?'none':!t._opts._inIframe&&2<l.length?'none':t._mediaData.stats&&5e3<t._mediaData.stats.loadCount&&0.1>t._mediaData.stats.uniquePlayCount/t._mediaData.stats.uniqueLoadCount?'none':'metadata'}return n}},{key:'rebuild',value:function(){var e=this.impl;return e.info('rebuild'),e.embedded(function(){e.embedded(!1),e.ready(!1),e.removeBehaviors(),e.enginePromise=null,e.engine=null,e._oldVideoElem=e.elem(),e._whenVideoElementInDom=null,e.stopStreaming(),wt['default'].elem.remove(e.videoWrapper),e.videoWrapper=null,e.vulcanWrapper=null,e.ui=null,e.wipeOutstandingAsyncFunctions(),e.setupBehaviors(),e.embed()}),e}},{key:'checkForReady',value:function(){var e=this.impl;e._checkDownState(),e.up(function(){e.embedded(function(){e.onDimensionChangeSafe(),e.engine&&e.engine.onReady().then(function(){e.onDimensionChangeSafe(),e.ready(!0)})})})}},{key:'initializeEngine',value:function(){var e=this,t=this.impl;if(t){if(t.enginePromise)return t.enginePromise;var n=t.bestEngine();return t.enginePromise=wt['default'].asyncRequire(n).then(function(n){if(t.grid)try{t.engine=new n(t.videoWrapper,t._mediaData,e.engineAttributes(),t.oldImpl&&t.oldImpl.engine),t.oldImpl=null,t.trigger('engine-initialized'),t.setupBindings(),e.checkForReady()}catch(n){t.error(n)}})}}},{key:'engineAttributes',value:function(){var e,t=this.impl;t._opts.videoQuality?e=t._opts.videoQuality:(t._opts.videoFoam||720<=t.videoWidth())&&(e='md');var n;t._bandwidthTest().isFresh()&&(n=t._bandwidthTest().savedResult().clientKbps);var i;if(t._mediaData.secondaryMediaData)i=wt['default'].obj.clone(t._mediaData.secondaryMediaData);else if(t._opts.secondaryVideoUrl){var a=wt['default'].obj.clone(t._mediaData),r=t.originalAsset();a.assets=[{container:'mp4',ext:'mp4',codec:'x264',public:!0,url:t._opts.secondaryVideoUrl,height:r.height,width:r.width,type:'mp4_video',display_name:gl.numericSizeSnapped(r.width,r.height)+'p',status:gl.READY,created_at:new Date().getTime()}],i=a}var l=t._opts.layoutTiming;return t._opts.twoStroke&&t._opts.twoStroke.layoutTiming&&(l=t._opts.twoStroke.layoutTiming),{backgroundColor:'transparent'===t._opts.wmode?'transparent':t.playerBackgroundColor(),controls:t._inNativeMode(),duration:t._mediaData.duration,hashedId:t.hashedId(),height:t.videoHeight(),layoutTiming:l,loop:'loop'===t._opts.endVideoBehavior,muted:t._muted,playsinline:!0,preload:this._preloadPreference,qualityMax:t._attrs.qualityMax,qualityMin:t._attrs.qualityMin,savedBandwidth:n,secondaryMediaData:i,silentAutoPlay:t._opts.silentAutoPlay,trimEnd:t._opts.trimEnd,trimStart:t._opts.trimStart,videoQuality:e,volume:t._volume,width:t.videoWidth()}}}]),t}(el.a);yl.handle='embed';
;var fl=function(){function e(e,t){for(var n,a=0;a<t.length;a++)n=t[a],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function je(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function Ve(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function Ue(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var _l=function(e){function t(){var e,n,i,a;je(this,t);for(var r=arguments.length,l=Array(r),s=0;s<r;s++)l[s]=arguments[s];return a=(n=(i=Ve(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),i),i.onPlay=function(){if(null==i._startedLoadingAt)return i._startedLoadingAt=Date.now(),impl.unbind},i.onProgress=function(){var e=i.impl;if(e.engine.anyBuffered())return i._firstByteReceivedAt=Date.now(),null!=i._startedLoadingAt&&(i._timeToFirstByte=i._firstByteReceivedAt-i._startedLoadingAt),e.unbind},i.onWaiting=function(e){var t=i.impl,n=t.engine.anyBuffered();i._noDataFor5Seconds||!(5<=e)||n||(i._noDataFor5Seconds=!0,wt['default'].Metrics.videoCount(t,'player/no-data/5-seconds')),i._noDataFor10Seconds||!(10<=e)||n||(i._noDataFor10Seconds=!0,wt['default'].Metrics.videoCount(t,'player/no-data/10-seconds')),i._noDataFor15Seconds||!(15<=e)||n||(i._noDataFor15Seconds=!0,wt['default'].Metrics.videoCount(t,'player/no-data/15-seconds'))},i.onClickedPlayBeforeReady=function(){wt['default'].Metrics.videoCount(i.impl,'player/clicked-play-before-ready')},n),Ve(i,a)}return Ue(t,e),fl(t,[{key:'init',value:function(){var e=this;this.impl.whenVideoElementInDom().then(function(){return e.doInit()})}},{key:'doInit',value:function(){var e=this.impl;e.engine&&e.engine.getPreload()&&(this._startedLoadingAt=Date.now()),this.unbinds.push(e.on('play',this.onPlay),e.on('progress',this.onProgress),e.on('waiting',this.onWaiting),e.on('clicked-play-before-ready',this.onClickedPlayBeforeReady))}}]),t}(el.a);_l.handle='metrics';
;var bl=function(){function e(e,t){for(var n,a=0;a<t.length;a++)n=t[a],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function ze(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function Ge(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function qe(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var vl=function(e){function t(){return ze(this,t),Ge(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return qe(t,e),bl(t,[{key:'init',value:function(){var e=this,t=this.impl;t.embedded(function(){e.bandwidthTest().isFresh()?(e._supportsHd=e.bandwidthTest().savedResult().supportsHd,e.impl.whenVideoElementInDom().then(function(){e.impl.engine.setAttributes({supportsHd:e._supportsHd})})):e.hdAsset()&&null!=!e._supportsHd&&e.unbinds.push(t.on('play',function(){return e.doBandwidthTest(),t.unbind}))})}},{key:'bandwidthTest',value:function(){return this._bandwidthTest?this._bandwidthTest:(this._bandwidthTest=new wt['default'].BandwidthTest({timeoutLength:4e3,uuid:this.impl.uuid,saveKey:'vulcan.bandwidth'}),this._bandwidthTest)}},{key:'doBandwidthTest',value:function(){var e=this,t=this.impl;t.info('doBandwidthTest'),this._endBandwidthTestEarly||(this._endBandwidthTestEarly=function(){t.info('_endBandwidthTestEarly'),e.bandwidthTest().endEarly(),wt['default'].Metrics.videoCount(t,'player/bandwidth_test/ended_early')});var n=['seek','pause','end','switched-to-asset-without-load'];n.map(function(n){e.unbinds.push(t.on(n,e._endBandwidthTestEarly))}),this._failBandwidthTestOnWaiting||(this._failBandwidthTestOnWaiting=function(){return t.info('_failBandwidthTestOnWaiting'),e.bandwidthTest().fail(),wt['default'].Metrics.videoCount(t,'player/bandwidth_test/failed'),t.unbind}),this.unbinds.push(t.on('waiting',this._failBandwidthTestOnWaiting)),this._endBandwidthTestOnTime=function(){t.info('_endBandwidthTestOnTime'),e._supportsHd=e.bandwidthTest().supportsHd(),t.engine.setAttributes({supportsHd:!0}),e._failBandwidthTestOnWaiting&&t.unbind('waiting',e._failBandwidthTestOnWaiting),e._endBandwidthTestEarly&&n.map(function(n){t.unbind(n,e._endBandwidthTestEarly)}),wt['default'].Metrics.videoCount(t,'player/bandwidth_test/ended_on_time')},this.bandwidthTest().bind('ended',this._endBandwidthTestOnTime),this.bandwidthTest().start()}},{key:'supportsHd',value:function(){return!!this.hdAsset()&&(null==this._supportsHd||this._supportsHd)}},{key:'hdAsset',value:function(){if(this._hdAsset)return this._hdAsset;var e=this.impl;return this._hdAsset=e.playableAssetInRange({width:[980,e._opts.maxHdWidth||2e3],sortBy:'width desc, bitrate desc'}),this._hdAsset}}]),t}(el.a);vl.handle='bandwidthTest';
;var Al=function(){function e(e,t){for(var n,a=0;a<t.length;a++)n=t[a],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function Qe(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function Ke(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function Ye(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var wl=wt['default'].lib('player/lib/elem'),kl=wl.inUserEventContext,El=wt['default'].lib('utilities/detect'),Cl=El.cachedDetect,Pl=Cl(),Sl=function(e){function t(){var e,n,i,a;Qe(this,t);for(var r=arguments.length,l=Array(r),s=0;s<r;s++)l[s]=arguments[s];return a=(n=(i=Ke(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),i),i.onEnterFullscreen=function(e){var t=i.impl;e===t.chrome?(t.info('_onEnterFullscreen'),t.trigger('before-enter-fullscreen'),i._hasBeenInFullscreen=!0,i._inFullscreen=!0,t.notFullscreen(!1),i.injectFullscreenStyles(),t.behaviors.embed.updateBackgroundColor(),t.width(wt['default'].elem.width(window),{fullscreen:!0,dontChangeContainer:!0}),t.height(wt['default'].elem.height(window),{fullscreen:!0,dontChangeContainer:!0}),t.engine&&t.engine.onEnterFullscreen(),t.trigger('enter-fullscreen')):t.elem().webkitDisplayingFullscreen&&(i._hasBeenInFullscreen=!0,i._inFullscreen=!0,i._nativeFullscreen=!0,t.notFullscreen(!1),t.trigger('enter-fullscreen'))},i.onCancelFullscreen=function(){var e=i.impl;i._nativeFullscreen?(i._nativeFullscreen=!1,i._inFullscreen=!1,e.notFullscreen(!0),e.trigger('cancel-fullscreen')):i._inFullscreen&&(e.info('onCancelFullscreen'),i._inFullscreen=!1,e.notFullscreen(!0),i.removeFullscreenStyles(),e.behaviors.embed.updateBackgroundColor(),e.width(i._widthBeforeFullscreen),e.height(i._heightBeforeFullscreen),e.fit(),e.engine&&e.engine.onLeaveFullscreen(),e.trigger('cancel-fullscreen'))},i.onOrientationChange=function(){var e=i.impl;if(i.fullscreenResizeToWindow(),-90===window.orientation||90===window.orientation){if('playing'!==e.state()||e.engine.isMuted())return;e.requestFullscreen()}else e.cancelFullscreen()},i.maybeAutoFullscreen=function(){var e=i.impl._inNativeMode()&&!1===i.impl._opts.playsinline&&kl()&&!i._hasAutoFullscreened;e&&(i._hasAutoFullscreened=!0,i.requestFullscreen())},n),Ke(i,a)}return Ye(t,e),Al(t,[{key:'init',value:function(){var e=this,t=this.impl;this.unbinds.push(wt['default'].on('enter-fullscreen',this.onEnterFullscreen),wt['default'].on('cancel-fullscreen',this.onCancelFullscreen),wt['default'].elem.bind(window,'resize',function(){e.fullscreenResizeToWindow()}),t.on('playpending',this.maybeAutoFullscreen)),t.whenVideoElementInDom().then(function(){t.engine.bind('webkitbeginfullscreen',e.onEnterFullscreen),t.engine.bind('webkitendfullscreen',e.onCancelFullscreen)}),this.getIsFullscreenOnRotateToLandscape()&&(window.screen.orientation?this.unbinds.push(wt['default'].elem.bind(window.screen.orientation,'change',this.onOrientationChange)):this.unbinds.push(wt['default'].elem.bind(window,'orientationchange',this.onOrientationChange)))}},{key:'fullscreenResizeToWindow',value:function(){var e=this.impl;if(e.inFullscreen()&&!this._nativeFullscreen){e.debug('fullscreenResizeToWindow');var t=e.width(),n=e.height(),i=wt['default'].elem.width(window),a=wt['default'].elem.height(window);t!==i&&e.width(wt['default'].elem.width(window),{fullscreen:!0,dontChangeContainer:!0}),n!==a&&e.height(wt['default'].elem.height(window),{fullscreen:!0,dontChangeContainer:!0})}}},{key:'injectFullscreenStyles',value:function(){if(!this._fullscreenStyle){document.body.id||(this._docBodyId=wt['default'].seqId('wistia_','_tmp_body_id'),document.body.setAttribute('id',this._docBodyId));var e='\n      #'+document.body.id+', #'+document.body.id+' :full-screen-ancestor {\n        animation-name: none;\n        -webkit-animation-name: none;\n        transform: none;\n        -webkit-transform: none;\n      }\n    ';['webkit','moz','ms','o'].map(function(t){e+='\n      #'+document.body.id+' :-'+t+'-full-screen-ancestor {\n        animation-name: none;\n        -webkit-animation-name: none;\n        transform: none;\n        -webkit-transform: none;\n      }\n      \n'}),this._fullscreenStyle=wt['default'].css(this.impl.wrapperElem,e)}}},{key:'removeFullscreenStyles',value:function(){this._fullscreenStyle&&(this._docBodyId&&document.body.id===this._docBodyId&&(document.body.removeAttribute('id'),this._docBodyId=null),wt['default'].elem.remove(this._fullscreenStyle),this._fullscreenStyle=null)}},{key:'requestFullscreen',value:function(){var e=this.impl;e.inFullscreen()||(e.info('requestFullscreen'),this._widthBeforeFullscreen=e.width(),this._heightBeforeFullscreen=e.height(),e._inNativeMode()?e.engine&&e.engine.requestFullscreen():Pl.fullscreenEnabled?wt['default'].elem.requestFullscreen(e.chrome):this.getAllowFakeFullscreen()?this.enterFakeFullscreen():e.engine&&('beforeplay'===e.state()&&(Pl.iphone||Pl.ipad)&&e.engine.play().then(function(){return e.engine.pause()}),e.engine&&e.engine.requestFullscreen()))}},{key:'cancelFullscreen',value:function(){var e=this.impl;e.inFullscreen()&&(e.info('cancelFullscreen'),e._inNativeMode()?e.engine.cancelFullscreen():Pl.fullscreenEnabled?wt['default'].elem.cancelFullscreen():this.getAllowFakeFullscreen()?this.cancelFakeFullscreen():e.engine.cancelFullscreen())}},{key:'getAllowFakeFullscreen',value:function(){return!this.impl._opts._inIframe&&10<=Pl.ios.version&&!1!==this.impl._opts.fakeFullscreen}},{key:'getIsFullscreenOnRotateToLandscape',value:function(){if(!Pl.touchScreen)return!1;if(0<Pl.ios.version&&10>Pl.ios.version)return!1;var e=this.impl._opts.fullscreenOnRotateToLandscape;return null==e||e}},{key:'enterFakeFullscreen',value:function(){var e=this.impl;this._widthBeforeFullscreen=e.width(),this._heightBeforeFullscreen=e.height(),this._inFakeFullscreen=!0,this._chromeParent=e.chrome.parentNode,document.body.appendChild(e.chrome),this._leftOffsetBeforeFullscreen=wt['default'].util.scrollLeft(),this.onEnterFullscreen(e.chrome),this.setupFakeFullscreenBindings(),wt['default'].elem.style(e.chrome,{position:'fixed',top:0,left:0,zIndex:2147483647}),wt['default'].util.scrollLeft(0),e.engine&&e.engine.onEnterFullscreen()}},{key:'setupFakeFullscreenBindings',value:function(){var e=this,t=this.impl;wt['default'].eventLoop.add(t.uuid+'.fakefullscreen',100,function(){e.fullscreenResizeToWindow()}),this._preventDefaultForTouchMove||(this._preventDefaultForTouchMove=function(e){e.preventDefault()}),wt['default'].elem.rebind(t.vulcanWrapper,'touchmove',this._preventDefaultForTouchMove)}},{key:'cancelFakeFullscreen',value:function(){var e=this.impl;this._inFakeFullscreen=!1,this.onCancelFullscreen(e.chrome),this._chromeParent&&this._chromeParent.appendChild(e.chrome),e.chrome.style.position='',wt['default'].util.scrollLeft(this._leftOffsetBeforeFullscreen),wt['default'].eventLoop.remove(e.uuid+'.fakefullscreen'),e.engine&&e.engine.onLeaveFullscreen(),null!=this._preventDefaultForTouchMove&&wt['default'].elem.unbind(e.vulcanWrapper,'touchmove',this._preventDefaultForTouchMove)}},{key:'transferStateFrom',value:function(e){var t=this,n=e.behaviors&&e.behaviors.fullscreen;if(n)for(var i in n){if(n.hasOwnProperty(i)){var a=n[i];'_'===i[0]&&'function'!=typeof a&&(this[i]=a)}n._inFullscreen&&function(){var e=t.impl;e.notFullscreen(function(){e.width(t._widthBeforeFullscreen),e.height(t._heightBeforeFullscreen)})}()}}},{key:'inFullscreen',value:function(){return!!this._inFullscreen}},{key:'inNativeFullscreen',value:function(){return!!this._nativeFullscreen}}]),t}(el.a);Sl.handle='fullscreen',wt['default']._onFullscreenChange||(wt['default']._onFullscreenChange=function(){wt['default'].elem.fullscreenElement()?wt['default'].trigger('enter-fullscreen',wt['default'].elem.fullscreenElement()):wt['default'].trigger('cancel-fullscreen')},wt['default']._initializers.initFullscreenTriggers=function(){wt['default'].elem.rebind(document,'mozfullscreenchange',wt['default']._onFullscreenChange),wt['default'].elem.rebind(document,'webkitfullscreenchange',wt['default']._onFullscreenChange),wt['default'].elem.rebind(document,'MSFullscreenChange',wt['default']._onFullscreenChange),wt['default'].elem.rebind(document,'fullscreenchange',wt['default']._onFullscreenChange)},wt['default']._destructors.destroyFullscreenTriggers=function(){wt['default'].elem.unbind(document,'mozfullscreenchange',wt['default']._onFullscreenChange),wt['default'].elem.unbind(document,'webkitfullscreenchange',wt['default']._onFullscreenChange),wt['default'].elem.unbind(document,'MSFullscreenChange',wt['default']._onFullscreenChange),wt['default'].elem.unbind(document,'fullscreenchange',wt['default']._onFullscreenChange)});
;var xl=function(){function e(e,t){for(var n,a=0;a<t.length;a++)n=t[a],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function Xe(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function Je(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function Ze(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Tl=function(e){function t(){var e,n,i,a;Xe(this,t);for(var r=arguments.length,l=Array(r),s=0;s<r;s++)l[s]=arguments[s];return a=(n=(i=Je(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),i),i.onEnd=function(){'reset'===i.impl._opts.endVideoBehavior&&i.resetToFirstFrame()},n),Je(i,a)}return Ze(t,e),xl(t,[{key:'init',value:function(){this.unbinds.push(this.impl.on('end',this.onEnd))}},{key:'resetToFirstFrame',value:function(){var e=this.impl;e.info('resetToFirstFrame'),e.commandQueueOpen(function(){e.engine.reset(),e.behaviors.relayEvents.resetState()})}}]),t}(el.a);Tl.handle='endVideoBehavior';
;var Il=n(256),Bl=function(){function e(e,t){for(var n,a=0;a<t.length;a++)n=t[a],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function $e(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function et(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function tt(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Ol=wt['default'].lib('preact'),Ml=Ol.h,Dl=Ol.render,Fl=Ol.Component,Ll=wt['default'].lib('player/translations'),Nl=Ll.getTranslation,Wl=wt['default'].lib('utilities/detect'),Hl=Wl.cachedDetect,Rl=wt['default'].lib('player/lib/elem'),jl=Rl.elemHasClass,Vl=Rl.elemAncestorHasClass,Ul=Hl(),zl=function(e){function t(e){$e(this,t);var n=et(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onFocus=function(){Object(Co['default'])()||n.setState({isKeyboardFocused:!0})},n.onBlur=function(){n.state.isKeyboardFocused&&n.setState({isKeyboardFocused:!1})},n.onFocusIn=function(t){n.props.onFocusIn&&n.props.onFocusIn(t)},n.onFocusOut=function(t){n.props.onFocusOut&&n.props.onFocusOut(t)},n.onClick=function(t){if(Gl(t)&&t.preventDefault(),n.props.onClick)return n.props.onClick(t)},n.onTouchEnd=function(t){if(n.props.onTouchEnd)return n.props.onTouchEnd(t)},n.state={areControlsOpaque:e.shouldShowControls,areControlsDisplayNone:!e.shouldShowControls,isKeyboardFocused:!1},n}return tt(t,e),Bl(t,[{key:'componentWillReceiveProps',value:function(e){this.handleControlBarAnimation(e)}},{key:'render',value:function(){var t=this;return this.mountRefs={},Ml(no.a,{class:'w-vulcan-v2 w-css-reset',style:this.wrapperStyle(),onFocus:this.onFocus,onBlur:this.onBlur,onFocusIn:this.props.onFocusIn,onFocusOut:this.props.onFocusOut,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,onMouseMove:this.props.onMouseMove,onClickOrTap:this.props.onClickOrTap,onDblClick:this.props.onDblClick,onSwipe:this.props.onSwipe,onPinch:this.props.onPinch,onTouchStart:this.props.onTouchStart,onTouchMove:this.props.onTouchMove,onTouchEnd:this.onTouchEnd,onClick:this.onClick,id:this.props.domId,role:'region',"aria-label":this.t('TITLE'),tabindex:0},Ml('div',{class:'w-vulcan--background w-css-reset',style:this.backgroundStyle(),ref:this.props.backgroundRef},this.renderControlCells('background')),Ml('div',{class:'w-vulcan-overlays-table w-css-reset',style:this.layoutTableStyle()},Ml('div',{class:'w-vulcan-overlays--left w-css-reset',style:this.tdLeftStyle()},Ml('div',{style:this.tdLayoutInnerStyle(),class:'w-css-reset'},this.renderControlCells('left-flyout',{height:'100%',pointerEvents:'auto'}))),Ml('div',{class:'w-vulcan-overlays--center w-css-reset',style:this.tdCenterStyle()},Ml('div',{style:this.tdLayoutInnerStyle(),class:'w-css-reset'},this.renderControlCells('above-control-bar',{pointerEvents:'auto'}))),Ml('div',{class:'w-vulcan-overlays--right w-css-reset',style:this.tdRightStyle()},Ml('div',{style:this.tdLayoutInnerStyle(),class:'w-css-reset'},this.renderControlCells('right-flyout',{height:'100%',pointerEvents:'auto'})))),Ml('div',{class:'w-bottom-bar w-css-reset',style:this.bottomBarStyle(),ref:function(n){return t.bottomBar=n}},Ml('div',{class:'w-bottom-bar-upper w-css-reset',style:this.upperPlaybarStyle()},this.renderControlCells('upper-playbar',{height:'100%'})),Ml('div',{class:'w-bottom-bar-lower w-css-reset'},Ml('div',{class:'w-bottom-bar-left w-css-reset',style:this.bottomBarLeftStyle()},Ml('div',{class:'w-bottom-bar-left-inner w-css-reset',style:this.bottomBarLeftInnerStyle()},this.renderControlCells('control-bar-left',{display:'inline-block',verticalAlign:'top'}))),Ml('div',{class:'w-bottom-bar-middle w-css-reset',style:this.bottomBarMiddleStyle()},Ml('div',{class:'w-bottom-bar-middle-inner w-css-reset',style:this.bottomBarMiddleInnerStyle()},this.renderControlCells('lower-playbar',{height:'100%'}))),Ml('div',{class:'w-bottom-bar-right w-css-reset',style:this.bottomBarRightStyle()},Ml('div',{class:'w-bottom-bar-right-inner w-css-reset',style:this.bottomBarRightInnerStyle()},this.renderControlCells('control-bar-right',{display:'inline-block',verticalAlign:'top'}))))),Ml('div',{class:'w-foreground w-css-reset',style:this.foregroundStyle()},this.renderControlCells('foreground',{pointerEvents:'auto'})),Ml('div',{class:'w-focus-border',style:this.focusBorderStyle()}))}},{key:'componentDidMount',value:function(){this.props.mountRefs&&this.props.mountRefs(this.mountRefs),this.props.afterRender&&this.props.afterRender()}},{key:'componentDidUpdate',value:function(){var e=this.props.mountRefs,t=this.mountRefs,n=this.props.afterRender;setTimeout(function(){e&&e(t),n&&n()},1)}},{key:'wrapperStyle',value:function(){var e=this.props.inFullscreen&&!this.props.shouldShowControls;return{boxSizing:'border-box',cursor:e?'none':'default',height:'100%',left:0,pointerEvents:this.props.inNativeMode?'none':'',position:'absolute',visibility:this.props.allMounted&&this.props.doneWaitingForPlay?'visible':'hidden',top:0,width:'100%'}}},{key:'foregroundStyle',value:function(){return{height:'100%',left:0,pointerEvents:'none',position:'absolute',top:0,width:'100%'}}},{key:'backgroundStyle',value:function(){return{height:'100%',left:0,pointerEvents:this.props.inNativeMode?'none':'',position:'absolute',top:0,width:'100%'}}},{key:'layoutTableStyle',value:function(){return{display:'table',pointerEvents:'none',position:'absolute',width:'100%'}}},{key:'tdLeftStyle',value:function(){return this.standardCellStyle(0)}},{key:'tdCenterStyle',value:function(){return this.standardCellStyle('100%')}},{key:'tdRightStyle',value:function(){return this.standardCellStyle(0)}},{key:'tdLayoutInnerStyle',value:function(){return{height:this.props.videoHeight-this.props.fullControlBarHeight+'px'}}},{key:'upperPlaybarStyle',value:function(){return'upper'===this.props.playbarMode?{display:'block',height:this.props.upperControlBarHeight}:{display:'none'}}},{key:'bottomBarStyle',value:function(){return{bottom:0,borderCollapse:'collapse',display:this.state.areControlsDisplayNone?'none':'table',height:this.props.fullControlBarHeight+'px',left:0,opacity:this.state.areControlsOpaque?1:0,pointerEvents:'none',position:'absolute',tableLayout:'auto',transition:Ul.trident?'none':'opacity '+('beforeplay'===this.props.videoState?0:0.2)+'s',width:'100%'}}},{key:'bottomBarLeftStyle',value:function(){return this.standardCellStyle(0)}},{key:'bottomBarLeftInnerStyle',value:function(){return this.standardInnerStyle()}},{key:'bottomBarMiddleStyle',value:function(){return this.standardCellStyle('100%')}},{key:'bottomBarMiddleInnerStyle',value:function(){return this.standardInnerStyle()}},{key:'bottomBarRightStyle',value:function(){return this.standardCellStyle(0)}},{key:'bottomBarRightInnerStyle',value:function(){return this.standardInnerStyle()}},{key:'standardCellStyle',value:function(e){return{display:'table-cell',verticalAlign:'top',position:'relative',width:e}}},{key:'standardInnerStyle',value:function(){return{height:this.props.lowerControlBarHeight,position:'relative',whiteSpace:'nowrap'}}},{key:'focusBorderStyle',value:function(){return{border:'2px solid #fff',boxSizing:'border-box',display:this.state.isKeyboardFocused?'block':'none',height:'100%',left:0,pointerEvents:'none',position:'absolute',top:0,width:'100%'}}},{key:'renderControlCells',value:function(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return(this.props.controlsByType[e]||[]).map(function(e){var i=e.constructor.handle;return n.pointerEvents='auto',Ml(Il['default'],{mount:function(n){return t.mountRefs[i]=n},key:i,style:n,handle:i,class:'w-css-reset'})})}},{key:'handleControlBarAnimation',value:function(e){var t=this;e.shouldShowControls&&this.state.areControlsDisplayNone&&(clearTimeout(this.displayNoneTimeout),this.setState({areControlsDisplayNone:!1},function(){setTimeout(function(){t.setState({areControlsOpaque:!0})},1)})),!e.shouldShowControls&&this.state.areControlsOpaque&&this.setState({areControlsOpaque:!1},function(){clearTimeout(t.displayNoneTimeout),t.displayNoneTimeout=setTimeout(function(){t.setState({areControlsDisplayNone:!0})},Ul.trident?0:200)})}},{key:'t',value:function(e){return Nl(this.props.playerLanguage,'LAYOUT_'+e)}}]),t}(Fl),Gl=function(t){return t.target&&(jl(t.target,'w-vulcan-v2-button')||Vl(t.target,'w-vulcan-v2-button'))};
;var ql=function(){function e(e,t){for(var n,a=0;a<t.length;a++)n=t[a],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function ot(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}var Ql=wt['default'].lib('promiscuous'),Kl=wt['default'].lib('utilities/bindify'),Yl=Kl.bindify,Xl=function(){function e(t){var n=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};ot(this,e),this.dialogWillOpen=function(){return new Ql(function(e){if(n.config.dialogWillOpen){var t=n.config.dialogWillOpen();if(t&&t.then)return void t.then(e)}e()})},this.doOpen=function(){return new Ql(function(e){n._isOpen?e():(n._isOpen=!0,n._hasOpened=!0,n.ui.openDialog(n),setTimeout(e,170))})},this.dialogOpened=function(){return new Ql(function(e){n.config.dialogOpened&&n.config.dialogOpened(),e()})},this.close=function(){return n.isOpen()?n.dialogWillClose().then(n.doClose).then(n.dialogClosed):Ql.resolve()},this.dialogWillClose=function(){return new Ql(function(e){if(n.config.dialogWillClose){var t=n.config.dialogWillClose();if(t&&t.then)return void t.then(e)}e()})},this.doClose=function(){return new Ql(function(e){n._isOpen?(n._isOpen=!1,n.ui.closeDialog(n),setTimeout(e,200)):e()})},this.dialogClosed=function(){return new Ql(function(e){n.config.dialogClosed&&n.config.dialogClosed(),e()})},this.ui=t,this.config=i,this._isOpen=!1,this._hasOpened=!1}return ql(e,[{key:'open',value:function(){return this.isOpen()?Ql.resolve():this.dialogWillOpen().then(this.doOpen).then(this.dialogOpened)}},{key:'isOpen',value:function(){return this._isOpen}},{key:'hasOpened',value:function(){return this._hasOpened}},{key:'resize',value:function(){this._resizeRequestedAt=Date.now(),this.ui.resizeDialog(this)}}]),e}();Yl(Xl.prototype);
;var Jl=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Zl=function(){function e(e,t){for(var n,a=0;a<t.length;a++)n=t[a],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function nt(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function it(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function at(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var $l=wt['default'].lib('utilities/color'),es=wt['default'].lib('preact'),ts=es.h,os=es.render,ns=es.Component,is=wt['default'].lib('utilities/detect'),as=is.cachedDetect,rs=as(),ls=function(e){function t(e){nt(this,t);var n=it(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onFocus=function(t){setTimeout(function(){n.setState({isKeyboardFocused:!Object(Co['default'])()}),n.props.onFocus&&n.props.onFocus(t),!Object(Co['default'])()&&n.props.onKeyboardFocus&&n.props.onKeyboardFocus(t)},10)},n.onBlur=function(t){n.setState({isKeyboardFocused:!1}),n.props.onBlur&&n.props.onBlur(t)},n.onMouseEnter=function(){n.setState({isHovering:!0})},n.onMouseLeave=function(){n.setState({isHovering:!1})},n.interval=void 0,n.state={isKeyboardFocused:!1,isHovering:!1,opacity:'1.0'},n}return at(t,e),Zl(t,[{key:'render',value:function(){var t=this,n=this.props,e=n.buttonLabel,i={class:'w-vulcan-v2-button w-css-reset w-css-reset-tree w-css-reset-button-important',style:this.buttonStyle(),"aria-label":e,title:e,onClickOrTap:n.onClickOrTap,elemRef:function(i){t.buttonElem=i,n.buttonRef&&n.buttonRef(i)}};return rs.touchScreen||(i.onFocus=this.onFocus,i.onBlur=this.onBlur,i.onMouseEnter=this.onMouseEnter,i.onMouseLeave=this.onMouseLeave),ts(no.a,Jl({tagName:'button'},i),ts(Il['default'],{class:'w-vulcan-icon-wrapper',style:this.stubStyle(),stubRef:function(n){return t.stubRoot=n},handle:this.props.handle}))}},{key:'componentDidMount',value:function(){this.props.mount&&this.props.mount(this.stubRoot,this.anchorRoot,this.buttonElem),this.props.stubRef&&this.props.stubRef(this.stubRoot)}},{key:'createLoadingInterval',value:function(){var e=this;this.interval=setInterval(function(){var t='0.2'===e.state.opacity?'0.8':'0.2';e.setState({opacity:t})},400)}},{key:'clearLoadingInterval',value:function(){clearInterval(this.interval),this.setState({opacity:'1.0'})}},{key:'componentWillReceiveProps',value:function(e){!1===this.props.isLoading&&!0===e.isLoading?this.createLoadingInterval():!0===this.props.isLoading&&!1===e.isLoading&&this.clearLoadingInterval()}},{key:'componentDidUpdate',value:function(){var e=this;this.props.stubRef&&this.props.stubRef(this.stubRoot),rs.trident&&setTimeout(function(){e.base.style.display='inline-block',setTimeout(function(){e.base.style.display='block'},1)},1)}},{key:'rootStyle',value:function(){return{height:'100%',position:'relative',width:'100%'}}},{key:'buttonStyle',value:function(){var e=this.state,t=e.isHovering?.7:.95,n=new $l(this.props.color||'#000').alpha(t);return{background:n.toRgba(),boxShadow:e.isKeyboardFocused?'0 0 0 2px #fff inset':'none',cursor:'pointer',height:'100%',position:'relative',width:'100%',transition:'opacity 400ms ease',opacity:e.opacity}}},{key:'stubStyle',value:function(){return{boxSizing:'border-box',height:'100%'}}}]),t}(ns);
;var ss=function(){function e(e,t){for(var n,a=0;a<t.length;a++)n=t[a],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lt(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function st(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function dt(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var ds=wt['default'].lib('player/lib/elem'),ps=ds.elemHeight,us=ds.elemWidth,cs=wt['default'].lib('preact'),ms=cs.h,hs=cs.render,gs=cs.Component,ys=wt['default'].lib('promiscuous'),fs=wt['default'].lib('utilities/detect'),_s=fs.cachedDetect,bs=wt['default'].lib('utilities/event_loop'),vs=bs.globalEventLoop,As=wt['default'].lib('utilities/seqid'),ws=_s(),ks=40,Es=function(e){function t(e){lt(this,t);var n=st(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Cs.call(n),n.uuid=As(),n.state={isDisplayNone:!0,isOpaque:!1,widthInButtons:null},n}return dt(t,e),ss(t,[{key:'componentWillReceiveProps',value:function(e){this.props.resizeRequestedAt!==e.resizeRequestedAt&&this.setState({widthInButtons:null})}},{key:'componentWillUpdate',value:function(e,t){!0===t.isDisplayNone&&!1===this.state.isDisplayNone&&(this.cancelMeasurementLoop(),e.onBeforeDisplayNone&&e.onBeforeDisplayNone()),!1===t.isDisplayNone&&!0===this.state.isDisplayNone&&this.setupMeasurementLoop()}},{key:'render',value:function(){var e,t=this;return ms('div',{class:'w-anchor w-css-reset',style:this.anchorStyle()},ms('div',{class:'w-dialog w-css-reset',style:this.dialogStyle(),ref:this.dialogRefFn},ms(Il['default'],{style:this.stubStyle(),stubRef:function(n){return t.stubElem=n},handle:this.props.handle,class:'w-css-reset'}),this.props.shouldRenderDummy?ms('div',(e={class:'w-dummy-button',style:this.dummyStyle(),onFocus:this.props.onFocusDummy},rt(e,'class','w-css-reset'),rt(e,'tabindex','0'),e)):null))}},{key:'componentDidMount',value:function(){var e=this.props.mount(this.stubElem);this.mountPromise=e&&e.then&&e.catch?e:ys.resolve(),this.mountPromise.then(this.handleTransitionsAfterRender)}},{key:'componentDidUpdate',value:function(){this.mountPromise.then(this.handleTransitionsAfterRender)}},{key:'componentWillUnmount',value:function(){this.cancelMeasurementLoop()}},{key:'anchorStyle',value:function(){return{height:0,left:0,position:'absolute',top:0,width:'100%'}}},{key:'dialogStyle',value:function(){var e=this.props,t=this.state,n=0,i=null;if(null!=t.widthInButtons){i=t.widthInButtons*ks*e.scale;var a=e.left+i-e.canvasWidth;0<a&&(n=-1*a)}return{background:'rgba(0,0,0,.5)',bottom:0,color:'#fff',display:t.isDisplayNone?'none':'block',left:n,lineHeight:'34px',maxHeight:e.canvasHeight+'px',opacity:t.isOpaque?1:0,overflowX:'hidden',overflowY:ws.trident?'hidden':'auto',position:'absolute',transition:ws.trident?'none':'opacity 170ms',width:null==i?null:i+'px'}}},{key:'stubStyle',value:function(){return{boxSizing:'border-box',display:'inline-block',height:'100%',verticalAlign:'bottom',width:'100%'}}},{key:'dummyStyle',value:function(){return{clip:'rect(0,0,0,0)',height:'1px',position:'absolute',top:0,width:'1px'}}},{key:'setupMeasurementLoop',value:function(){vs.add(this.uuid,500,this.measureUserElem)}},{key:'cancelMeasurementLoop',value:function(){vs.remove(this.uuid)}}]),t}(gs),Cs=function(){var t=this;this.dialogRefFn=function(n){t.dialogElem=n,t.props.dialogRef&&t.props.dialogRef(n)},this.handleTransitionsAfterRender=function(){var e=t.props,n=t.state;e.isOpen?(n.isDisplayNone||n.isOpaque&&null==n.widthInButtons)&&t.setState({isDisplayNone:!1},function(){t.measureUserElem(),t.setState({isOpaque:!0})}):!n.isDisplayNone&&n.isOpaque&&t.setState({isOpaque:!1},function(){clearTimeout(t.displayNoneTimeout),t.displayNoneTimeout=setTimeout(function(){t.setState({isDisplayNone:!0})},ws.trident?0:200)})},this.measureUserElem=function(){t.stubElem.style.width='';var e=us(t.stubElem);t.stubElem.style.width='100%';var n=Math.ceil(e/(ks*t.props.scale));n!==t.state.widthInButtons&&t.setState({widthInButtons:n})}};
;var Ps=function(){function e(e,t){for(var n,a=0;a<t.length;a++)n=t[a],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function pt(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function ut(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function ct(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Ss=wt['default'].lib('player/lib/elem'),xs=Ss.elemBind,Ts=Ss.elemIsInside,Is=Ss.elemUnbind,Bs=wt['default'].lib('preact'),Os=Bs.h,Ms=Bs.render,Ds=Bs.Component,Fs=function(e){function t(){var e,n,i,a;pt(this,t);for(var r=arguments.length,l=Array(r),s=0;s<r;s++)l[s]=arguments[s];return a=(n=(i=ut(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),i),i.onClickButton=function(){var e=i.props.control;if(!1!==e.toggleDialogOnClick&&!e.constructor.toggleDialogOnHover){var t=e.dialog;t&&(t.isOpen()?t.close():t.open())}e.onClickButton&&e.onClickButton()},i.onKeyboardFocusButton=function(t){if(t.relatedTarget!==i.dummyElem){var e=i.props.control,n=e.dialog;n&&!n.isOpen()&&n.open(),e.onFocusInButton&&e.onFocusInButton(t)}},i.onBlurButton=function(t){var e=i.props.control,n=e.dialog;setTimeout(function(){var a=document.activeElement;!1===i.props.closeDialogOnFocusOut||a&&Ts(a,i.base)||!n||n.close(),e.onFocusOutButton&&e.onFocusOutButton(t)},20)},i.onMouseEnter=function(){i._isHovering=!0;var e=i.props.control;e.constructor.toggleDialogOnHover&&e.dialog.open()},i.onMouseLeave=function(t){i._isHovering=!1;var e=i.props.control;e.constructor.toggleDialogOnHover&&!i._isMouseDown&&e.dialog.close(),e.onMouseLeave&&e.onMouseLeave(t)},i.onMouseDown=function(){i._isMouseDown=!0,xs(document,'mouseup',i.onMouseUp)},i.onMouseUp=function(){i._isMouseDown=!1,Is(document,'mouseup',i.onMouseUp);var e=i.props.control;e.constructor.toggleDialogOnHover&&!i._isHovering&&e.dialog.close()},i.onFocusOut=function(){setTimeout(function(){var e=i.props.control;!1!==i.props.closeDialogOnFocusOut&&e.dialog&&e.dialog.isOpen()&&(!document.activeElement||!Ts(document.activeElement,i.base))&&e.dialog.close()},500)},i.onFocusDummy=function(){var e=i.props.control;e.dialog.close();var t=e.__nextControl();t&&t.buttonElement&&t.buttonElement.focus&&t.buttonElement.focus()},i.onBeforeDisplayNone=function(){var e=i.props.control;if(i.dialogElem&&document.activeElement&&Ts(document.activeElement,i.dialogElem)){var t=e.__nextControl();t&&t.buttonElement?t.buttonElement.focus():e.buttonElement.focus()}},i.dialogRefFn=function(t){i.dialogElem=t,i.props.dialogRef&&i.props.dialogRef(t)},n),ut(i,a)}return ct(t,e),Ps(t,[{key:'render',value:function(){var e=this.props.control,t=e.mountDialog&&e.dialog&&e.dialog.hasOpened();return Os('div',{class:'w-vulcan-button-wrapper w-css-reset',style:this.wrapperStyle(),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onMouseDown:this.onMouseDown,onFocusOut:this.onFocusOut,ref:this.props.rootRef},this.renderControlBarButton(),t?this.renderControlBarDialog():null)}},{key:'componentDidMount',value:function(){var e=this.props.buttonRef;e&&e(this.buttonElem)}},{key:'componentDidUpdate',value:function(){var e=this.props.buttonRef;e&&e(this.buttonElem)}},{key:'renderControlBarButton',value:function(){var t=this,e=this.props;return Os(ls,{onClickOrTap:this.onClickButton,onKeyboardFocus:this.onKeyboardFocusButton,onBlur:this.onBlurButton,color:e.color,buttonLabel:this.props.buttonLabel,buttonRef:function(n){return t.buttonElem=n},stubRef:e.stubRef,handle:e.control.constructor.handle,isLoading:e.control.__isDialogLoading||!1})}},{key:'renderControlBarDialog',value:function(){var e=this.props,t=e.control,n=e.videoHeight-34*e.scale;return Os(Es,{mount:function(n){return t.mountDialog(n)},left:t.props.left,top:t.props.top,canvasWidth:e.videoWidth,canvasHeight:n,scale:e.scale,isOpen:t.dialog.isOpen(),resizeRequestedAt:t.dialog._resizeRequestedAt,onFocusDummy:this.onFocusDummy,shouldRenderDummy:!!t.__nextControl(),dialogRef:this.dialogRefFn,onBeforeDisplayNone:this.onBeforeDisplayNone,handle:t.constructor.handle+'__dialog'})}},{key:'wrapperStyle',value:function(){var e=this.props.control;return{display:'inline-block',height:e.props.height,position:'relative',verticalAlign:'top',width:e.props.width}}}]),t}(Ds);
;var Ls=wt['default'].lib('utilities/obj'),Ns=Ls.assign,Ws={"background-attachment":'scroll',"background-color":'transparent',"background-image":'none',"background-position":'0 0',"background-repeat":'no-repeat',"background-size":'100% 100%'},Hs={"box-sizing":'inherit',"box-shadow":'none',color:'inherit',display:'block',float:'none',font:'inherit',"font-family":'inherit',"font-style":'normal',"font-weight":'normal',"font-size":'inherit',"letter-spacing":0,"line-height":'inherit',margin:0,"max-height":'none',"max-width":'none',"min-height":'none',"min-width":'none',padding:0,position:'static',"text-decoration":'none',"text-transform":'none',"text-shadow":'none',transition:'none',"word-wrap":'normal',"-webkit-tap-highlight-color":'rgba(0,0,0,0)',"-webkit-user-select":'none',"-webkit-font-smoothing":'antialiased'},Rs={border:0,"border-radius":0,outline:'none',position:'static'},js=function(e){var t=[];for(var n in e){var i=e[n];t.push(n+':'+i)}return t.join(';')},Vs='\n&{font-size:14px;}\ndiv,span,ul,li,label,button,img,a,svg,p{'+js(Hs)+'}\na{border:0;}\np{margin:1.4em 0;}\na,span,svg{display:inline;}\nul,ol,li{'+js(Ns({},Hs,{"list-style-type":'none',position:'static'}))+'}\nul:before,ol:before,li:before{display:none}\nul:after,ol:after,li:after{display:none}\nlabel{'+js(Ns({},Ws,{float:'none',outline:'none'}))+'}\nbutton{'+js(Ns({},Ws,Rs))+'}\nimg{'+js(Ns({},{border:0,display:'inline-block',"vertical-align":'top'},Rs))+'}\n',Us=function(e,t,n){var i=n.indexOf('{'),a=n.substring(0,i),r=n.substring(i,n.length),l=a.split(/,\s*/);return l.map(function(n){return 0<=n.indexOf('&')?''+n.replace(/\&/g,e)+t+r:''+e+n+t+r}).join('\n')},zs=function(e,t){return Vs.trim().split(/\n+/).map(function(n){return Us(e,t,n)}).join('\n')};
;var Gs=Object.assign||function(e){for(var t,n=1;n<arguments.length;n++)for(var i in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},qs=function(){function e(e,t){for(var n,a=0;a<t.length;a++)n=t[a],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),Qs=function e(t,n,i){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(i)};function mt(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function ht(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function gt(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Ks=wt['default'].lib('promiscuous'),Ys=wt['default'].lib('utilities/seqid'),Xs=wt['default'].lib('preact'),Js=Xs.h,Zs=Xs.render,$s=Xs.Component,ed=wt['default'].lib('player/lib/fit-control'),td=ed.controlMultiplierBasedOnVideo,od=wt['default'].lib('utilities/detect'),nd=od.cachedDetect,id=wt['default'].lib('player/lib/timeout-utils'),ad=id.doTimeout,rd=id.clearTimeouts,ld=wt['default'].lib('utilities/obj'),sd=ld.assign,dd=ld.clone,pd=wt['default'].lib('player/lib/elem'),ud=pd.addInlineCss,cd=pd.elemBind,md=pd.elemUnbind,hd=pd.elemIsInside,gd=pd.elemOffset,yd=pd.elemRemove,fd=pd.elemStyle,_d=pd.formInputIsFocused,bd=nd(),vd=34,Ad=40,wd=16,kd=function(e){function t(){var e,n,r,l;mt(this,t);for(var s=arguments.length,d=Array(s),p=0;p<s;p++)d[p]=arguments[p];return l=(n=(r=ht(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(d))),r),r.onFocusIn=function(t){if(!bd.trident){if(Object(Co['default'])()&&t.srcElement===r.vulcanWrapper)return void t.srcElement.blur();var e=r.isKeyboardFocused;r.isKeyboardFocused=!Object(Co['default'])(),!e&&r.isKeyboardFocused&&(r.impl.trigger('focusin',t),r.maybeToggleControls(),r.impl.enterInputContext('player-focus'))}},r.onFocusOut=function(t){bd.trident||(r.isKeyboardFocused?ad(r.impl.uuid+'.maybe_toggle_on_blur',function(){document.activeElement&&hd(document.activeElement,r.vulcanWrapper)||(r.isKeyboardFocused=!1,r.impl.trigger('focusout',t),r.impl.exitInputContext('player-focus'),r.maybeToggleControls())},1e3):ad(r.impl.uuid+'.maybe_toggle_on_blur',r.maybeToggleControls,50))},r.onMouseEnter=function(t){r.impl.trigger('mouseenter',t),r.isHovering=!0,r.maybeToggleControls(),r.impl.enterInputContext('player-mouseover')},r.onMouseLeave=function(t){r.impl.trigger('mouseleave',t),r.isHovering=!1,r.maybeToggleControls(),r.impl.exitInputContext('player-mouseover')},r.onMouseMove=function(t){if(!bd.touchScreen){var e=r.lastPageX!==t.pageX||r.lastPageY!==t.pageY;e&&(r.lastMovedMouseAt=Date.now(),r.lastPageX=t.pageX,r.lastPageY=t.pageY),r.impl.inFullscreen()&&e&&(r.maybeToggleControls(),r.shouldShowControls()&&(clearTimeout(r.maybeToggleControlsTimeout),r.maybeToggleControlsTimeout=setTimeout(r.maybeToggleControls,3e3)))}},r.onClickOrTap=function(t){r.lastMovedMouseAt=Date.now(),r.lastPageX=t.pageX,r.lastPageY=t.pageY,hd(t.target,r.backgroundElem)?bd.touchScreen?('beforeplay'===r.impl.state()?r.impl.play():r.isChromeless()?r.togglePlay():r._areControlsVisible?r.tappedToHide=!r.tappedToHide:r.tappedToHide=!1,r.maybeToggleControls(),setTimeout(r.maybeToggleControls,3e3)):r.togglePlay():(r.tappedToHide=!1,r.maybeToggleControls(),setTimeout(r.maybeToggleControls,3e3))},r.onDblClick=function(t){if(hd(t.target,r.backgroundElem)){var e=r.impl;r.impl.isControlEnabled('fullscreenButton')&&(e.inFullscreen()?e.cancelFullscreen():e.requestFullscreen())}},r.onTouchStart=function(){r._cancelSwipe=!r.impl.inFullscreen()},r.onSwipe=function(t,e){if(!r._cancelSwipe){r._swipeCtx=e;var n=r.impl,i=n.height(),a=n.width(),l=e.absYDelta/i,s=e.absXDelta/a;if(175<e.timeDelta&&(0.02>l||s>l))return r._cancelSwipe=!0,void wt['default'].elem.animate(n.chrome,{transform:'translate(0, 0)'},{time:200,callback:function(){wt['default'].elem.animate(n.chrome,{transform:''})}});if(0.02<=l&&l>s){var d=e.yDelta/i;wt['default'].elem.style(n.chrome,{transform:'translate(0, '+-1*d*i+'px)'})}}},r.onPinch=function(t,e){if(r.impl.isControlEnabled('fullscreenButton')){r._pinchCtx=e;var n,l,s=r.impl;r.impl.inFullscreen()?(n=0.3,l=2.5):(n=.8,l=2.5),e.pinchScale*=1>e.pinchScale?1+0.5*(1-e.pinchScale):1+0.25*(e.pinchScale-1);var d=i(n,a(l,e.pinchScale));wt['default'].elem.style(s.chrome,{transform:'scale('+d+')'})}},r.onTouchEnd=function(){if(r.impl.isControlEnabled('fullscreenButton')){var e=r._pinchCtx,t=r._swipeCtx;r._pinchCtx=null,r._swipeCtx=null;var n=r.impl;if(e)!n.inFullscreen()&&1.5<e.pinchScale?(wt['default'].elem.style(n.chrome,{transform:''}),n.requestFullscreen()):n.inFullscreen()&&0.7>e.pinchScale?(wt['default'].elem.style(n.chrome,{transform:''}),n.cancelFullscreen()):wt['default'].elem.animate(n.chrome,{transform:'scale(1)'},{time:400,callback:function(){wt['default'].elem.style(n.chrome,{transform:''})}});else if(t){var i=n.height(),a=n.width(),l=t.absYDelta/i,s=t.absXDelta/a,d=function(){wt['default'].elem.style(n.chrome,{transform:''})};if(0.16<l&&l>s&&500>Date.now()-t.startedAt){r._cancelSwipe=!0;var p=0<t.yDelta?-1:1;wt['default'].elem.animate(n.chrome,{transform:'translate(0, '+p*i+'px)'},{time:200,callback:function(){n.cancelFullscreen(),d()}})}else r._cancelSwipe=!0,wt['default'].elem.animate(n.chrome,{transform:'translate(0, 0)'},{time:200,callback:d})}}},r.maybeToggleControls=function(){if(!r._destroyed){var e=r._shouldShowControls;return r._shouldShowControls=r.shouldShowControls(),e===r._shouldShowControls?Ks.resolve():r.lastRenderPromise.then(function(){return r.render()})}},r.mountRefsFn=function(e){sd(r.mountRefs,e)},r.backgroundRefFn=function(t){r.backgroundElem=t},n),ht(r,l)}var n=Math.round,i=Math.max,a=Math.min;return gt(t,e),qs(t,[{key:'init',value:function(){this.mountPromises=[],this.controls={},this.controlsByType={},this.dialogs=[],this.mountRefs={},this.buttonMountRefs={},this.lastRenderPromise=Ks.resolve(),this.domId||(this.domId=Ys('w-vulcan-v2-'))}},{key:'setupBindings',value:function(){var e=this,t=this.impl;this.unbinds.push(t.on('play',function(){e.doneWaitingForPlay=!0,e.tappedToHide=!1,e.render(),bd.touchScreen&&(e.maybeToggleControls(),setTimeout(e.maybeToggleControls,3e3))}),t.on('pause',function(){bd.touchScreen&&(e.tappedToHide=!1,e.maybeToggleControls())}),t.on('playrejected',function(){e.doneWaitingForPlay=!0,e.showVideoWrapper(),e.render()}),t.on('enter-fullscreen',function(){e._scale=null,e.cachedVideoHeight=null,e.cachedVideoWidth=null,e.render(),e.maybeToggleControls()}),t.on('cancel-fullscreen',function(){e._scale=null,e.cachedVideoHeight=null,e.cachedVideoWidth=null,e.render(),e.maybeToggleControls()}),t.on('up',function(){e._scale=null,e.cachedVideoHeight=null,e.cachedVideoWidth=null,e.render()}),t.on('playerlanguagechange',function(){e.render()}),t.on('playercolorchange',function(){e.render()}),t.on('widthchange',function(){e._scale=null,e.cachedVideoWidth=null,e.render()}),t.on('heightchange',function(){e._scale=null,e.cachedVideoHeight=null,e.render()}),wt['default'].on('controldefined',function(){e.render()}),cd(document,'keyup',function(n){_d()||'player-mouseover'===t.getInputContext()&&!1!==t._opts.hoverHotkeysEnabled&&n.keyCode===32&&e.togglePlay()}),cd(window,'mouseout',function(t){var n=t.relatedTarget||t.toElement;n&&'HTML'!==n.nodeName||(e.isHovering=!1,e.impl.exitInputContext('player-mouseover'))})),t.whenVideoElementInDom().then(function(){e.unbinds.push(e.impl.engine.bind('webkitplaybacktargetavailabilitychanged',function(){setTimeout(function(){e.render()},0)}))})}},{key:'render',value:function(){var e=this,t=this.impl;if(this._destroyed||!t.grid)return new Ks(function(){});if(this._hasSetupBindings||(this._hasSetupBindings=!0,this.setupBindings()),this.cssResetStyle||(this.cssResetStyle=ud(t.uiContainer,this.cssResetContent())),null==this.doneWaitingForPlay){var n=t._isPlayPending&&'beforeplay'===t.state();this.doneWaitingForPlay=!n}return this.lastRenderPromise=new Ks(function(n){var i=e.setupControls(),a=i.newControls,r=i.existingControls;e.setControlProps();var l=null==e._shouldShowControls?e.shouldShowControls():e._shouldShowControls;e._areControlsVisible=e._shouldShowControls;e.vulcanWrapper=Zs(Js(zl,{afterRender:0<a.length?function(){e.afterRender(r,a,n)}:null,allMounted:e.allMounted,backgroundRef:e.backgroundRefFn,controlsByType:e.controlsByType,domId:e.domId,doneWaitingForPlay:e.doneWaitingForPlay,fullControlBarHeight:e.fullControlBarHeight(),inFullscreen:t.inFullscreen(),inNativeMode:e.inNativeMode(),lowerControlBarHeight:e.lowerControlBarHeight(),mountRefs:e.mountRefsFn,onClickOrTap:e.onClickOrTap,onDblClick:e.onDblClick,onFocusIn:e.onFocusIn,onFocusOut:e.onFocusOut,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onMouseMove:e.onMouseMove,onPinch:e.onPinch,onSwipe:e.onSwipe,onTouchEnd:e.onTouchEnd,onTouchStart:e.onTouchStart,playbarMode:e.playbarMode(),playerLanguage:t.playerLanguage(),shouldShowControls:l,upperControlBarHeight:e.upperControlBarHeight(),videoHeight:e.videoHeight(),videoState:t.state(),videoWidth:e.videoWidth()}),t.uiContainer,e.vulcanWrapper),0===a.length&&e.afterRender(r,a,n)})}},{key:'afterRender',value:function(e,t,n){var i=this;if(!this._destroyed&&this.impl.grid)if(this.runOnControlPropsUpdated(e),this.renderButtons(e),this.mountControls(t),this.didFirstRender)n();else{this.didFirstRender=!0;var a=new Ks(function(e){return setTimeout(e,2e3)});this.allMountedPromise=Ks.race([a,Ks.all(this.mountPromises)]).catch(function(t){setTimeout(function(){throw t},0)}).then(function(){i.allMounted=!0,i.render().then(n)}),0===this.mountPromises.length&&n(),this.doneWaitingForPlay?this.allMountedPromise.then(function(){i.showVideoWrapper()}):(ad(this.impl.uuid+'.bail_on_autoplay',function(){i.doneWaitingForPlay||(i.doneWaitingForPlay=!0,i.showVideoWrapper(),i.render())},2e3),this.showVideoWrapperAfterInitialPlay())}}},{key:'setControlProps',value:function(){var e=this,t=this.impl,i=this.videoWidth(),a=this.videoHeight(),r=this.scale(),l=t.playerLanguage(),s=this.shouldShowControls(),d=this.isChromeless(),p=this.vulcOffset=gd(t.grid.center),u=this.bottomBarOffset={left:p.left,top:p.top+this.videoHeight()-this.lowerControlBarHeight()},c=this.controlsByType['upper-playbar']&&this.controlsByType['upper-playbar'][0];c&&(c.__prevProps=c.props,c.props={chromeless:d,scale:r,videoWidth:i,videoHeight:a,controlsAreVisible:s,playerLanguage:l,width:i,height:wd*r,left:0,top:u.top});var m=0,h=0;(this.controlsByType['control-bar-left']||[]).map(function(e){e.__prevProps=e.props,e.props={chromeless:d,scale:r,playerLanguage:l,controlsAreVisible:s,videoWidth:i,videoHeight:a,height:n((e.constructor.height||vd)*r),width:n((e.constructor.width||Ad)*r),left:h},h+=e.props.width,m+=e.props.width}),this.leftControlWidth=h,(this.controlsByType['control-bar-right']||[]).map(function(e){e.__prevProps=e.props,e.props={chromeless:d,scale:r,playerLanguage:l,controlsAreVisible:s,videoWidth:i,videoHeight:a,height:n((e.constructor.height||vd)*r),width:n((e.constructor.width||Ad)*r)},m+=e.props.width});var g=0;(this.controlsByType['control-bar-right']||[]).slice().reverse().map(function(e){g+=e.props.width,e.props.left=i-g}),this.rightControlWidth=g;var y=i-m,f=this.controlsByType['lower-playbar']&&this.controlsByType['lower-playbar'][0];f&&(f.__prevProps=f.props,f.props={chromeless:d,scale:r,playerLanguage:l,videoWidth:i,videoHeight:a,controlsAreVisible:s,width:y,height:this.lowerControlBarHeight(),left:h}),this.lowerPlaybarControlWidth=y;var _=this.fullControlBarHeight();['background','foreground','left-flyout','above-control-bar','right-flyout'].map(function(t){(e.controlsByType[t]||[]).map(function(e){e.__prevProps=e.props,e.props={playerLanguage:l,chromeless:d,scale:r,videoHeight:a,videoWidth:i,controlBarHeight:_,controlsAreVisible:s}})});var b=this.playbarMode();c?(this.upperPlaybarControlHeight='upper'===this.playbarMode()?c.props.height||0:0,c.props.playbarMode=b):this.upperPlaybarControlHeight=0;var v=u.top+this.upperPlaybarControlHeight;this.eachButtonControl(function(e){e.props.top=v}),f&&sd(f.props,{playbarMode:b,top:v})}},{key:'runOnControlPropsUpdated',value:function(e){e.forEach(function(e){e.constructor.type;if('function'==typeof e.onControlPropsUpdated)try{e.onControlPropsUpdated(e.__prevProps||{})}catch(t){setTimeout(function(){throw t},0)}e.__prevProps=null})}},{key:'setupControls',value:function(){var e=this,t=this.impl,n=!1,i=[];for(var a in this.controls){var r=this.controls[a],l=r.constructor.shouldMount;if(t.isControlDisabled(a)||l&&!l(t.publicApi)){if(r.destroy)try{r.destroy()}catch(t){setTimeout(function(){throw t},1)}delete this.mountRefs[a],delete this.buttonMountRefs[a],delete this.controls[Cd(r)],n=!0,i.push(r),t.trigger('controldestroyed',a)}}var s=!1,d=[],p=[],u=function(n){var i=wt['default']._controlDefinitions[n],a=null!=e.controls[n],r=!t.isControlDisabled(n)&&(null==i.shouldMount||i.shouldMount(t.publicApi));if(r&&a&&p.push(e.controls[n]),!a&&r){try{var l=e.controls[n]=new i(t);l.mounted=new Ks(function(e){l.__didMount=function(){l.mounted.isResolved=!0,t.trigger('controlmounted',n),e()}}),d.push(l)}catch(t){setTimeout(function(){throw t},1)}s=!0}};for(var c in wt['default']._controlDefinitions)u(c);if(s||n){var m={};for(var h in this.eachControl(function(e){var t=e.constructor.type;null==m[t]&&(m[t]=[]),m[t].push(e)}),m)m[h].sort(function(e,t){return(e.constructor.sortValue||0)-(t.constructor.sortValue||0)});this.controlsByType=m,t.publicApi.controls=t.controls=this.controls}return{newControls:d,existingControls:p,destroyedControls:i}}},{key:'whenControlMounted',value:function(e){var t=this;return new Ks(function(i){t.controls[e]?i(t.controls[e]):t.impl.bind('controlmounted',function(a){if(a===e)return i(t.controls[e]),t.impl.unbind})})}},{key:'mountControls',value:function(e){var t=this;e.forEach(function(e){var n=e.constructor.type,i=Cd(e),a=t.mountRefs[i];if(e.__nextControl||(e.__nextControl=function(){return t.getControlAfter(e)}),e.loading||(e.loading=function(i){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return'control-bar-right'===n?t.renderButtonWithDialogLoader(e,i):t.renderHourglassLoader(i,a)}),'control-bar-left'!==n&&'control-bar-right'!==n)t.mountControl(e,function(){return e.mount(a)});else if(e.mountButton){var r=t.renderButtonWithDialog(e);t.mountControl(e,function(){return e.mountButton(r)})}else e.mount&&t.mountControl(e,function(){return e.mount(a)})})}},{key:'mountControl',value:function(e,t){try{var n=Cd(e),i=t();i&&i.then&&i.catch?(i.handle=n,this.mountPromises.push(i),i.then(function(){e.__didMount()})):e.__didMount()}catch(t){setTimeout(function(){throw t},0)}}},{key:'renderButtons',value:function(e){var t=this;e.forEach(function(e){e.mountButton&&t.renderButtonWithDialog(e)})}},{key:'renderButtonWithDialog',value:function(t){var e=this,n=Cd(t);try{t.mountDialog&&!t.dialog&&(t.dialog=new Xl(this,{dialogWillOpen:Ed(t.controlDialogWillOpen,t),dialogOpened:Ed(t.controlDialogOpened,t),dialogWillClose:Ed(t.controlDialogWillClose,t),dialogClosed:Ed(t.controlDialogClosed,t)}),this.dialogs.push(t.dialog))}catch(t){setTimeout(function(){throw t},0)}t.setButtonLabel||(t.setButtonLabel=function(n){t.__buttonLabel=n,e.renderButtonWithDialog(t)});var i;return this.buttonMountRefs[n]=Zs(Js(Fs,Gs({},t.props,{buttonLabel:t.__buttonLabel,color:this.impl.playerColor(),key:n+'_button_and_dialog',control:t,stubRef:function(t){return i=t},buttonRef:function(n){t.buttonElement=n},closeDialogOnFocusOut:this.impl._opts.closeDialogsOnFocusOut})),this.mountRefs[n],this.buttonMountRefs[n]),i}},{key:'renderButtonWithDialogLoader',value:function(e,t){var n=this;return new Ks(function(i){var a=n.impl.uuid+'.loading_dialog_indicator.'+Ys();ad(a,function(){n.setLoadingDialogAndRender(e,!0),bd.touchScreen?cd(document,'touchstart',function(){try{n.setLoadingDialogAndRender(e,!1)}catch(t){setTimeout(function(){throw t},0)}return i(),md}):cd(document,'mousedown',function(){try{n.setLoadingDialogAndRender(e,!1)}catch(t){setTimeout(function(){throw t},0)}return i(),md})},300),t.then(function(){rd(a),n.setLoadingDialogAndRender(e,!1),i()})})}},{key:'setLoadingDialogAndRender',value:function(e,t){e.__isDialogLoading=t,this.renderButtonWithDialog(e)}},{key:'renderHourglassLoader',value:function(e,t){var n=this;return new Ks(function(i){var a=n.impl.uuid+'.loading_indicator.'+Ys();ad(a,function(){n.controls.loadingHourglass.show(t),bd.touchScreen?cd(document,'touchstart',function(){try{n.controls.loadingHourglass.hide()}catch(t){setTimeout(function(){throw t},0)}return i(),md}):cd(document,'mousedown',function(){try{n.controls.loadingHourglass.hide()}catch(t){setTimeout(function(){throw t},0)}return i(),md})},300),e.then(function(){rd(a),n.controls.loadingHourglass.hide(),i()})})}},{key:'eachControl',value:function(e){for(var t in this.controls)e(this.controls[t])}},{key:'eachButtonControl',value:function(e){var t=(this.controlsByType['control-bar-left']||[]).concat(this.controlsByType['control-bar-right']||[]);t.forEach(e)}},{key:'playbarMode',value:function(){return 260>this.spaceForLowerPlaybar()?'upper':'lower'}},{key:'spaceForLowerPlaybar',value:function(){var e=0;return this.eachButtonControl(function(t){e+=t.props.width}),this.videoWidth()-e}},{key:'lowerControlBarHeight',value:function(){return n(vd*this.scale())}},{key:'upperControlBarHeight',value:function(){return this.impl.isControlEnabled('upperPlaybar')?'upper'===this.playbarMode()?n(wd*this.scale()):0:0}},{key:'fullControlBarHeight',value:function(){var e=this.impl;return'beforeplay'===e.state()&&!e._opts.controlsVisibleOnLoad||this.isChromeless()?0:this.lowerControlBarHeight()+this.upperControlBarHeight()}},{key:'shouldShowControls',value:function(){var e,t=this.impl;return e=!this.isChromeless()&&('beforeplay'===t.state()&&this.doneWaitingForPlay?null==t._opts.controlsVisibleOnLoad||!0===t._opts.controlsVisibleOnLoad:!!this.hasRequestedControlsVisible()||(bd.touchScreen?!this.tappedToHide&&('playing'!==t.state()||this.anyDialogOpen()||this.lastMovedMouseAt&&3e3>Date.now()-this.lastMovedMouseAt&&this.lastMovedMouseAt>t.lastPlayInfo().issuedAt):!!this.anyDialogOpen()||!!this.isKeyboardFocused||!t.inFullscreen()&&this.isHovering||t.inFullscreen()&&this.lastMovedMouseAt&&3e3>Date.now()-this.lastMovedMouseAt)),e}},{key:'hasRequestedControlsVisible',value:function(){var e=this.impl._visibilityRequests;for(var t in e)if(e[t])return!0;return!1}},{key:'togglePlay',value:function(){var e=this.impl;'playing'===e.state()?e.pause():e.play()}},{key:'showVideoWrapperAfterInitialPlay',value:function(){var e=this;this.impl.ready(function(){var t=[e.impl._playPromise,e.impl._seekPromise].filter(function(e){return null!=e});return Ks.all(t).then(function(){e.showVideoWrapper()})})}},{key:'showVideoWrapper',value:function(){fd(this.impl.videoWrapper,{clip:''})}},{key:'anyDialogOpen',value:function(){for(var e in this.controls){var t=this.controls[e];if(t.dialog&&!t.constructor.toggleDialogOnHover&&t.dialog.isOpen())return!0}return!1}},{key:'openDialog',value:function(e){this.dialogs.map(function(t){t!==e&&t.close()}),this.render()}},{key:'closeDialog',value:function(){this.render()}},{key:'resizeDialog',value:function(){this.render()}},{key:'videoWidth',value:function(){return null==this.cachedVideoWidth?this.cachedVideoWidth=this.impl.videoWidth():this.cachedVideoWidth}},{key:'videoHeight',value:function(){return null==this.cachedVideoHeight?this.cachedVideoHeight=this.impl.videoHeight():this.cachedVideoHeight}},{key:'scale',value:function(){return null==this._scale?'auto'===this.impl.controlScaling()?this._scale=a(1.3,i(0.6,td(this.impl))):this.impl.controlScaling():this._scale}},{key:'destroy',value:function(){for(var e in this.buttonMountRefs)this.buttonMountRefs.hasOwnProperty(e)&&Zs(Js('nothing',null),this.mountRefs[e],this.buttonMountRefs[e]);this.vulcanWrapper=Zs(Js('nothing',null),this.impl.uiContainer,this.vulcanWrapper),this.eachControl(function(e){if(e.destroy)try{e.destroy()}catch(t){setTimeout(function(){throw t},0)}}),this.unbinds.forEach(function(e){return e()}),yd(this.vulcanWrapper),yd(this.cssResetStyle),this.cssResetStyle=null;var n=wt['default'].lib('preact').components;for(var i in n)n.hasOwnProperty(i)&&delete n[i];Qs(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'destroy',this).call(this)}},{key:'getControlAfter',value:function(e){var t=e.constructor.type,n=this.controlsByType[t],i=n.indexOf(e),a=n[i+1];return'control-bar-left'===t&&(!a&&this.controlsByType['lower-playbar']&&(a=this.controlsByType['lower-playbar'][0]),!a&&this.controlsByType['control-bar-right']&&(a=this.controlsByType['control-bar-right'][0])),a}},{key:'hasAnyVideoChromeControls',value:function(){for(var e in this.controls){var t=this.controls[e];if(t.constructor.isVideoChrome)return!0}return!1}},{key:'hasRequestedChromeless',value:function(){var e=this.impl._visibilityRequests;for(var t in e)if(!1===e[t])return!0;return!1}},{key:'isChromeless',value:function(){return this.inNativeMode()||this.impl._opts.chromeless||this.hasRequestedChromeless()||!this.hasAnyVideoChromeControls()}},{key:'inNativeMode',value:function(){var e=this.impl._opts;return!0===e.nativeMode||!1===e.playsinline&&(bd.ipad||bd.iphone||bd.android)&&!/two_stroke/.test(this.impl.bestEngine())}},{key:'cssResetContent',value:function(){var e='#'+this.impl.chrome.id+' #'+this.impl.grid.wrapper.id,t=zs(e+' ','.w-css-reset'),n=zs(e+' .w-css-reset-tree ','');return'\n      '+t+'\n      '+n+'\n      '+e+' .w-css-reset-max-width-none-important{max-width:none!important}\n      '+e+' .w-css-reset-button-important{border-radius:0!important;color:#fff!important;}\n    '}}]),t}(el.a);kd.handle='ui';var Ed=function(e,t){return e?e.bind(t):null},Cd=function(e){return e.constructor.handle};
;var Pd=function(){function e(e,t){for(var n,a=0;a<t.length;a++)n=t[a],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();function yt(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function ft(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function _t(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Sd=function(e){function t(){var e,n,i,a;yt(this,t);for(var r=arguments.length,l=Array(r),s=0;s<r;s++)l[s]=arguments[s];return a=(n=(i=ft(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),i),i.onError=function(){var e=i.impl,t=e.getVideoElement();if(t&&t.error&&t.error.code===3&&/native_hls_video/.test(i.impl.bestEngine())){var n=e.lastPlayInfo().isPending;e.commandQueueOpen.clearSynchronized();var a=n?'playing':'not-playing';wt['default'].Metrics.videoCount(e,'player/rebuild-non-hls-on-error/'+a),i.unbinds.push(e.on('play',function(){return wt['default'].Metrics.videoCount(e,'player/rebuild-non-hls-on-error/'+a),e.unbind})),e.publicApi.fullRebuild({hls:!1,autoPlay:n})}},n),ft(i,a)}return _t(t,e),Pd(t,[{key:'init',value:function(){this.unbinds.push(this.impl.on('error',this.onError))}}]),t}(el.a);Sd.handle='playbackErrorHandling';
;var xd=function(){function e(e,t){var n,i=[],a=!0,r=!1;try{for(var l,s=e[Symbol.iterator]();!(a=(l=s.next()).done)&&(i.push(l.value),!(t&&i.length===t));a=!0);}catch(e){r=!0,n=e}finally{try{!a&&s['return']&&s['return']()}finally{if(r)throw n}}return i}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError('Invalid attempt to destructure non-iterable instance')}}(),Td=function(){function e(e,t){for(var n,a=0;a<t.length;a++)n=t[a],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),Id=function e(t,n,i){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,n);if(a===void 0){var r=Object.getPrototypeOf(t);return null===r?void 0:e(r,n,i)}if('value'in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(i)};function bt(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function vt(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function At(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var Bd=wt['default'].lib('player/lib/judy'),Od=wt['default'].lib('player/lib/assets'),Md=wt['default'].lib('preact'),Dd=Md.h,Fd=Md.render,Ld=wt['default'].lib('utilities/event_loop'),Nd=Ld.globalEventLoop,Wd=wt['default'].lib('promiscuous'),Hd=wt['default'].lib('player/lib/elem'),Rd=Hd.elemFromObject,jd=Hd.elemAppend,Vd=Hd.elemBind,Ud=Hd.elemAddClass,zd=Hd.elemOffset,Gd=Hd.elemRemoveClass,qd=Hd.elemPrepend,Qd=Hd.elemStyle,Kd=Hd.elemWidth,Yd=Hd.inUserEventContext,Xd=wt['default'].lib('utilities/obj');if(!wt['default'].VulcanV2Player){var Jd=wt['default'].Video,Zd=function(e){function t(e){bt(this,t);var n=vt(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.playerType='vulcan-v2',n._enabledControls={},n._visibilityRequests={},n._playerContext=[],n._overlays={},n.setupBehaviors(),n}var n=Math.max,i=Math.min;return At(t,e),Td(t,[{key:'setupBehaviors',value:function(){this.addBehaviors([rl,vl,yl,Tl,Sl,_l,sl,Sd,kd])}},{key:'removeBehaviors',value:function(){for(var e in this.behaviors)this.behaviors.hasOwnProperty(e)&&this.removeBehavior(e)}},{key:'elem',value:function(){return this.engine?this.engine.videoElem():(this._dummyVideo||(this._dummyVideo=document.createElement('video')),this._dummyVideo)}},{key:'embed',value:function(e){return this.behaviors.embed.embed(e)}},{key:'renderUI',value:function(){var e=this;this.ui||(this.ui=this.behaviors.ui);var t=this.ui.lastRenderPromise||Wd.resolve();return t.then(function(){return e.ui.render().then(function(){e.vulcanWrapper||(e.vulcanWrapper=e.ui.vulcanWrapper)})})}},{key:'rebuild',value:function(){return this.behaviors.embed.rebuild(this)}},{key:'onDimensionChangeSafe',value:function(){if(this.grid)try{this.onWidthChange(this.videoWidth()),this.onHeightChange(this.videoHeight())}catch(t){this.error(t)}}},{key:'transferStateFrom',value:function(e){this.behaviors.fullscreen&&this.behaviors.fullscreen.transferStateFrom(e)}},{key:'bestEngine',value:function(){return Bd.bestUsableEngine(this.publicApi.judyCtx(),this._mediaData,this._opts)}},{key:'initEngineAfterEmbedded',value:function(){var e=this;this.embedded(function(){return e.behaviors.embed.initializeEngine()})}},{key:'setupBindings',value:function(){this.setupVideoBindings()}},{key:'setupVideoBindings',value:function(){var e=this;this.publicApi.bind('click',function(){e.initEngineAfterEmbedded()}),this.publicApi.bind('mouseenter',function(){e.initEngineAfterEmbedded()}),this.publicApi.bind('focusin',function(){e.initEngineAfterEmbedded()}),this.bind('widthchange',function(t){e.onWidthChange(t)}),this.bind('heightchange',function(t){e.onHeightChange(t)})}},{key:'addBehavior',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0;null==this.behaviors&&(this.behaviors={});var n=e.handle;if(!n)return void this.error('No handle defined for',e);this.behaviors[n]&&(this.behaviors[n].destroy(),this.behaviors[n]=null);try{var i=this.behaviors[n]=new e(this);return t&&i.init(),i}catch(t){setTimeout(function(){throw t},0),delete this.behaviors[n]}}},{key:'addBehaviors',value:function(e){var t=this,n=e.map(function(e){return t.addBehavior(e,!1)});return n.map(function(n){try{n.init()}catch(i){t.error('error in init for',n.constructor.handle,'behavior'),setTimeout(function(){throw i},0)}}),n}},{key:'removeBehavior',value:function(e){this.behaviors[e]&&(this.behaviors[e].destroy(),delete this.behaviors[e])}},{key:'isMediaDataUsingEmbedSsl',value:function(){for(var e,t=0;t<this._mediaData.assets.length;t++)if(e=this._mediaData.assets[t],e.url&&/embed-ssl\.wistia\.com/.test(e.url))return!0;return!1}},{key:'onWidthChange',value:function(e){this.engine&&this.engine.onWidthChange(e)}},{key:'onHeightChange',value:function(e){this.engine&&this.engine.onHeightChange(e)}},{key:'controlScaling',value:function(e){if(null!=e){var t=this._controlScaling;this._controlScaling=e,t!==e&&this.trigger('controlscalingchange',e,t)}else return this._controlScaling||'auto'}},{key:'bigPlayButtonEnabled',value:function(e){this.setControlEnabled('bigPlayButton',e)}},{key:'bigPlayButtonTimeEnabled',value:function(e){this.isControlEnabled('bigPlayButton')&&this.ui.controls.bigPlayButton.setTimeEnabled(e)}},{key:'smallPlayButtonEnabled',value:function(e){this.setControlEnabled('smallPlayButton',e)}},{key:'playbarControlEnabled',value:function(e){this.setControlEnabled('lowerPlaybar',e),this.setControlEnabled('upperPlaybar',e)}},{key:'settingsControlEnabled',value:function(e){this.setControlEnabled('settingsButton',e)}},{key:'playbackRateControlEnabled',value:function(e){this.isControlEnabled('settingsButton')&&this.ui.controls.settingsButton.setPlaybackRateEnabled(e)}},{key:'qualityControlEnabled',value:function(e){this.isControlEnabled('settingsButton')&&this.ui.controls.settingsButton.setQualityEnabled(e)}},{key:'volumeControlEnabled',value:function(e){this.setControlEnabled('volumeButton',e)}},{key:'fullscreenButtonEnabled',value:function(e){this.setControlEnabled('fullscreenButton',e)}},{key:'hideControls',value:function(){return this.ui.releaseControls('showControls')}},{key:'showControls',value:function(){return this.requestControls('showControls',4e3)}},{key:'requestChromeless',value:function(e,t){return this.requestControls(e,t,!1)}},{key:'releaseChromeless',value:function(e){return this.releaseControls(e)}},{key:'requestControls',value:function(e,t){var n=this,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!0;return this._visibilityRequests[e]=i,null!=t&&wt['default'].timeout(this.uuid+'.'+e+'.release_controls',function(){n.releaseControls(e)},t),this.ui.maybeToggleControls()}},{key:'releaseControls',value:function(e){return this._visibilityRequests[e]=null,this.ui.maybeToggleControls()}},{key:'fit',value:function(){var e=this;Id(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'fit',this).call(this),this.embedded(function(){e.correctForIntegers()})}},{key:'correctForIntegers',value:function(){this._mediaData.secondaryMediaData||Id(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'correctForIntegers',this).call(this)}},{key:'getBuffered',value:function(){if(!this.engine)return[];var e=this.engine.activeBufferRange();if(e){var t=this.engine.activeBufferRange(),n=xd(t,2),i=n[0],a=n[1];return[{start:i,end:a}]}return[]}},{key:'rangeBuffered',value:function(){this.engine.activeBufferRange()}},{key:'timeBuffered',value:function(){var e=this.rangeBuffered();return e?e[1]-e[0]:0}},{key:'totalBuffered',value:function(){return this.engine?this.engine.totalBuffered():0}},{key:'totalPlayed',value:function(){return this.engine?this.engine.totalPlayed():0}},{key:'sequentialBufferedRange',value:function(){return this.engine?this.engine.sequentialBufferedRange():[0,0]}},{key:'requestFullscreen',value:function(){return this.behaviors.fullscreen.requestFullscreen()}},{key:'cancelFullscreen',value:function(){return this.behaviors.fullscreen.cancelFullscreen()}},{key:'inFullscreen',value:function(){return this.behaviors.fullscreen.inFullscreen()}},{key:'stopStreaming',value:function(){this.info('stopStreaming'),this.engine&&this.engine.stopStreaming()}},{key:'cleanup',value:function(){this.info('cleanup'),this.removeBehaviors()}},{key:'assetOptions',value:function(){return this.engine.selectableAssets()}},{key:'videoQuality',value:function(e){var t=this;return null==e?this.engine?this.engine.getCurrentQuality():'auto':void(this.info('videoQuality',e),this.initEngineAfterEmbedded(),this.commandQueueOpen.synchronize(function(n){t.ready(function(){t.engine.changeQuality(e,'playing'===t.state()).then(n)})}))}},{key:'selectedQuality',value:function(){return this.engine?this.engine.selectedQuality():'auto'}},{key:'selectableQualities',value:function(){return this.engine?this.engine.selectableQualities():['auto']}},{key:'stillUrl',value:function(e){return e=wt['default'].obj.merge({playButton:!1},e),Id(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'stillUrl',this).call(this,e)}},{key:'play',value:function(){var t=this;this.suppressPlay()||this.trigger('playcalled'),this.initEngineAfterEmbedded();var e=Yd()&&!this.ready();return this.info('play'),this.commandQueueOpen.synchronize(function(n){return t.suppressPlay()?void n():void(t._isPlayPending=!0,t._lastPlayType=void 0,t._lastPlaySource=$d(),t._lastPlayIssuedAt=Date.now(),t._lastPlayResolvedAt=null,t._lastPlayRejectedAt=null,t.trigger('playpending',t.lastPlayInfo()),t.ready(function(){t._calledPlay=!0,t._mozillaAtEnd()&&t.engine.setCurrentTime(0);var i={};e&&(!1===t._opts.silentAutoPlay||null==t._opts.silentAutoPlay)&&(i.silentAutoPlay='allow',t.trigger('clicked-play-before-ready')),t._playPromise=t.engine.play(i).then(function(e){t._isPlayPending=!1,t._lastPlayType=e,t._lastPlayResolvedAt=Date.now(),'play-silently'!==e||t._inSilentPlaybackMode||(t._inSilentPlaybackMode=!0,t.trigger('silentplaybackmodechange',!0)),n()}).catch(function(i){t.notice(i),t._isPlayPending=!1,t._lastPlayType=void 0,t._lastPlayRejectedAt=Date.now(),t.trigger('playrejected',t.lastPlayInfo()),n()})}))}),this}},{key:'pause',value:function(){var e=this;return this.info('pause'),this.trigger('receivepause'),this.initEngineAfterEmbedded(),this.commandQueueOpen.synchronize(function(t){e._isPausePending=!1,e._lastPauseSource=$d(),e._lastPauseIssuedAt=Date.now(),e.ready()?e.engine.pause().then(function(){e._isPausePending=!1,t()}):t()}),this}},{key:'time',value:function(a,e){var t=this;return null==a?this.engine&&this.engine.getCurrentTime()||0:(this.info('time',a),this.initEngineAfterEmbedded(),this.commandQueueOpen.synchronize(function(r){'beforeplay'===t.state()&&(t._lastPlaySource=$d(),t._lastPlayIssuedAt=Date.now(),t._isPlayPending=!0,t._lastPlayType=void 0,t._isPausePending=!0,t._lastPauseIssuedAt=t._lastPlayIssuedAt,t._lastPauseSource=t._lastPlaySource),a=n(0,i(t.duration(),a));$d();t.ready(function(){var n=e&&e.lazy&&'playing'!==t.state();return n?(t.engine.seekOnPlay(a).then(t.behaviors.relayEvents.fireTimeChangedEventsIfChanged),t._isPlayPending=!1,void r()):void('beforeplay'===t.state()?t._seekPromise=t.engine.seek(a).catch(function(n){t.notice(n),t.engine.seekOnPlay(a),t._isPlayPending=!1,r()}).then(function(e){t.behaviors.relayEvents.fireTimeChangedEventsIfChanged(),t._isPlayPending=!1,t._isPausePending=!1,t._lastPlayType=e,'play-silently'===e&&(t._inSilentPlaybackMode=!0,t.trigger('silentplaybackmodechange',!0)),r()}):(t.info('time '+a+': set immediately'),t.engine.setCurrentTime(a),t.behaviors.relayEvents.fireTimeChangedEventsIfChanged(),r()))})}),this)}},{key:'duration',value:function(){return this.engine?this.engine.getDuration():this._mediaData.duration}},{key:'volume',value:function(e){return null==e?this.engine?this.engine.getVolume():null==this._volume?1:this._volume:(this.info('volume',e),e=n(0,i(1,e)),this.initEngineAfterEmbedded(),this._volume=e,this.ready()&&this.engine.setVolume(e),this)}},{key:'mute',value:function(){this._muted=!0,this.ready()&&this.engine.mute()}},{key:'unmute',value:function(){this._muted=!1,this.ready()&&(wt['default'].detect.callingPlayRequiresEventContext?'playing'!==this.state()||Yd()?(this.engine.unmute(),this._inSilentPlaybackMode&&(this._inSilentPlaybackMode=!1,this.trigger('silentplaybackmodechange',!1))):this.notice('could not unmute'):(this.engine.unmute(),this._inSilentPlaybackMode&&(this._inSilentPlaybackMode=!1,this.trigger('silentplaybackmodechange',!1))))}},{key:'isMuted',value:function(){return this.engine?this.engine.isMuted():null==this._muted?!!this._opts.muted:this._muted}},{key:'state',value:function(){if(this.engine){var e=this.engine.getPlaybackMode();return'beforeplay'===e&&this.behaviors.relayEvents._hasPlayed?'paused':e}return'beforeplay'}},{key:'lastPauseInfo',value:function(){return{source:this._lastPauseSource,issuedAt:this._lastPauseIssuedAt,isPending:!!this._isPausePending}}},{key:'lastPlayInfo',value:function(){return{source:this._lastPlaySource,issuedAt:this._lastPlayIssuedAt,isPending:!!this._isPlayPending,playType:this._lastPlayType,resolvedAt:this._lastPlayResolvedAt,rejectedAt:this._lastPlayRejectedAt}}},{key:'playerColor',value:function(e){var t=this;return null==e?this._attrs.playerColor:void(this.info('playerColor',e),this.embedded(function(){var n=t._attrs.playerColor;e=wt['default'].Player._sanePlayerColor(e),t._attrs.playerColor=new wt['default'].Color(e).toHex(),n!==t._attrs.playerColor&&t.trigger('playercolorchange',t._attrs.playerColor,n)}),this)}},{key:'playerBackgroundColor',value:function(e){if(null!=e){this.info('playerBackgroundColor',e);var t=this._attrs.playerBackgroundColor;return this._attrs.playerBackgroundColor=new wt['default'].Color(e).toHex(),t!==this._attrs.playerBackgroundColor&&this.trigger('playerbackgroundcolorchange',this._attrs.playerBackgroundColor,t),this}return this._attrs.playerBackgroundColor}},{key:'width',value:function(e){var n=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return null==e?Id(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'width',this).call(this,e,i):i.fullscreen||!this.inFullscreen()?Id(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'width',this).call(this,e,i):(this.info('notFullscreen => width('+e+')'),this.notFullscreen(function(){Id(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'width',n).call(n,e,i)}),this)}},{key:'height',value:function(e){var n=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return null==e?Id(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'height',this).call(this,e,i):i.fullscreen||!this.inFullscreen()?Id(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'height',this).call(this,e,i):(this.info('notFullscreen => height('+e+')'),this.notFullscreen(function(){Id(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'height',n).call(n,e,i)}),this)}},{key:'videoWidth',value:function(e){var n=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return null==e?Id(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'videoWidth',this).call(this,e,i):i.fullscreen||!this.inFullscreen()?Id(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'videoWidth',this).call(this,e,i):(this.info('notFullscreen => videoWidth('+e+')'),this.notFullscreen(function(){Id(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'videoWidth',n).call(n,e,i)}),this)}},{key:'videoHeight',value:function(e){var n=this,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return null==e?Id(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'videoHeight',this).call(this,e,i):i.fullscreen||!this.inFullscreen()?Id(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'videoHeight',this).call(this,e,i):(this.info('notFullscreen => videoHeight('+e+')'),this.notFullscreen(function(){Id(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'videoHeight',n).call(n,e,i)}),this)}},{key:'playbackRate',value:function(e){var t=this;return null==e?this.engine?this.engine.getPlaybackRate():1:(this.initEngineAfterEmbedded(),this.ready(function(){t.info('playbackRate',e);var a=parseFloat(e);if(isNaN(a))return t.error('playbackRate: Invalid argument \'#{rate}\' given. Expected a float.'),t;e=a;var r=t.engine.getPlaybackRate();t.engine.setPlaybackRate(e),t._eventLoopDuration=n(50,i(500,t._baseEventLoopDuration*e)),t._playbackRate=e,r!==t._playbackRate&&t.trigger('playbackratechange',t._playbackRate)}),this)}},{key:'trim',value:function(e){var t=this;return null==e?this.engine.getTrim():void this.embedded(function(){wt['default'].obj.equalsDeep(e,t.engine.getTrim())||(t.engine.setTrim(e),t.trigger('trimchange',e))})}},{key:'captureCurrentFrame',value:function(){var e;return(e=this.engine).captureCurrentFrame.apply(e,arguments)}},{key:'getReportAProblemData',value:function(){var e=this,t=function(e){try{return e()}catch(t){return'threw exception: '+t.message}},n={media_key:this._mediaData.mediaKey,account_key:this._mediaData.accountKey,visitor_key:this.visitorKey(),event_key:this.eventKey(),referrer:document.referrer,page_url:location.href,extra_data:{first_1000_logs:wt['default'].wlog.first1000LogLines(),last_1000_logs:wt['default'].wlog.last1000LogLines(),browser_time:new Date,option_sources:t(function(){return e.publicApi._optionSources()}),embed_options:this.publicApi._opts,active_plugins:t(function(){return Object.keys(e.publicApi.plugin)}),assets:this._mediaData.assets,selectedAsset:this.engine.selectedAsset(),attrs:this._attrs,assetOptions:t(function(){return e.assetOptions()}),isScreencast:t(function(){return e.isScreencast()}),judy:t(function(){return Bd.report(e.publicApi.judyCtx(),e._mediaData,e._opts)}),detect:wt['default'].detect,engineDiagnostics:t(function(){return e.engine.diagnosticData()})}};for(var i in this.publicApi.plugin)if('vulcanVideo'!=i){var a=this.publicApi.plugin[i];'function'==typeof a.getReportAProblemData&&(n.extra_data[i]=a.getReportAProblemData())}return n}},{key:'setControlEnabled',value:function(e,t){var n=this,i=this.isControlEnabled(e)!==t;this._enabledControls[e]=t;var a=function(){t?n.trigger('controlenabled',e):n.trigger('controldisabled',e)};return i?this.embedded()?this.renderUI().then(a):new Wd(function(e){n.embedded(e),a()}):this.ui&&this.ui.lastRenderPromise||Wd.resolve()}},{key:'isControlDisabled',value:function(e){var t=wt['default']._controlDefinitions[e];return t&&t.isVideoChrome&&this._opts.chromeless||!1===this._enabledControls[e]}},{key:'isControlEnabled',value:function(e){return!1!==this._enabledControls[e]&&null!=this.publicApi.controls[e]}},{key:'whenControlMounted',value:function(e){var t=this;return new Wd(function(n){t.embedded(function(){t.behaviors.ui.whenControlMounted(e).then(n)})})}},{key:'enterInputContext',value:function(e){var t=this._playerContext.indexOf(e);0<t&&this._playerContext.splice(t,1),(-1===t||0<t)&&(this._playerContext.unshift(e),this.trigger('inputcontextchange',e))}},{key:'exitInputContext',value:function(e){var t=this.getInputContext(),n=this._playerContext.indexOf(e);this._playerContext.splice(n,1);var i=this.getInputContext();t!==i&&this.trigger('inputcontextchange',i)}},{key:'getInputContext',value:function(){return this._playerContext[0]}},{key:'getVideoElement',value:function(){return this.engine&&this.engine.videoElem()}},{key:'whenVideoElementInDom',value:function(){var e=this;return this._whenVideoElementInDom?this._whenVideoElementInDom:this.engine?void resolve(this.getVideoElement()):this._whenVideoElementInDom=new Wd(function(t){e.bind('engine-initialized',function(){return t(e.getVideoElement()),e.unbind})})}},{key:'inSilentPlaybackMode',value:function(){return!!this._inSilentPlaybackMode}},{key:'checkForReady',value:function(){this.behaviors.embed.checkForReady()}},{key:'loadOverlayCode',value:function(){var e=this,t=new wt['default'].StopGo;return this.behaviors.overlays?t.go():wt['default'].asyncRequire('vulcanV2Video/behaviors/OverlaysBehavior.js').then(function(n){e.behaviors.overlays||e.addBehavior(n),t.go()}),t}},{key:'defineOverlay',value:function(e,t){this.loadOverlayCode(),this._overlays[e]=t}},{key:'requestOverlay',value:function(e){var t=this;return this.loadOverlayCode().then(function(){return t.behaviors.overlays.requestOverlay(e)})}},{key:'cancelOverlay',value:function(e){var t=this;return this.loadOverlayCode().then(function(){return t.behaviors.overlays.cancelOverlay(e)})}},{key:'getOverlays',value:function(){return this._overlays}},{key:'layout',value:function(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return null==e?this._layout:void(this.whenVideoElementInDom().then(function(){t.engine.setLayout(e,n)}),this._layout=e)}},{key:'_inNativeMode',value:function(){return this.behaviors.ui.inNativeMode()}},{key:'_bandwidthTest',value:function(){return this.behaviors.bandwidthTest.bandwidthTest()}},{key:'_mozillaAtEnd',value:function(){return this.behaviors.relayEvents.mozillaAtEnd()}}]),t}(Jd);wt['default'].VulcanV2Player=Zd,wt['default'].plugin('vulcanV2Video',function(){wt['default'].info('vulcanV2Video no-op plugin executed')});var $d=function(){return Yd()?'user-event':'non-user-event'}}t['default']=wt['default'].VulcanV2Player;
},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var i=n(54),a=n(306);
}]);